function Ch(p,y){for(var x=0;x<y.length;x++){const A=y[x];if(typeof A!="string"&&!Array.isArray(A)){for(const v in A)if(v!=="default"&&!(v in p)){const S=Object.getOwnPropertyDescriptor(A,v);S&&Object.defineProperty(p,v,S.get?S:{enumerable:!0,get:()=>A[v]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))A(v);new MutationObserver(v=>{for(const S of v)if(S.type==="childList")for(const M of S.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&A(M)}).observe(document,{childList:!0,subtree:!0});function x(v){const S={};return v.integrity&&(S.integrity=v.integrity),v.referrerPolicy&&(S.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?S.credentials="include":v.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function A(v){if(v.ep)return;v.ep=!0;const S=x(v);fetch(v.href,S)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tu(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Au={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function wh(){if(b0)return rl;b0=1;var p=Symbol.for("react.transitional.element"),y=Symbol.for("react.fragment");function x(A,v,S){var M=null;if(S!==void 0&&(M=""+S),v.key!==void 0&&(M=""+v.key),"key"in v){S={};for(var H in v)H!=="key"&&(S[H]=v[H])}else S=v;return v=S.ref,{$$typeof:p,type:A,key:M,ref:v!==void 0?v:null,props:S}}return rl.Fragment=y,rl.jsx=x,rl.jsxs=x,rl}var N0;function vh(){return N0||(N0=1,Au.exports=wh()),Au.exports}var f=vh(),Su={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function bh(){if(T0)return We;T0=1;var p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),z=Symbol.iterator;function ne(L){return L===null||typeof L!="object"?null:(L=z&&L[z]||L["@@iterator"],typeof L=="function"?L:null)}var ce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,pe={};function Ne(L,xe,be){this.props=L,this.context=xe,this.refs=pe,this.updater=be||ce}Ne.prototype.isReactComponent={},Ne.prototype.setState=function(L,xe){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,xe,"setState")},Ne.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function we(){}we.prototype=Ne.prototype;function Ce(L,xe,be){this.props=L,this.context=xe,this.refs=pe,this.updater=be||ce}var ie=Ce.prototype=new we;ie.constructor=Ce,V(ie,Ne.prototype),ie.isPureReactComponent=!0;var ue=Array.isArray,Ie={H:null,A:null,T:null,S:null,V:null},Le=Object.prototype.hasOwnProperty;function le(L,xe,be,Te,_e,it){return be=it.ref,{$$typeof:p,type:L,key:xe,ref:be!==void 0?be:null,props:it}}function K(L,xe){return le(L.type,xe,void 0,void 0,void 0,L.props)}function F(L){return typeof L=="object"&&L!==null&&L.$$typeof===p}function se(L){var xe={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(be){return xe[be]})}var ge=/\/+/g;function fe(L,xe){return typeof L=="object"&&L!==null&&L.key!=null?se(""+L.key):xe.toString(36)}function Me(){}function Ue(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Me,Me):(L.status="pending",L.then(function(xe){L.status==="pending"&&(L.status="fulfilled",L.value=xe)},function(xe){L.status==="pending"&&(L.status="rejected",L.reason=xe)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function j(L,xe,be,Te,_e){var it=typeof L;(it==="undefined"||it==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(it){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case p:case y:Se=!0;break;case R:return Se=L._init,j(Se(L._payload),xe,be,Te,_e)}}if(Se)return _e=_e(L),Se=Te===""?"."+fe(L,0):Te,ue(_e)?(be="",Se!=null&&(be=Se.replace(ge,"$&/")+"/"),j(_e,xe,be,"",function(zn){return zn})):_e!=null&&(F(_e)&&(_e=K(_e,be+(_e.key==null||L&&L.key===_e.key?"":(""+_e.key).replace(ge,"$&/")+"/")+Se)),xe.push(_e)),1;Se=0;var En=Te===""?".":Te+":";if(ue(L))for(var Qe=0;Qe<L.length;Qe++)Te=L[Qe],it=En+fe(Te,Qe),Se+=j(Te,xe,be,it,_e);else if(Qe=ne(L),typeof Qe=="function")for(L=Qe.call(L),Qe=0;!(Te=L.next()).done;)Te=Te.value,it=En+fe(Te,Qe++),Se+=j(Te,xe,be,it,_e);else if(it==="object"){if(typeof L.then=="function")return j(Ue(L),xe,be,Te,_e);throw xe=String(L),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return Se}function G(L,xe,be){if(L==null)return L;var Te=[],_e=0;return j(L,Te,"","",function(it){return xe.call(be,it,_e++)}),Te}function J(L){if(L._status===-1){var xe=L._result;xe=xe(),xe.then(function(be){(L._status===0||L._status===-1)&&(L._status=1,L._result=be)},function(be){(L._status===0||L._status===-1)&&(L._status=2,L._result=be)}),L._status===-1&&(L._status=0,L._result=xe)}if(L._status===1)return L._result.default;throw L._result}var $=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function De(){}return We.Children={map:G,forEach:function(L,xe,be){G(L,function(){xe.apply(this,arguments)},be)},count:function(L){var xe=0;return G(L,function(){xe++}),xe},toArray:function(L){return G(L,function(xe){return xe})||[]},only:function(L){if(!F(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},We.Component=Ne,We.Fragment=x,We.Profiler=v,We.PureComponent=Ce,We.StrictMode=A,We.Suspense=_,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie,We.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Ie.H.useMemoCache(L)}},We.cache=function(L){return function(){return L.apply(null,arguments)}},We.cloneElement=function(L,xe,be){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Te=V({},L.props),_e=L.key,it=void 0;if(xe!=null)for(Se in xe.ref!==void 0&&(it=void 0),xe.key!==void 0&&(_e=""+xe.key),xe)!Le.call(xe,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&xe.ref===void 0||(Te[Se]=xe[Se]);var Se=arguments.length-2;if(Se===1)Te.children=be;else if(1<Se){for(var En=Array(Se),Qe=0;Qe<Se;Qe++)En[Qe]=arguments[Qe+2];Te.children=En}return le(L.type,_e,void 0,void 0,it,Te)},We.createContext=function(L){return L={$$typeof:M,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:S,_context:L},L},We.createElement=function(L,xe,be){var Te,_e={},it=null;if(xe!=null)for(Te in xe.key!==void 0&&(it=""+xe.key),xe)Le.call(xe,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(_e[Te]=xe[Te]);var Se=arguments.length-2;if(Se===1)_e.children=be;else if(1<Se){for(var En=Array(Se),Qe=0;Qe<Se;Qe++)En[Qe]=arguments[Qe+2];_e.children=En}if(L&&L.defaultProps)for(Te in Se=L.defaultProps,Se)_e[Te]===void 0&&(_e[Te]=Se[Te]);return le(L,it,void 0,void 0,null,_e)},We.createRef=function(){return{current:null}},We.forwardRef=function(L){return{$$typeof:H,render:L}},We.isValidElement=F,We.lazy=function(L){return{$$typeof:R,_payload:{_status:-1,_result:L},_init:J}},We.memo=function(L,xe){return{$$typeof:C,type:L,compare:xe===void 0?null:xe}},We.startTransition=function(L){var xe=Ie.T,be={};Ie.T=be;try{var Te=L(),_e=Ie.S;_e!==null&&_e(be,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(De,$)}catch(it){$(it)}finally{Ie.T=xe}},We.unstable_useCacheRefresh=function(){return Ie.H.useCacheRefresh()},We.use=function(L){return Ie.H.use(L)},We.useActionState=function(L,xe,be){return Ie.H.useActionState(L,xe,be)},We.useCallback=function(L,xe){return Ie.H.useCallback(L,xe)},We.useContext=function(L){return Ie.H.useContext(L)},We.useDebugValue=function(){},We.useDeferredValue=function(L,xe){return Ie.H.useDeferredValue(L,xe)},We.useEffect=function(L,xe,be){var Te=Ie.H;if(typeof be=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Te.useEffect(L,xe)},We.useId=function(){return Ie.H.useId()},We.useImperativeHandle=function(L,xe,be){return Ie.H.useImperativeHandle(L,xe,be)},We.useInsertionEffect=function(L,xe){return Ie.H.useInsertionEffect(L,xe)},We.useLayoutEffect=function(L,xe){return Ie.H.useLayoutEffect(L,xe)},We.useMemo=function(L,xe){return Ie.H.useMemo(L,xe)},We.useOptimistic=function(L,xe){return Ie.H.useOptimistic(L,xe)},We.useReducer=function(L,xe,be){return Ie.H.useReducer(L,xe,be)},We.useRef=function(L){return Ie.H.useRef(L)},We.useState=function(L){return Ie.H.useState(L)},We.useSyncExternalStore=function(L,xe,be){return Ie.H.useSyncExternalStore(L,xe,be)},We.useTransition=function(){return Ie.H.useTransition()},We.version="19.1.1",We}var I0;function Iu(){return I0||(I0=1,Su.exports=bh()),Su.exports}var Ae=Iu();const $0=Tu(Ae);var Eu={exports:{}},ll={},Cu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function Nh(){return M0||(M0=1,function(p){function y(G,J){var $=G.length;G.push(J);e:for(;0<$;){var De=$-1>>>1,L=G[De];if(0<v(L,J))G[De]=J,G[$]=L,$=De;else break e}}function x(G){return G.length===0?null:G[0]}function A(G){if(G.length===0)return null;var J=G[0],$=G.pop();if($!==J){G[0]=$;e:for(var De=0,L=G.length,xe=L>>>1;De<xe;){var be=2*(De+1)-1,Te=G[be],_e=be+1,it=G[_e];if(0>v(Te,$))_e<L&&0>v(it,Te)?(G[De]=it,G[_e]=$,De=_e):(G[De]=Te,G[be]=$,De=be);else if(_e<L&&0>v(it,$))G[De]=it,G[_e]=$,De=_e;else break e}}return J}function v(G,J){var $=G.sortIndex-J.sortIndex;return $!==0?$:G.id-J.id}if(p.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;p.unstable_now=function(){return S.now()}}else{var M=Date,H=M.now();p.unstable_now=function(){return M.now()-H}}var _=[],C=[],R=1,z=null,ne=3,ce=!1,V=!1,pe=!1,Ne=!1,we=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(G){for(var J=x(C);J!==null;){if(J.callback===null)A(C);else if(J.startTime<=G)A(C),J.sortIndex=J.expirationTime,y(_,J);else break;J=x(C)}}function Ie(G){if(pe=!1,ue(G),!V)if(x(_)!==null)V=!0,Le||(Le=!0,fe());else{var J=x(C);J!==null&&j(Ie,J.startTime-G)}}var Le=!1,le=-1,K=5,F=-1;function se(){return Ne?!0:!(p.unstable_now()-F<K)}function ge(){if(Ne=!1,Le){var G=p.unstable_now();F=G;var J=!0;try{e:{V=!1,pe&&(pe=!1,Ce(le),le=-1),ce=!0;var $=ne;try{t:{for(ue(G),z=x(_);z!==null&&!(z.expirationTime>G&&se());){var De=z.callback;if(typeof De=="function"){z.callback=null,ne=z.priorityLevel;var L=De(z.expirationTime<=G);if(G=p.unstable_now(),typeof L=="function"){z.callback=L,ue(G),J=!0;break t}z===x(_)&&A(_),ue(G)}else A(_);z=x(_)}if(z!==null)J=!0;else{var xe=x(C);xe!==null&&j(Ie,xe.startTime-G),J=!1}}break e}finally{z=null,ne=$,ce=!1}J=void 0}}finally{J?fe():Le=!1}}}var fe;if(typeof ie=="function")fe=function(){ie(ge)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Ue=Me.port2;Me.port1.onmessage=ge,fe=function(){Ue.postMessage(null)}}else fe=function(){we(ge,0)};function j(G,J){le=we(function(){G(p.unstable_now())},J)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(G){G.callback=null},p.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<G?Math.floor(1e3/G):5},p.unstable_getCurrentPriorityLevel=function(){return ne},p.unstable_next=function(G){switch(ne){case 1:case 2:case 3:var J=3;break;default:J=ne}var $=ne;ne=J;try{return G()}finally{ne=$}},p.unstable_requestPaint=function(){Ne=!0},p.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=ne;ne=G;try{return J()}finally{ne=$}},p.unstable_scheduleCallback=function(G,J,$){var De=p.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?De+$:De):$=De,G){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=$+L,G={id:R++,callback:J,priorityLevel:G,startTime:$,expirationTime:L,sortIndex:-1},$>De?(G.sortIndex=$,y(C,G),x(_)===null&&G===x(C)&&(pe?(Ce(le),le=-1):pe=!0,j(Ie,$-De))):(G.sortIndex=L,y(_,G),V||ce||(V=!0,Le||(Le=!0,fe()))),G},p.unstable_shouldYield=se,p.unstable_wrapCallback=function(G){var J=ne;return function(){var $=ne;ne=J;try{return G.apply(this,arguments)}finally{ne=$}}}}(wu)),wu}var O0;function Th(){return O0||(O0=1,Cu.exports=Nh()),Cu.exports}var vu={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Ih(){if(D0)return Bn;D0=1;var p=Iu();function y(_){var C="https://react.dev/errors/"+_;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)C+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(){}var A={d:{f:x,r:function(){throw Error(y(522))},D:x,C:x,L:x,m:x,X:x,S:x,M:x},p:0,findDOMNode:null},v=Symbol.for("react.portal");function S(_,C,R){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:z==null?null:""+z,children:_,containerInfo:C,implementation:R}}var M=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function H(_,C){if(_==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Bn.createPortal=function(_,C){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(y(299));return S(_,C,null,R)},Bn.flushSync=function(_){var C=M.T,R=A.p;try{if(M.T=null,A.p=2,_)return _()}finally{M.T=C,A.p=R,A.d.f()}},Bn.preconnect=function(_,C){typeof _=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,A.d.C(_,C))},Bn.prefetchDNS=function(_){typeof _=="string"&&A.d.D(_)},Bn.preinit=function(_,C){if(typeof _=="string"&&C&&typeof C.as=="string"){var R=C.as,z=H(R,C.crossOrigin),ne=typeof C.integrity=="string"?C.integrity:void 0,ce=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;R==="style"?A.d.S(_,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:z,integrity:ne,fetchPriority:ce}):R==="script"&&A.d.X(_,{crossOrigin:z,integrity:ne,fetchPriority:ce,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},Bn.preinitModule=function(_,C){if(typeof _=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var R=H(C.as,C.crossOrigin);A.d.M(_,{crossOrigin:R,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&A.d.M(_)},Bn.preload=function(_,C){if(typeof _=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var R=C.as,z=H(R,C.crossOrigin);A.d.L(_,R,{crossOrigin:z,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},Bn.preloadModule=function(_,C){if(typeof _=="string")if(C){var R=H(C.as,C.crossOrigin);A.d.m(_,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:R,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else A.d.m(_)},Bn.requestFormReset=function(_){A.d.r(_)},Bn.unstable_batchedUpdates=function(_,C){return _(C)},Bn.useFormState=function(_,C,R){return M.H.useFormState(_,C,R)},Bn.useFormStatus=function(){return M.H.useHostTransitionStatus()},Bn.version="19.1.1",Bn}var _0;function Mh(){if(_0)return vu.exports;_0=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(y){console.error(y)}}return p(),vu.exports=Ih(),vu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function Oh(){if(R0)return ll;R0=1;var p=Th(),y=Iu(),x=Mh();function A(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function M(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function H(e){if(S(e)!==e)throw Error(A(188))}function _(e){var n=e.alternate;if(!n){if(n=S(e),n===null)throw Error(A(188));return n!==e?null:e}for(var s=e,c=n;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return H(d),e;if(g===c)return H(d),n;g=g.sibling}throw Error(A(188))}if(s.return!==c.return)s=d,c=g;else{for(var w=!1,I=d.child;I;){if(I===s){w=!0,s=d,c=g;break}if(I===c){w=!0,c=d,s=g;break}I=I.sibling}if(!w){for(I=g.child;I;){if(I===s){w=!0,s=g,c=d;break}if(I===c){w=!0,c=g,s=d;break}I=I.sibling}if(!w)throw Error(A(189))}}if(s.alternate!==c)throw Error(A(190))}if(s.tag!==3)throw Error(A(188));return s.stateNode.current===s?e:n}function C(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=C(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,z=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),ce=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Ce=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case Ne:return"Profiler";case pe:return"StrictMode";case Ie:return"Suspense";case Le:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ce:return"Portal";case ie:return(e.displayName||"Context")+".Provider";case Ce:return(e._context.displayName||"Context")+".Consumer";case ue:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return n=e.displayName||null,n!==null?n:Ue(e.type)||"Memo";case K:n=e._payload,e=e._init;try{return Ue(e(n))}catch{}}return null}var j=Array.isArray,G=y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},De=[],L=-1;function xe(e){return{current:e}}function be(e){0>L||(e.current=De[L],De[L]=null,L--)}function Te(e,n){L++,De[L]=e.current,e.current=n}var _e=xe(null),it=xe(null),Se=xe(null),En=xe(null);function Qe(e,n){switch(Te(Se,n),Te(it,e),Te(_e,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=$f(n),e=e0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}be(_e),Te(_e,e)}function zn(){be(_e),be(it),be(Se)}function Xa(e){e.memoizedState!==null&&Te(En,e);var n=_e.current,s=e0(n,e.type);n!==s&&(Te(it,e),Te(_e,s))}function rn(e){it.current===e&&(be(_e),be(it)),En.current===e&&(be(En),tl._currentValue=$)}var gi=Object.prototype.hasOwnProperty,lt=p.unstable_scheduleCallback,ba=p.unstable_cancelCallback,ra=p.unstable_shouldYield,Zi=p.unstable_requestPaint,vt=p.unstable_now,bt=p.unstable_getCurrentPriorityLevel,st=p.unstable_ImmediatePriority,Qi=p.unstable_UserBlockingPriority,je=p.unstable_NormalPriority,Es=p.unstable_LowPriority,ur=p.unstable_IdlePriority,ma=p.log,fr=p.unstable_setDisableYieldValue,Cn=null,In=null;function wn(e){if(typeof ma=="function"&&fr(e),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(Cn,e)}catch{}}var pt=Math.clz32?Math.clz32:wc,ol=Math.log,Cs=Math.LN2;function wc(e){return e>>>=0,e===0?32:31-(ol(e)/Cs|0)|0}var Bt=256,ve=4194304;function Ot(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ft(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var d=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?d=Ot(c):(w&=I,w!==0?d=Ot(w):s||(s=I&~e,s!==0&&(d=Ot(s))))):(I=c&~g,I!==0?d=Ot(I):w!==0?d=Ot(w):s||(s=c&~e,s!==0&&(d=Ot(s)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:d}function Nt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ki(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var e=Bt;return Bt<<=1,(Bt&4194048)===0&&(Bt=256),e}function dr(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ct(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function qn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ul(e,n,s,c,d,g){var w=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var I=e.entanglements,B=e.expirationTimes,Q=e.hiddenUpdates;for(s=w&~s;0<s;){var re=31-pt(s),de=1<<re;I[re]=0,B[re]=-1;var W=Q[re];if(W!==null)for(Q[re]=null,re=0;re<W.length;re++){var te=W[re];te!==null&&(te.lane&=-536870913)}s&=~de}c!==0&&hr(e,c,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~n))}function hr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-pt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&4194090}function Fn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-pt(s),d=1<<c;d&n|e[c]&n&&(e[c]|=n),s&=~d}}function Wi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qa(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:A0(e.type))}function vs(e,n){var s=J.p;try{return J.p=e,n()}finally{J.p=s}}var ln=Math.random().toString(36).slice(2),xn="__reactFiber$"+ln,Yt="__reactProps$"+ln,Na="__reactContainer$"+ln,mn="__reactEvents$"+ln,Za="__reactListeners$"+ln,Hn="__reactHandles$"+ln,Oe="__reactResources$"+ln,la="__reactMarker$"+ln;function Ji(e){delete e[xn],delete e[Yt],delete e[mn],delete e[Za],delete e[Hn]}function Qt(e){var n=e[xn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Na]||s[xn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=i0(e);e!==null;){if(s=e[xn])return s;e=i0(e)}return n}e=s,s=e.parentNode}return null}function Zn(e){if(e=e[xn]||e[Na]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ta(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(A(33))}function pa(e){var n=e[Oe];return n||(n=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[la]=!0}var fl=new Set,dl={};function pn(e,n){Gt(e,n),Gt(e+"Capture",n)}function Gt(e,n){for(dl[e]=n,e=0;e<n.length;e++)fl.add(n[e])}var Rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},ya={};function xr(e){return gi.call(ya,e)?!0:gi.call(gr,e)?!1:Rt.test(e)?ya[e]=!0:(gr[e]=!0,!1)}function he(e,n,s){if(xr(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bs(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function dt(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}var Ia,hl;function tt(e){if(Ia===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ia=n&&n[1]||"",hl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+e+hl}var ot=!1;function Je(e,n){if(!e||ot)return"";ot=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var W=te}Reflect.construct(e,[],de)}else{try{de.call()}catch(te){W=te}e.call(de.prototype)}}else{try{throw Error()}catch(te){W=te}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&W&&typeof te.stack=="string")return[te.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],I=g[1];if(w&&I){var B=w.split(`
`),Q=I.split(`
`);for(d=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===B.length||d===Q.length)for(c=B.length-1,d=Q.length-1;1<=c&&0<=d&&B[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(B[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||B[c]!==Q[d]){var re=`
`+B[c].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=c&&0<=d);break}}}finally{ot=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?tt(s):""}function mr(e){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Je(e.type,!1);case 11:return Je(e.type.render,!1);case 1:return Je(e.type,!0);case 31:return tt("Activity");default:return""}}function Ns(e){try{var n="";do n+=mr(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ma(e){var n=Vt(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ts(e){e._valueTracker||(e._valueTracker=Ma(e))}function Ut(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=Vt(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function Qn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vc=/[\n"\\]/g;function cn(e){return e.replace(vc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xt(e,n,s,c,d,g,w,I){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),n!=null?w==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mn(n)):e.value!==""+Mn(n)&&(e.value=""+Mn(n)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),n!=null?q(e,w,Mn(n)):s!=null?q(e,w,Mn(s)):c!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+Mn(I):e.removeAttribute("name")}function on(e,n,s,c,d,g,w,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),n!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;s=s!=null?""+Mn(s):"",n=n!=null?""+Mn(n):s,I||n===e.value||(e.value=n),e.defaultValue=n}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=I?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w)}function q(e,n,s){n==="number"&&Qn(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function O(e,n,s,c){if(e=e.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=n.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&c&&(e[s].defaultSelected=!0)}else{for(s=""+Mn(s),n=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function ke(e,n,s){if(n!=null&&(n=""+Mn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Mn(s):""}function Kt(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(A(92));if(j(c)){if(1<c.length)throw Error(A(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=Mn(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c)}function un(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Is(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||bc.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ln(e,n,s){if(n!=null&&typeof n!="object")throw Error(A(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var d in n)c=n[d],n.hasOwnProperty(d)&&s[d]!==c&&Is(e,d,c)}else for(var g in n)n.hasOwnProperty(g)&&Is(e,g,n[g])}function ze(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(e){return gl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var $i=null;function xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,mi=null;function Wt(e){var n=Zn(e);if(n&&(e=n.stateNode)){var s=e[Yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(xt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var d=c[Yt]||null;if(!d)throw Error(A(90));xt(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&Ut(c)}break e;case"textarea":ke(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&O(e,!!s.multiple,n,!1)}}}var Qa=!1;function Aa(e,n,s){if(Qa)return e(n,s);Qa=!0;try{var c=e(n);return c}finally{if(Qa=!1,(Oa!==null||mi!==null)&&($l(),Oa&&(n=Oa,e=mi,mi=Oa=null,Wt(n),e)))for(n=0;n<e.length;n++)Wt(e[n])}}function He(e,n){var s=e.stateNode;if(s===null)return null;var c=s[Yt]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(A(231,n,typeof s));return s}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qe=!1;if(Sa)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{qe=!1}var Da=null,es=null,ts=null;function _a(){if(ts)return ts;var e,n=es,s=n.length,c,d="value"in Da?Da.value:Da.textContent,g=d.length;for(e=0;e<s&&n[e]===d[e];e++);var w=s-e;for(c=1;c<=w&&n[s-c]===d[g-c];c++);return ts=d.slice(e,1<c?1-c:void 0)}function Os(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function pi(){return!1}function nn(e){function n(s,c,d,g,w){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(s=e[I],this[I]=s?s(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ra:pi,this.isPropagationStopped=pi,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),n}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=nn(ja),Ea=R({},ja,{view:0,detail:0}),On=nn(Ea),Ds,_s,yi,Rs=R({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(Ds=e.screenX-yi.screenX,_s=e.screenY-yi.screenY):_s=Ds=0,yi=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),xl=nn(Rs),Nc=R({},Rs,{dataTransfer:0}),mt=nn(Nc),ml=R({},Ea,{relatedTarget:0}),Ai=nn(ml),La=R({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),Tc=nn(La),ae=R({},ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ke=nn(ae),fn=R({},ja,{data:0}),ns=nn(fn),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oc(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mc[e])?!!n[e]:!1}function as(){return Oc}var Jt=R({},Ea,{key:function(e){if(e.key){var n=pl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ic[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(e){return e.type==="keypress"?Os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pr=nn(Jt),zt=R({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=nn(zt),Ka=R({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),At=nn(Ka),Pe=R({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=nn(Pe),Dt=R({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=nn(Dt),Si=R({},ja,{newState:0,oldState:0}),_c=nn(Si),ca=[9,13,27,32],ss=Sa&&"CompositionEvent"in window,Ei=null;Sa&&"documentMode"in document&&(Ei=document.documentMode);var yr=Sa&&"TextEvent"in window&&!Ei,Ar=Sa&&(!ss||Ei&&8<Ei&&11>=Ei),Sr=" ",yl=!1;function Ja(e,n){switch(e){case"keyup":return ca.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function js(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function rs(e,n){switch(e){case"compositionend":return js(n);case"keypress":return n.which!==32?null:(yl=!0,Sr);case"textInput":return e=n.data,e===Sr&&yl?null:e;default:return null}}function Rc(e,n){if(Ci)return e==="compositionend"||!ss&&Ja(e,n)?(e=_a(),ts=es=Da=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ar&&n.locale!=="ko"?null:n.data;default:return null}}var ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ls(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ka[e.type]:n==="textarea"}function kn(e,n,s,c){Oa?mi?mi.push(c):mi=[c]:Oa=c,n=sc(n,"onChange"),0<n.length&&(s=new Ba("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var wi=null,Dn=null;function jc(e){Zf(e,0)}function vi(e){var n=Ta(e);if(Ut(n))return e}function Al(e,n){if(e==="change")return n}var Er=!1;if(Sa){var Pn;if(Sa){var Cr="oninput"in document;if(!Cr){var Bs=document.createElement("div");Bs.setAttribute("oninput","return;"),Cr=typeof Bs.oninput=="function"}Pn=Cr}else Pn=!1;Er=Pn&&(!document.documentMode||9<document.documentMode)}function bi(){wi&&(wi.detachEvent("onpropertychange",rt),Dn=wi=null)}function rt(e){if(e.propertyName==="value"&&vi(Dn)){var n=[];kn(n,Dn,e,xi(e)),Aa(jc,n)}}function Ls(e,n,s){e==="focusin"?(bi(),wi=n,Dn=s,wi.attachEvent("onpropertychange",rt)):e==="focusout"&&bi()}function b(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vi(Dn)}function t(e,n){if(e==="click")return vi(n)}function a(e,n){if(e==="input"||e==="change")return vi(n)}function i(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var r=typeof Object.is=="function"?Object.is:i;function l(e,n){if(r(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!gi.call(n,d)||!r(e[d],n[d]))return!1}return!0}function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u(e,n){var s=o(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=o(s)}}function h(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?h(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qn(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Qn(e.document)}return n}function E(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var N=Sa&&"documentMode"in document&&11>=document.documentMode,T=null,D=null,k=null,U=!1;function X(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;U||T==null||T!==Qn(c)||(c=T,"selectionStart"in c&&E(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),k&&l(k,c)||(k=c,c=sc(D,"onSelect"),0<c.length&&(n=new Ba("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=T)))}function ee(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ye={animationend:ee("Animation","AnimationEnd"),animationiteration:ee("Animation","AnimationIteration"),animationstart:ee("Animation","AnimationStart"),transitionrun:ee("Transition","TransitionRun"),transitionstart:ee("Transition","TransitionStart"),transitioncancel:ee("Transition","TransitionCancel"),transitionend:ee("Transition","TransitionEnd")},Ee={},me={};Sa&&(me=document.createElement("div").style,"AnimationEvent"in window||(delete ye.animationend.animation,delete ye.animationiteration.animation,delete ye.animationstart.animation),"TransitionEvent"in window||delete ye.transitionend.transition);function Ze(e){if(Ee[e])return Ee[e];if(!ye[e])return e;var n=ye[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in me)return Ee[e]=n[s];return e}var Xe=Ze("animationend"),vn=Ze("animationiteration"),Yn=Ze("animationstart"),_n=Ze("transitionrun"),St=Ze("transitionstart"),dn=Ze("transitioncancel"),Rn=Ze("transitionend"),$a=new Map,Ua="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ua.push("scrollEnd");function Kn(e,n){$a.set(e,n),pn(n,[e])}var Sl=new WeakMap;function oa(e,n){if(typeof e=="object"&&e!==null){var s=Sl.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ns(n)},Sl.set(e,n),n)}return{value:e,source:n,stack:Ns(n)}}var ua=[],ks=0,Bc=0;function El(){for(var e=ks,n=Bc=ks=0;n<e;){var s=ua[n];ua[n++]=null;var c=ua[n];ua[n++]=null;var d=ua[n];ua[n++]=null;var g=ua[n];if(ua[n++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}g!==0&&Du(s,d,g)}}function Cl(e,n,s,c){ua[ks++]=e,ua[ks++]=n,ua[ks++]=s,ua[ks++]=c,Bc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Lc(e,n,s,c){return Cl(e,n,s,c),wl(e)}function Us(e,n){return Cl(e,null,null,n),wl(e)}function Du(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var d=!1,g=e.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&n!==null&&(d=31-pt(s),e=g.hiddenUpdates,c=e[d],c===null?e[d]=[n]:c.push(n),n.lane=s|536870912),g):null}function wl(e){if(50<qr)throw qr=0,Yo=null,Error(A(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var zs={};function ld(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,n,s,c){return new ld(e,n,s,c)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ei(e,n){var s=e.alternate;return s===null?(s=Wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function _u(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vl(e,n,s,c,d,g){var w=0;if(c=e,typeof e=="function")kc(e)&&(w=1);else if(typeof e=="string")w=oh(e,s,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Wn(31,s,n,d),e.elementType=F,e.lanes=g,e;case V:return cs(s.children,d,g,n);case pe:w=8,d|=24;break;case Ne:return e=Wn(12,s,n,d|2),e.elementType=Ne,e.lanes=g,e;case Ie:return e=Wn(13,s,n,d),e.elementType=Ie,e.lanes=g,e;case Le:return e=Wn(19,s,n,d),e.elementType=Le,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:case ie:w=10;break e;case Ce:w=9;break e;case ue:w=11;break e;case le:w=14;break e;case K:w=16,c=null;break e}w=29,s=Error(A(130,e===null?"null":typeof e,"")),c=null}return n=Wn(w,s,n,d),n.elementType=e,n.type=c,n.lanes=g,n}function cs(e,n,s,c){return e=Wn(7,e,c,n),e.lanes=s,e}function Uc(e,n,s){return e=Wn(6,e,null,n),e.lanes=s,e}function zc(e,n,s){return n=Wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fs=[],Hs=0,bl=null,Nl=0,fa=[],da=0,os=null,ti=1,ni="";function us(e,n){Fs[Hs++]=Nl,Fs[Hs++]=bl,bl=e,Nl=n}function Ru(e,n,s){fa[da++]=ti,fa[da++]=ni,fa[da++]=os,os=e;var c=ti;e=ni;var d=32-pt(c)-1;c&=~(1<<d),s+=1;var g=32-pt(n)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,ti=1<<32-pt(n)+d|s<<d|c,ni=g+e}else ti=1<<g|s<<d|c,ni=e}function Fc(e){e.return!==null&&(us(e,1),Ru(e,1,0))}function Hc(e){for(;e===bl;)bl=Fs[--Hs],Fs[Hs]=null,Nl=Fs[--Hs],Fs[Hs]=null;for(;e===os;)os=fa[--da],fa[da]=null,ni=fa[--da],fa[da]=null,ti=fa[--da],fa[da]=null}var Un=null,Xt=null,gt=!1,fs=null,za=!1,Pc=Error(A(519));function ds(e){var n=Error(A(418,""));throw br(oa(n,e)),Pc}function ju(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[xn]=e,n[Yt]=c,s){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(s=0;s<Qr.length;s++)at(Qr[s],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":at("invalid",n),on(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ts(n);break;case"select":at("invalid",n);break;case"textarea":at("invalid",n),Kt(n,c.value,c.defaultValue,c.children),Ts(n)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||Jf(n.textContent,s)?(c.popover!=null&&(at("beforetoggle",n),at("toggle",n)),c.onScroll!=null&&at("scroll",n),c.onScrollEnd!=null&&at("scrollend",n),c.onClick!=null&&(n.onclick=rc),n=!0):n=!1,n||ds(e)}function Bu(e){for(Un=e.return;Un;)switch(Un.tag){case 5:case 13:za=!1;return;case 27:case 3:za=!0;return;default:Un=Un.return}}function wr(e){if(e!==Un)return!1;if(!gt)return Bu(e),gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||su(e.type,e.memoizedProps)),s=!s),s&&Xt&&ds(e),Bu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Xt=wa(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Xt=null}}else n===27?(n=Xt,Hi(e.type)?(e=ou,ou=null,Xt=e):Xt=n):Xt=Un?wa(e.stateNode.nextSibling):null;return!0}function vr(){Xt=Un=null,gt=!1}function Lu(){var e=fs;return e!==null&&(Xn===null?Xn=e:Xn.push.apply(Xn,e),fs=null),e}function br(e){fs===null?fs=[e]:fs.push(e)}var Yc=xe(null),hs=null,ai=null;function Ni(e,n,s){Te(Yc,n._currentValue),n._currentValue=s}function ii(e){e._currentValue=Yc.current,be(Yc)}function Gc(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function Vc(e,n,s,c){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=d;for(var B=0;B<n.length;B++)if(I.context===n[B]){g.lanes|=s,I=g.alternate,I!==null&&(I.lanes|=s),Gc(g.return,s,e),c||(w=null);break e}g=I.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(A(341));w.lanes|=s,g=w.alternate,g!==null&&(g.lanes|=s),Gc(w,s,e),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===e){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Nr(e,n,s,c){e=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(A(387));if(w=w.memoizedProps,w!==null){var I=d.type;r(d.pendingProps.value,w.value)||(e!==null?e.push(I):e=[I])}}else if(d===En.current){if(w=d.alternate,w===null)throw Error(A(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}d=d.return}e!==null&&Vc(n,e,s,c),n.flags|=262144}function Tl(e){for(e=e.firstContext;e!==null;){if(!r(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function gs(e){hs=e,ai=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jn(e){return ku(hs,e)}function Il(e,n){return hs===null&&gs(e),ku(e,n)}function ku(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ai===null){if(e===null)throw Error(A(308));ai=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ai=ai.next=n;return s}var cd=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},od=p.unstable_scheduleCallback,ud=p.unstable_NormalPriority,hn={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new cd,data:new Map,refCount:0}}function Tr(e){e.refCount--,e.refCount===0&&od(ud,function(){e.controller.abort()})}var Ir=null,qc=0,Ps=0,Ys=null;function fd(e,n){if(Ir===null){var s=Ir=[];qc=0,Ps=Ko(),Ys={status:"pending",value:void 0,then:function(c){s.push(c)}}}return qc++,n.then(Uu,Uu),n}function Uu(){if(--qc===0&&Ir!==null){Ys!==null&&(Ys.status="fulfilled");var e=Ir;Ir=null,Ps=0,Ys=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dd(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var d=0;d<s.length;d++)(0,s[d])(n)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var zu=G.S;G.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&fd(e,n),zu!==null&&zu(e,n)};var xs=xe(null);function Zc(){var e=xs.current;return e!==null?e:jt.pooledCache}function Ml(e,n){n===null?Te(xs,xs.current):Te(xs,n.pool)}function Fu(){var e=Zc();return e===null?null:{parent:hn._currentValue,pool:e}}var Mr=Error(A(460)),Hu=Error(A(474)),Ol=Error(A(542)),Qc={then:function(){}};function Pu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dl(){}function Yu(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Dl,Dl),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vu(e),e;default:if(typeof n.status=="string")n.then(Dl,Dl);else{if(e=jt,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=c}},function(c){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vu(e),e}throw Or=n,Mr}}var Or=null;function Gu(){if(Or===null)throw Error(A(459));var e=Or;return Or=null,e}function Vu(e){if(e===Mr||e===Ol)throw Error(A(483))}var Ti=!1;function Kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Et&2)!==0){var d=c.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),c.pending=n,n=wl(e),Du(e,null,s),n}return Cl(e,c,n,s),wl(e)}function Dr(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Fn(e,s)}}function Jc(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,s=s.next}while(s!==null);g===null?d=g=n:g=g.next=n}else d=g=n;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $c=!1;function _r(){if($c){var e=Ys;if(e!==null)throw e}}function Rr(e,n,s,c){$c=!1;var d=e.updateQueue;Ti=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,I=d.shared.pending;if(I!==null){d.shared.pending=null;var B=I,Q=B.next;B.next=null,w===null?g=Q:w.next=Q,w=B;var re=e.alternate;re!==null&&(re=re.updateQueue,I=re.lastBaseUpdate,I!==w&&(I===null?re.firstBaseUpdate=Q:I.next=Q,re.lastBaseUpdate=B))}if(g!==null){var de=d.baseState;w=0,re=Q=B=null,I=g;do{var W=I.lane&-536870913,te=W!==I.lane;if(te?(ut&W)===W:(c&W)===W){W!==0&&W===Ps&&($c=!0),re!==null&&(re=re.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ve=e,Ye=I;W=n;var Mt=s;switch(Ye.tag){case 1:if(Ve=Ye.payload,typeof Ve=="function"){de=Ve.call(Mt,de,W);break e}de=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ye.payload,W=typeof Ve=="function"?Ve.call(Mt,de,W):Ve,W==null)break e;de=R({},de,W);break e;case 2:Ti=!0}}W=I.callback,W!==null&&(e.flags|=64,te&&(e.flags|=8192),te=d.callbacks,te===null?d.callbacks=[W]:te.push(W))}else te={lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},re===null?(Q=re=te,B=de):re=re.next=te,w|=W;if(I=I.next,I===null){if(I=d.shared.pending,I===null)break;te=I,I=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);re===null&&(B=de),d.baseState=B,d.firstBaseUpdate=Q,d.lastBaseUpdate=re,g===null&&(d.shared.lanes=0),ki|=w,e.lanes=w,e.memoizedState=de}}function Xu(e,n){if(typeof e!="function")throw Error(A(191,e));e.call(n)}function qu(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Xu(s[e],n)}var Gs=xe(null),_l=xe(0);function Zu(e,n){e=fi,Te(_l,e),Te(Gs,n),fi=e|n.baseLanes}function eo(){Te(_l,fi),Te(Gs,Gs.current)}function to(){fi=_l.current,be(Gs),be(_l)}var Oi=0,$e=null,Tt=null,an=null,Rl=!1,Vs=!1,ms=!1,jl=0,jr=0,Xs=null,hd=0;function $t(){throw Error(A(321))}function no(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!r(e[s],n[s]))return!1;return!0}function ao(e,n,s,c,d,g){return Oi=g,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?D1:_1,ms=!1,g=s(c,d),ms=!1,Vs&&(g=Ku(n,s,c,d)),Qu(e),g}function Qu(e){G.H=Fl;var n=Tt!==null&&Tt.next!==null;if(Oi=0,an=Tt=$e=null,Rl=!1,jr=0,Xs=null,n)throw Error(A(300));e===null||yn||(e=e.dependencies,e!==null&&Tl(e)&&(yn=!0))}function Ku(e,n,s,c){$e=e;var d=0;do{if(Vs&&(Xs=null),jr=0,Vs=!1,25<=d)throw Error(A(301));if(d+=1,an=Tt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}G.H=Sd,g=n(s,c)}while(Vs);return g}function gd(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Br(n):n,e=e.useState()[0],(Tt!==null?Tt.memoizedState:null)!==e&&($e.flags|=1024),n}function io(){var e=jl!==0;return jl=0,e}function so(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ro(e){if(Rl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rl=!1}Oi=0,an=Tt=$e=null,Vs=!1,jr=jl=0,Xs=null}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?$e.memoizedState=an=e:an=an.next=e,an}function sn(){if(Tt===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var n=an===null?$e.memoizedState:an.next;if(n!==null)an=n,Tt=e;else{if(e===null)throw $e.alternate===null?Error(A(467)):Error(A(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},an===null?$e.memoizedState=an=e:an=an.next=e}return an}function lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(e){var n=jr;return jr+=1,Xs===null&&(Xs=[]),e=Yu(Xs,e,n),n=$e,(an===null?n.memoizedState:an.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?D1:_1),e}function Bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Br(e);if(e.$$typeof===ie)return jn(e)}throw Error(A(438,String(e)))}function co(e){var n=null,s=$e.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=$e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=lo(),$e.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=se;return n.index++,s}function si(e,n){return typeof n=="function"?n(e):n}function Ll(e){var n=sn();return oo(n,Tt,e)}function oo(e,n,s){var c=e.queue;if(c===null)throw Error(A(311));c.lastRenderedReducer=s;var d=e.baseQueue,g=c.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}n.baseQueue=d=g,c.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{n=d.next;var I=w=null,B=null,Q=n,re=!1;do{var de=Q.lane&-536870913;if(de!==Q.lane?(ut&de)===de:(Oi&de)===de){var W=Q.revertLane;if(W===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),de===Ps&&(re=!0);else if((Oi&W)===W){Q=Q.next,W===Ps&&(re=!0);continue}else de={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(I=B=de,w=g):B=B.next=de,$e.lanes|=W,ki|=W;de=Q.action,ms&&s(g,de),g=Q.hasEagerState?Q.eagerState:s(g,de)}else W={lane:de,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(I=B=W,w=g):B=B.next=W,$e.lanes|=de,ki|=de;Q=Q.next}while(Q!==null&&Q!==n);if(B===null?w=g:B.next=I,!r(g,e.memoizedState)&&(yn=!0,re&&(s=Ys,s!==null)))throw s;e.memoizedState=g,e.baseState=w,e.baseQueue=B,c.lastRenderedState=g}return d===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function uo(e){var n=sn(),s=n.queue;if(s===null)throw Error(A(311));s.lastRenderedReducer=e;var c=s.dispatch,d=s.pending,g=n.memoizedState;if(d!==null){s.pending=null;var w=d=d.next;do g=e(g,w.action),w=w.next;while(w!==d);r(g,n.memoizedState)||(yn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,c]}function Wu(e,n,s){var c=$e,d=sn(),g=gt;if(g){if(s===void 0)throw Error(A(407));s=s()}else s=n();var w=!r((Tt||d).memoizedState,s);w&&(d.memoizedState=s,yn=!0),d=d.queue;var I=e1.bind(null,c,d,e);if(Lr(2048,8,I,[e]),d.getSnapshot!==n||w||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,qs(9,kl(),$u.bind(null,c,d,s,n),null),jt===null)throw Error(A(349));g||(Oi&124)!==0||Ju(c,n,s)}return s}function Ju(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=$e.updateQueue,n===null?(n=lo(),$e.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function $u(e,n,s,c){n.value=s,n.getSnapshot=c,t1(n)&&n1(e)}function e1(e,n,s){return s(function(){t1(n)&&n1(e)})}function t1(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!r(e,s)}catch{return!0}}function n1(e){var n=Us(e,2);n!==null&&na(n,e,2)}function fo(e){var n=Gn();if(typeof e=="function"){var s=e;if(e=s(),ms){wn(!0);try{s()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:e},n}function a1(e,n,s,c){return e.baseState=s,oo(e,Tt,typeof c=="function"?c:si)}function xd(e,n,s,c,d){if(zl(e))throw Error(A(485));if(e=n.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};G.T!==null?s(!0):g.isTransition=!1,c(g),s=n.pending,s===null?(g.next=n.pending=g,i1(n,g)):(g.next=s.next,n.pending=s.next=g)}}function i1(e,n){var s=n.action,c=n.payload,d=e.state;if(n.isTransition){var g=G.T,w={};G.T=w;try{var I=s(d,c),B=G.S;B!==null&&B(w,I),s1(e,n,I)}catch(Q){ho(e,n,Q)}finally{G.T=g}}else try{g=s(d,c),s1(e,n,g)}catch(Q){ho(e,n,Q)}}function s1(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){r1(e,n,c)},function(c){return ho(e,n,c)}):r1(e,n,s)}function r1(e,n,s){n.status="fulfilled",n.value=s,l1(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,i1(e,s)))}function ho(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,l1(n),n=n.next;while(n!==c)}e.action=null}function l1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function c1(e,n){return n}function o1(e,n){if(gt){var s=jt.formState;if(s!==null){e:{var c=$e;if(gt){if(Xt){t:{for(var d=Xt,g=za;d.nodeType!==8;){if(!g){d=null;break t}if(d=wa(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Xt=wa(d.nextSibling),c=d.data==="F!";break e}}ds(c)}c=!1}c&&(n=s[0])}}return s=Gn(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c1,lastRenderedState:n},s.queue=c,s=I1.bind(null,$e,c),c.dispatch=s,c=fo(!1),g=yo.bind(null,$e,!1,c.queue),c=Gn(),d={state:n,dispatch:null,action:e,pending:null},c.queue=d,s=xd.bind(null,$e,d,g,s),d.dispatch=s,c.memoizedState=e,[n,s,!1]}function u1(e){var n=sn();return f1(n,Tt,e)}function f1(e,n,s){if(n=oo(e,n,c1)[0],e=Ll(si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Br(n)}catch(w){throw w===Mr?Ol:w}else c=n;n=sn();var d=n.queue,g=d.dispatch;return s!==n.memoizedState&&($e.flags|=2048,qs(9,kl(),md.bind(null,d,s),null)),[c,g,e]}function md(e,n){e.action=n}function d1(e){var n=sn(),s=Tt;if(s!==null)return f1(n,s,e);sn(),n=n.memoizedState,s=sn();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function qs(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=$e.updateQueue,n===null&&(n=lo(),$e.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function kl(){return{destroy:void 0,resource:void 0}}function h1(){return sn().memoizedState}function Ul(e,n,s,c){var d=Gn();c=c===void 0?null:c,$e.flags|=e,d.memoizedState=qs(1|n,kl(),s,c)}function Lr(e,n,s,c){var d=sn();c=c===void 0?null:c;var g=d.memoizedState.inst;Tt!==null&&c!==null&&no(c,Tt.memoizedState.deps)?d.memoizedState=qs(n,g,s,c):($e.flags|=e,d.memoizedState=qs(1|n,g,s,c))}function g1(e,n){Ul(8390656,8,e,n)}function x1(e,n){Lr(2048,8,e,n)}function m1(e,n){return Lr(4,2,e,n)}function p1(e,n){return Lr(4,4,e,n)}function y1(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function A1(e,n,s){s=s!=null?s.concat([e]):null,Lr(4,4,y1.bind(null,n,e),s)}function go(){}function S1(e,n){var s=sn();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&no(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function E1(e,n){var s=sn();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&no(n,c[1]))return c[0];if(c=e(),ms){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[c,n],c}function xo(e,n,s){return s===void 0||(Oi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=bf(),$e.lanes|=e,ki|=e,s)}function C1(e,n,s,c){return r(s,n)?s:Gs.current!==null?(e=xo(e,s,c),r(e,n)||(yn=!0),e):(Oi&42)===0?(yn=!0,e.memoizedState=s):(e=bf(),$e.lanes|=e,ki|=e,n)}function w1(e,n,s,c,d){var g=J.p;J.p=g!==0&&8>g?g:8;var w=G.T,I={};G.T=I,yo(e,!1,n,s);try{var B=d(),Q=G.S;if(Q!==null&&Q(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=dd(B,c);kr(e,n,re,ta(e))}else kr(e,n,c,ta(e))}catch(de){kr(e,n,{then:function(){},status:"rejected",reason:de},ta())}finally{J.p=g,G.T=w}}function pd(){}function mo(e,n,s,c){if(e.tag!==5)throw Error(A(476));var d=v1(e).queue;w1(e,d,n,$,s===null?pd:function(){return b1(e),s(c)})}function v1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:$},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function b1(e){var n=v1(e).next.queue;kr(e,n,{},ta())}function po(){return jn(tl)}function N1(){return sn().memoizedState}function T1(){return sn().memoizedState}function yd(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=ta();e=Ii(s);var c=Mi(n,e,s);c!==null&&(na(c,n,s),Dr(c,n,s)),n={cache:Xc()},e.payload=n;return}n=n.return}}function Ad(e,n,s){var c=ta();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zl(e)?M1(n,s):(s=Lc(e,n,s,c),s!==null&&(na(s,e,c),O1(s,n,c)))}function I1(e,n,s){var c=ta();kr(e,n,s,c)}function kr(e,n,s,c){var d={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zl(e))M1(n,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,I=g(w,s);if(d.hasEagerState=!0,d.eagerState=I,r(I,w))return Cl(e,n,d,0),jt===null&&El(),!1}catch{}finally{}if(s=Lc(e,n,d,c),s!==null)return na(s,e,c),O1(s,n,c),!0}return!1}function yo(e,n,s,c){if(c={lane:2,revertLane:Ko(),action:c,hasEagerState:!1,eagerState:null,next:null},zl(e)){if(n)throw Error(A(479))}else n=Lc(e,s,c,2),n!==null&&na(n,e,2)}function zl(e){var n=e.alternate;return e===$e||n!==null&&n===$e}function M1(e,n){Vs=Rl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function O1(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,Fn(e,s)}}var Fl={readContext:jn,use:Bl,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},D1={readContext:jn,use:Bl,useCallback:function(e,n){return Gn().memoizedState=[e,n===void 0?null:n],e},useContext:jn,useEffect:g1,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ul(4194308,4,y1.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ul(4194308,4,e,n)},useInsertionEffect:function(e,n){Ul(4,2,e,n)},useMemo:function(e,n){var s=Gn();n=n===void 0?null:n;var c=e();if(ms){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=Gn();if(s!==void 0){var d=s(n);if(ms){wn(!0);try{s(n)}finally{wn(!1)}}}else d=n;return c.memoizedState=c.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},c.queue=e,e=e.dispatch=Ad.bind(null,$e,e),[c.memoizedState,e]},useRef:function(e){var n=Gn();return e={current:e},n.memoizedState=e},useState:function(e){e=fo(e);var n=e.queue,s=I1.bind(null,$e,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:go,useDeferredValue:function(e,n){var s=Gn();return xo(s,e,n)},useTransition:function(){var e=fo(!1);return e=w1.bind(null,$e,e.queue,!0,!1),Gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=$e,d=Gn();if(gt){if(s===void 0)throw Error(A(407));s=s()}else{if(s=n(),jt===null)throw Error(A(349));(ut&124)!==0||Ju(c,n,s)}d.memoizedState=s;var g={value:s,getSnapshot:n};return d.queue=g,g1(e1.bind(null,c,g,e),[e]),c.flags|=2048,qs(9,kl(),$u.bind(null,c,g,s,n),null),s},useId:function(){var e=Gn(),n=jt.identifierPrefix;if(gt){var s=ni,c=ti;s=(c&~(1<<32-pt(c)-1)).toString(32)+s,n="«"+n+"R"+s,s=jl++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=hd++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:po,useFormState:o1,useActionState:o1,useOptimistic:function(e){var n=Gn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=yo.bind(null,$e,!0,s),s.dispatch=n,[e,n]},useMemoCache:co,useCacheRefresh:function(){return Gn().memoizedState=yd.bind(null,$e)}},_1={readContext:jn,use:Bl,useCallback:S1,useContext:jn,useEffect:x1,useImperativeHandle:A1,useInsertionEffect:m1,useLayoutEffect:p1,useMemo:E1,useReducer:Ll,useRef:h1,useState:function(){return Ll(si)},useDebugValue:go,useDeferredValue:function(e,n){var s=sn();return C1(s,Tt.memoizedState,e,n)},useTransition:function(){var e=Ll(si)[0],n=sn().memoizedState;return[typeof e=="boolean"?e:Br(e),n]},useSyncExternalStore:Wu,useId:N1,useHostTransitionStatus:po,useFormState:u1,useActionState:u1,useOptimistic:function(e,n){var s=sn();return a1(s,Tt,e,n)},useMemoCache:co,useCacheRefresh:T1},Sd={readContext:jn,use:Bl,useCallback:S1,useContext:jn,useEffect:x1,useImperativeHandle:A1,useInsertionEffect:m1,useLayoutEffect:p1,useMemo:E1,useReducer:uo,useRef:h1,useState:function(){return uo(si)},useDebugValue:go,useDeferredValue:function(e,n){var s=sn();return Tt===null?xo(s,e,n):C1(s,Tt.memoizedState,e,n)},useTransition:function(){var e=uo(si)[0],n=sn().memoizedState;return[typeof e=="boolean"?e:Br(e),n]},useSyncExternalStore:Wu,useId:N1,useHostTransitionStatus:po,useFormState:d1,useActionState:d1,useOptimistic:function(e,n){var s=sn();return Tt!==null?a1(s,Tt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:co,useCacheRefresh:T1},Zs=null,Ur=0;function Hl(e){var n=Ur;return Ur+=1,Zs===null&&(Zs=[]),Yu(Zs,e,n)}function zr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pl(e,n){throw n.$$typeof===z?Error(A(525)):(e=Object.prototype.toString.call(n),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function R1(e){var n=e._init;return n(e._payload)}function j1(e){function n(Y,P){if(e){var Z=Y.deletions;Z===null?(Y.deletions=[P],Y.flags|=16):Z.push(P)}}function s(Y,P){if(!e)return null;for(;P!==null;)n(Y,P),P=P.sibling;return null}function c(Y){for(var P=new Map;Y!==null;)Y.key!==null?P.set(Y.key,Y):P.set(Y.index,Y),Y=Y.sibling;return P}function d(Y,P){return Y=ei(Y,P),Y.index=0,Y.sibling=null,Y}function g(Y,P,Z){return Y.index=Z,e?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<P?(Y.flags|=67108866,P):Z):(Y.flags|=67108866,P)):(Y.flags|=1048576,P)}function w(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,P,Z,oe){return P===null||P.tag!==6?(P=Uc(Z,Y.mode,oe),P.return=Y,P):(P=d(P,Z),P.return=Y,P)}function B(Y,P,Z,oe){var Be=Z.type;return Be===V?re(Y,P,Z.props.children,oe,Z.key):P!==null&&(P.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===K&&R1(Be)===P.type)?(P=d(P,Z.props),zr(P,Z),P.return=Y,P):(P=vl(Z.type,Z.key,Z.props,null,Y.mode,oe),zr(P,Z),P.return=Y,P)}function Q(Y,P,Z,oe){return P===null||P.tag!==4||P.stateNode.containerInfo!==Z.containerInfo||P.stateNode.implementation!==Z.implementation?(P=zc(Z,Y.mode,oe),P.return=Y,P):(P=d(P,Z.children||[]),P.return=Y,P)}function re(Y,P,Z,oe,Be){return P===null||P.tag!==7?(P=cs(Z,Y.mode,oe,Be),P.return=Y,P):(P=d(P,Z),P.return=Y,P)}function de(Y,P,Z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Uc(""+P,Y.mode,Z),P.return=Y,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ne:return Z=vl(P.type,P.key,P.props,null,Y.mode,Z),zr(Z,P),Z.return=Y,Z;case ce:return P=zc(P,Y.mode,Z),P.return=Y,P;case K:var oe=P._init;return P=oe(P._payload),de(Y,P,Z)}if(j(P)||fe(P))return P=cs(P,Y.mode,Z,null),P.return=Y,P;if(typeof P.then=="function")return de(Y,Hl(P),Z);if(P.$$typeof===ie)return de(Y,Il(Y,P),Z);Pl(Y,P)}return null}function W(Y,P,Z,oe){var Be=P!==null?P.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Be!==null?null:I(Y,P,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ne:return Z.key===Be?B(Y,P,Z,oe):null;case ce:return Z.key===Be?Q(Y,P,Z,oe):null;case K:return Be=Z._init,Z=Be(Z._payload),W(Y,P,Z,oe)}if(j(Z)||fe(Z))return Be!==null?null:re(Y,P,Z,oe,null);if(typeof Z.then=="function")return W(Y,P,Hl(Z),oe);if(Z.$$typeof===ie)return W(Y,P,Il(Y,Z),oe);Pl(Y,Z)}return null}function te(Y,P,Z,oe,Be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(Z)||null,I(P,Y,""+oe,Be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ne:return Y=Y.get(oe.key===null?Z:oe.key)||null,B(P,Y,oe,Be);case ce:return Y=Y.get(oe.key===null?Z:oe.key)||null,Q(P,Y,oe,Be);case K:var et=oe._init;return oe=et(oe._payload),te(Y,P,Z,oe,Be)}if(j(oe)||fe(oe))return Y=Y.get(Z)||null,re(P,Y,oe,Be,null);if(typeof oe.then=="function")return te(Y,P,Z,Hl(oe),Be);if(oe.$$typeof===ie)return te(Y,P,Z,Il(P,oe),Be);Pl(P,oe)}return null}function Ve(Y,P,Z,oe){for(var Be=null,et=null,Fe=P,Ge=P=0,Sn=null;Fe!==null&&Ge<Z.length;Ge++){Fe.index>Ge?(Sn=Fe,Fe=null):Sn=Fe.sibling;var ht=W(Y,Fe,Z[Ge],oe);if(ht===null){Fe===null&&(Fe=Sn);break}e&&Fe&&ht.alternate===null&&n(Y,Fe),P=g(ht,P,Ge),et===null?Be=ht:et.sibling=ht,et=ht,Fe=Sn}if(Ge===Z.length)return s(Y,Fe),gt&&us(Y,Ge),Be;if(Fe===null){for(;Ge<Z.length;Ge++)Fe=de(Y,Z[Ge],oe),Fe!==null&&(P=g(Fe,P,Ge),et===null?Be=Fe:et.sibling=Fe,et=Fe);return gt&&us(Y,Ge),Be}for(Fe=c(Fe);Ge<Z.length;Ge++)Sn=te(Fe,Y,Ge,Z[Ge],oe),Sn!==null&&(e&&Sn.alternate!==null&&Fe.delete(Sn.key===null?Ge:Sn.key),P=g(Sn,P,Ge),et===null?Be=Sn:et.sibling=Sn,et=Sn);return e&&Fe.forEach(function(Xi){return n(Y,Xi)}),gt&&us(Y,Ge),Be}function Ye(Y,P,Z,oe){if(Z==null)throw Error(A(151));for(var Be=null,et=null,Fe=P,Ge=P=0,Sn=null,ht=Z.next();Fe!==null&&!ht.done;Ge++,ht=Z.next()){Fe.index>Ge?(Sn=Fe,Fe=null):Sn=Fe.sibling;var Xi=W(Y,Fe,ht.value,oe);if(Xi===null){Fe===null&&(Fe=Sn);break}e&&Fe&&Xi.alternate===null&&n(Y,Fe),P=g(Xi,P,Ge),et===null?Be=Xi:et.sibling=Xi,et=Xi,Fe=Sn}if(ht.done)return s(Y,Fe),gt&&us(Y,Ge),Be;if(Fe===null){for(;!ht.done;Ge++,ht=Z.next())ht=de(Y,ht.value,oe),ht!==null&&(P=g(ht,P,Ge),et===null?Be=ht:et.sibling=ht,et=ht);return gt&&us(Y,Ge),Be}for(Fe=c(Fe);!ht.done;Ge++,ht=Z.next())ht=te(Fe,Y,Ge,ht.value,oe),ht!==null&&(e&&ht.alternate!==null&&Fe.delete(ht.key===null?Ge:ht.key),P=g(ht,P,Ge),et===null?Be=ht:et.sibling=ht,et=ht);return e&&Fe.forEach(function(Eh){return n(Y,Eh)}),gt&&us(Y,Ge),Be}function Mt(Y,P,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===V&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ne:e:{for(var Be=Z.key;P!==null;){if(P.key===Be){if(Be=Z.type,Be===V){if(P.tag===7){s(Y,P.sibling),oe=d(P,Z.props.children),oe.return=Y,Y=oe;break e}}else if(P.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===K&&R1(Be)===P.type){s(Y,P.sibling),oe=d(P,Z.props),zr(oe,Z),oe.return=Y,Y=oe;break e}s(Y,P);break}else n(Y,P);P=P.sibling}Z.type===V?(oe=cs(Z.props.children,Y.mode,oe,Z.key),oe.return=Y,Y=oe):(oe=vl(Z.type,Z.key,Z.props,null,Y.mode,oe),zr(oe,Z),oe.return=Y,Y=oe)}return w(Y);case ce:e:{for(Be=Z.key;P!==null;){if(P.key===Be)if(P.tag===4&&P.stateNode.containerInfo===Z.containerInfo&&P.stateNode.implementation===Z.implementation){s(Y,P.sibling),oe=d(P,Z.children||[]),oe.return=Y,Y=oe;break e}else{s(Y,P);break}else n(Y,P);P=P.sibling}oe=zc(Z,Y.mode,oe),oe.return=Y,Y=oe}return w(Y);case K:return Be=Z._init,Z=Be(Z._payload),Mt(Y,P,Z,oe)}if(j(Z))return Ve(Y,P,Z,oe);if(fe(Z)){if(Be=fe(Z),typeof Be!="function")throw Error(A(150));return Z=Be.call(Z),Ye(Y,P,Z,oe)}if(typeof Z.then=="function")return Mt(Y,P,Hl(Z),oe);if(Z.$$typeof===ie)return Mt(Y,P,Il(Y,Z),oe);Pl(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,P!==null&&P.tag===6?(s(Y,P.sibling),oe=d(P,Z),oe.return=Y,Y=oe):(s(Y,P),oe=Uc(Z,Y.mode,oe),oe.return=Y,Y=oe),w(Y)):s(Y,P)}return function(Y,P,Z,oe){try{Ur=0;var Be=Mt(Y,P,Z,oe);return Zs=null,Be}catch(Fe){if(Fe===Mr||Fe===Ol)throw Fe;var et=Wn(29,Fe,null,Y.mode);return et.lanes=oe,et.return=Y,et}finally{}}}var Qs=j1(!0),B1=j1(!1),ha=xe(null),Fa=null;function Di(e){var n=e.alternate;Te(gn,gn.current&1),Te(ha,e),Fa===null&&(n===null||Gs.current!==null||n.memoizedState!==null)&&(Fa=e)}function L1(e){if(e.tag===22){if(Te(gn,gn.current),Te(ha,e),Fa===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Fa=e)}}else _i()}function _i(){Te(gn,gn.current),Te(ha,ha.current)}function ri(e){be(ha),Fa===e&&(Fa=null),be(gn)}var gn=xe(0);function Yl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||cu(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ao(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var So={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=ta(),d=Ii(c);d.payload=n,s!=null&&(d.callback=s),n=Mi(e,d,c),n!==null&&(na(n,e,c),Dr(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=ta(),d=Ii(c);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Mi(e,d,c),n!==null&&(na(n,e,c),Dr(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=ta(),c=Ii(s);c.tag=2,n!=null&&(c.callback=n),n=Mi(e,c,s),n!==null&&(na(n,e,s),Dr(n,e,s))}};function k1(e,n,s,c,d,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,w):n.prototype&&n.prototype.isPureReactComponent?!l(s,c)||!l(d,g):!0}function U1(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&So.enqueueReplaceState(n,n.state,null)}function ps(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var d in e)s[d]===void 0&&(s[d]=e[d])}return s}var Gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function z1(e){Gl(e)}function F1(e){console.error(e)}function H1(e){Gl(e)}function Vl(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function P1(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Eo(e,n,s){return s=Ii(s),s.tag=3,s.payload={element:null},s.callback=function(){Vl(e,n)},s}function Y1(e){return e=Ii(e),e.tag=3,e}function G1(e,n,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;e.payload=function(){return d(g)},e.callback=function(){P1(n,s,c)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){P1(n,s,c),typeof d!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function Ed(e,n,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&Nr(n,s,d,!0),s=ha.current,s!==null){switch(s.tag){case 13:return Fa===null?Vo():s.alternate===null&&qt===0&&(qt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===Qc?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),qo(e,c,d)),!1;case 22:return s.flags|=65536,c===Qc?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),qo(e,c,d)),!1}throw Error(A(435,s.tag))}return qo(e,c,d),Vo(),!1}if(gt)return n=ha.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,c!==Pc&&(e=Error(A(422),{cause:c}),br(oa(e,s)))):(c!==Pc&&(n=Error(A(423),{cause:c}),br(oa(n,s))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,c=oa(c,s),d=Eo(e.stateNode,c,d),Jc(e,d),qt!==4&&(qt=2)),!1;var g=Error(A(520),{cause:c});if(g=oa(g,s),Xr===null?Xr=[g]:Xr.push(g),qt!==4&&(qt=2),n===null)return!0;c=oa(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=d&-d,s.lanes|=e,e=Eo(s.stateNode,c,e),Jc(s,e),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ui===null||!Ui.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Y1(d),G1(d,e,s,c),Jc(s,d),!1}s=s.return}while(s!==null);return!1}var V1=Error(A(461)),yn=!1;function bn(e,n,s,c){n.child=e===null?B1(n,null,s,c):Qs(n,e.child,s,c)}function X1(e,n,s,c,d){s=s.render;var g=n.ref;if("ref"in c){var w={};for(var I in c)I!=="ref"&&(w[I]=c[I])}else w=c;return gs(n),c=ao(e,n,s,w,g,d),I=io(),e!==null&&!yn?(so(e,n,d),li(e,n,d)):(gt&&I&&Fc(n),n.flags|=1,bn(e,n,c,d),n.child)}function q1(e,n,s,c,d){if(e===null){var g=s.type;return typeof g=="function"&&!kc(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,Z1(e,n,g,c,d)):(e=vl(s.type,null,c,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!Mo(e,d)){var w=g.memoizedProps;if(s=s.compare,s=s!==null?s:l,s(w,c)&&e.ref===n.ref)return li(e,n,d)}return n.flags|=1,e=ei(g,c),e.ref=n.ref,e.return=n,n.child=e}function Z1(e,n,s,c,d){if(e!==null){var g=e.memoizedProps;if(l(g,c)&&e.ref===n.ref)if(yn=!1,n.pendingProps=c=g,Mo(e,d))(e.flags&131072)!==0&&(yn=!0);else return n.lanes=e.lanes,li(e,n,d)}return Co(e,n,s,c,d)}function Q1(e,n,s){var c=n.pendingProps,d=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=g!==null?g.baseLanes|s:s,e!==null){for(d=n.child=e.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;n.childLanes=g&~c}else n.childLanes=0,n.child=null;return K1(e,n,c,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ml(n,g!==null?g.cachePool:null),g!==null?Zu(n,g):eo(),L1(n);else return n.lanes=n.childLanes=536870912,K1(e,n,g!==null?g.baseLanes|s:s,s)}else g!==null?(Ml(n,g.cachePool),Zu(n,g),_i(),n.memoizedState=null):(e!==null&&Ml(n,null),eo(),_i());return bn(e,n,d,s),n.child}function K1(e,n,s,c){var d=Zc();return d=d===null?null:{parent:hn._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&Ml(n,null),eo(),L1(n),e!==null&&Nr(e,n,c,!0),null}function Xl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(A(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Co(e,n,s,c,d){return gs(n),s=ao(e,n,s,c,void 0,d),c=io(),e!==null&&!yn?(so(e,n,d),li(e,n,d)):(gt&&c&&Fc(n),n.flags|=1,bn(e,n,s,d),n.child)}function W1(e,n,s,c,d,g){return gs(n),n.updateQueue=null,s=Ku(n,c,s,d),Qu(e),c=io(),e!==null&&!yn?(so(e,n,g),li(e,n,g)):(gt&&c&&Fc(n),n.flags|=1,bn(e,n,s,g),n.child)}function J1(e,n,s,c,d){if(gs(n),n.stateNode===null){var g=zs,w=s.contextType;typeof w=="object"&&w!==null&&(g=jn(w)),g=new s(c,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=So,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=c,g.state=n.memoizedState,g.refs={},Kc(n),w=s.contextType,g.context=typeof w=="object"&&w!==null?jn(w):zs,g.state=n.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Ao(n,s,w,c),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&So.enqueueReplaceState(g,g.state,null),Rr(n,c,g,d),_r(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){g=n.stateNode;var I=n.memoizedProps,B=ps(s,I);g.props=B;var Q=g.context,re=s.contextType;w=zs,typeof re=="object"&&re!==null&&(w=jn(re));var de=s.getDerivedStateFromProps;re=typeof de=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=n.pendingProps!==I,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Q!==w)&&U1(n,g,c,w),Ti=!1;var W=n.memoizedState;g.state=W,Rr(n,c,g,d),_r(),Q=n.memoizedState,I||W!==Q||Ti?(typeof de=="function"&&(Ao(n,s,de,c),Q=n.memoizedState),(B=Ti||k1(n,s,B,c,W,Q,w))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=Q),g.props=c,g.state=Q,g.context=w,c=B):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{g=n.stateNode,Wc(e,n),w=n.memoizedProps,re=ps(s,w),g.props=re,de=n.pendingProps,W=g.context,Q=s.contextType,B=zs,typeof Q=="object"&&Q!==null&&(B=jn(Q)),I=s.getDerivedStateFromProps,(Q=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==de||W!==B)&&U1(n,g,c,B),Ti=!1,W=n.memoizedState,g.state=W,Rr(n,c,g,d),_r();var te=n.memoizedState;w!==de||W!==te||Ti||e!==null&&e.dependencies!==null&&Tl(e.dependencies)?(typeof I=="function"&&(Ao(n,s,I,c),te=n.memoizedState),(re=Ti||k1(n,s,re,c,W,te,B)||e!==null&&e.dependencies!==null&&Tl(e.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,B)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),g.props=c,g.state=te,g.context=B,c=re):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),c=!1)}return g=c,Xl(e,n),c=(n.flags&128)!==0,g||c?(g=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,e!==null&&c?(n.child=Qs(n,e.child,null,d),n.child=Qs(n,null,s,d)):bn(e,n,s,d),n.memoizedState=g.state,e=n.child):e=li(e,n,d),e}function $1(e,n,s,c){return vr(),n.flags|=256,bn(e,n,s,c),n.child}var wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vo(e){return{baseLanes:e,cachePool:Fu()}}function bo(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=ga),e}function ef(e,n,s){var c=n.pendingProps,d=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(gn.current&2)!==0),w&&(d=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,e===null){if(gt){if(d?Di(n):_i(),gt){var I=Xt,B;if(B=I){e:{for(B=I,I=za;B.nodeType!==8;){if(!I){I=null;break e}if(B=wa(B.nextSibling),B===null){I=null;break e}}I=B}I!==null?(n.memoizedState={dehydrated:I,treeContext:os!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},B=Wn(18,null,null,0),B.stateNode=I,B.return=n,n.child=B,Un=n,Xt=null,B=!0):B=!1}B||ds(n)}if(I=n.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return cu(I)?n.lanes=32:n.lanes=536870912,null;ri(n)}return I=c.children,c=c.fallback,d?(_i(),d=n.mode,I=ql({mode:"hidden",children:I},d),c=cs(c,d,s,null),I.return=n,c.return=n,I.sibling=c,n.child=I,d=n.child,d.memoizedState=vo(s),d.childLanes=bo(e,w,s),n.memoizedState=wo,c):(Di(n),No(n,I))}if(B=e.memoizedState,B!==null&&(I=B.dehydrated,I!==null)){if(g)n.flags&256?(Di(n),n.flags&=-257,n=To(e,n,s)):n.memoizedState!==null?(_i(),n.child=e.child,n.flags|=128,n=null):(_i(),d=c.fallback,I=n.mode,c=ql({mode:"visible",children:c.children},I),d=cs(d,I,s,null),d.flags|=2,c.return=n,d.return=n,c.sibling=d,n.child=c,Qs(n,e.child,null,s),c=n.child,c.memoizedState=vo(s),c.childLanes=bo(e,w,s),n.memoizedState=wo,n=d);else if(Di(n),cu(I)){if(w=I.nextSibling&&I.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(A(419)),c.stack="",c.digest=w,br({value:c,source:null,stack:null}),n=To(e,n,s)}else if(yn||Nr(e,n,s,!1),w=(s&e.childLanes)!==0,yn||w){if(w=jt,w!==null&&(c=s&-s,c=(c&42)!==0?1:Wi(c),c=(c&(w.suspendedLanes|s))!==0?0:c,c!==0&&c!==B.retryLane))throw B.retryLane=c,Us(e,c),na(w,e,c),V1;I.data==="$?"||Vo(),n=To(e,n,s)}else I.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,Xt=wa(I.nextSibling),Un=n,gt=!0,fs=null,za=!1,e!==null&&(fa[da++]=ti,fa[da++]=ni,fa[da++]=os,ti=e.id,ni=e.overflow,os=n),n=No(n,c.children),n.flags|=4096);return n}return d?(_i(),d=c.fallback,I=n.mode,B=e.child,Q=B.sibling,c=ei(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,Q!==null?d=ei(Q,d):(d=cs(d,I,s,null),d.flags|=2),d.return=n,c.return=n,c.sibling=d,n.child=c,c=d,d=n.child,I=e.child.memoizedState,I===null?I=vo(s):(B=I.cachePool,B!==null?(Q=hn._currentValue,B=B.parent!==Q?{parent:Q,pool:Q}:B):B=Fu(),I={baseLanes:I.baseLanes|s,cachePool:B}),d.memoizedState=I,d.childLanes=bo(e,w,s),n.memoizedState=wo,c):(Di(n),s=e.child,e=s.sibling,s=ei(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(w=n.deletions,w===null?(n.deletions=[e],n.flags|=16):w.push(e)),n.child=s,n.memoizedState=null,s)}function No(e,n){return n=ql({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ql(e,n){return e=Wn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function To(e,n,s){return Qs(n,e.child,null,s),e=No(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function tf(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Gc(e.return,n,s)}function Io(e,n,s,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=d)}function nf(e,n,s){var c=n.pendingProps,d=c.revealOrder,g=c.tail;if(bn(e,n,c.children,s),c=gn.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tf(e,s,n);else if(e.tag===19)tf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Te(gn,c),d){case"forwards":for(s=n.child,d=null;s!==null;)e=s.alternate,e!==null&&Yl(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),Io(n,!1,d,s,g);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Yl(e)===null){n.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Io(n,!0,s,null,g);break;case"together":Io(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function li(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ki|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Nr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(A(153));if(n.child!==null){for(e=n.child,s=ei(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ei(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Mo(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tl(e)))}function Cd(e,n,s){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),Ni(n,hn,e.memoizedState.cache),vr();break;case 27:case 5:Xa(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Di(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ef(e,n,s):(Di(n),e=li(e,n,s),e!==null?e.sibling:null);Di(n);break;case 19:var d=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(Nr(e,n,s,!1),c=(s&n.childLanes)!==0),d){if(c)return nf(e,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Te(gn,gn.current),c)break;return null;case 22:case 23:return n.lanes=0,Q1(e,n,s);case 24:Ni(n,hn,e.memoizedState.cache)}return li(e,n,s)}function af(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)yn=!0;else{if(!Mo(e,s)&&(n.flags&128)===0)return yn=!1,Cd(e,n,s);yn=(e.flags&131072)!==0}else yn=!1,gt&&(n.flags&1048576)!==0&&Ru(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var c=n.elementType,d=c._init;if(c=d(c._payload),n.type=c,typeof c=="function")kc(c)?(e=ps(c,e),n.tag=1,n=J1(null,n,c,e,s)):(n.tag=0,n=Co(null,n,c,e,s));else{if(c!=null){if(d=c.$$typeof,d===ue){n.tag=11,n=X1(null,n,c,e,s);break e}else if(d===le){n.tag=14,n=q1(null,n,c,e,s);break e}}throw n=Ue(c)||c,Error(A(306,n,""))}}return n;case 0:return Co(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,d=ps(c,n.pendingProps),J1(e,n,c,d,s);case 3:e:{if(Qe(n,n.stateNode.containerInfo),e===null)throw Error(A(387));c=n.pendingProps;var g=n.memoizedState;d=g.element,Wc(e,n),Rr(n,c,null,s);var w=n.memoizedState;if(c=w.cache,Ni(n,hn,c),c!==g.cache&&Vc(n,[hn],s,!0),_r(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=$1(e,n,c,s);break e}else if(c!==d){d=oa(Error(A(424)),n),br(d),n=$1(e,n,c,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=wa(e.firstChild),Un=n,gt=!0,fs=null,za=!0,s=B1(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vr(),c===d){n=li(e,n,s);break e}bn(e,n,c,s)}n=n.child}return n;case 26:return Xl(e,n),e===null?(s=c0(n.type,null,n.pendingProps,null))?n.memoizedState=s:gt||(s=n.type,e=n.pendingProps,c=lc(Se.current).createElement(s),c[xn]=n,c[Yt]=e,Tn(c,s,e),yt(c),n.stateNode=c):n.memoizedState=c0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xa(n),e===null&&gt&&(c=n.stateNode=s0(n.type,n.pendingProps,Se.current),Un=n,za=!0,d=Xt,Hi(n.type)?(ou=d,Xt=wa(c.firstChild)):Xt=d),bn(e,n,n.pendingProps.children,s),Xl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&gt&&((d=c=Xt)&&(c=Kd(c,n.type,n.pendingProps,za),c!==null?(n.stateNode=c,Un=n,Xt=wa(c.firstChild),za=!1,d=!0):d=!1),d||ds(n)),Xa(n),d=n.type,g=n.pendingProps,w=e!==null?e.memoizedProps:null,c=g.children,su(d,g)?c=null:w!==null&&su(d,w)&&(n.flags|=32),n.memoizedState!==null&&(d=ao(e,n,gd,null,null,s),tl._currentValue=d),Xl(e,n),bn(e,n,c,s),n.child;case 6:return e===null&&gt&&((e=s=Xt)&&(s=Wd(s,n.pendingProps,za),s!==null?(n.stateNode=s,Un=n,Xt=null,e=!0):e=!1),e||ds(n)),null;case 13:return ef(e,n,s);case 4:return Qe(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Qs(n,null,c,s):bn(e,n,c,s),n.child;case 11:return X1(e,n,n.type,n.pendingProps,s);case 7:return bn(e,n,n.pendingProps,s),n.child;case 8:return bn(e,n,n.pendingProps.children,s),n.child;case 12:return bn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,Ni(n,n.type,c.value),bn(e,n,c.children,s),n.child;case 9:return d=n.type._context,c=n.pendingProps.children,gs(n),d=jn(d),c=c(d),n.flags|=1,bn(e,n,c,s),n.child;case 14:return q1(e,n,n.type,n.pendingProps,s);case 15:return Z1(e,n,n.type,n.pendingProps,s);case 19:return nf(e,n,s);case 31:return c=n.pendingProps,s=n.mode,c={mode:c.mode,children:c.children},e===null?(s=ql(c,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=ei(e.child,c),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Q1(e,n,s);case 24:return gs(n),c=jn(hn),e===null?(d=Zc(),d===null&&(d=jt,g=Xc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),n.memoizedState={parent:c,cache:d},Kc(n),Ni(n,hn,d)):((e.lanes&s)!==0&&(Wc(e,n),Rr(n,null,null,s),_r()),d=e.memoizedState,g=n.memoizedState,d.parent!==c?(d={parent:c,cache:c},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ni(n,hn,c)):(c=g.cache,Ni(n,hn,c),c!==d.cache&&Vc(n,[hn],s,!0))),bn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(A(156,n.tag))}function ci(e){e.flags|=4}function sf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!h0(n)){if(n=ha.current,n!==null&&((ut&4194048)===ut?Fa!==null:(ut&62914560)!==ut&&(ut&536870912)===0||n!==Fa))throw Or=Qc,Hu;e.flags|=8192}}function Zl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?dr():536870912,e.lanes|=n,$s|=n)}function Fr(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function wd(e,n,s){var c=n.pendingProps;switch(Hc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return Pt(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),ii(hn),zn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wr(n)?ci(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lu())),Pt(n),null;case 26:return s=n.memoizedState,e===null?(ci(n),s!==null?(Pt(n),sf(n,s)):(Pt(n),n.flags&=-16777217)):s?s!==e.memoizedState?(ci(n),Pt(n),sf(n,s)):(Pt(n),n.flags&=-16777217):(e.memoizedProps!==c&&ci(n),Pt(n),n.flags&=-16777217),null;case 27:rn(n),s=Se.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&ci(n);else{if(!c){if(n.stateNode===null)throw Error(A(166));return Pt(n),null}e=_e.current,wr(n)?ju(n):(e=s0(d,c,s),n.stateNode=e,ci(n))}return Pt(n),null;case 5:if(rn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&ci(n);else{if(!c){if(n.stateNode===null)throw Error(A(166));return Pt(n),null}if(e=_e.current,wr(n))ju(n);else{switch(d=lc(Se.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?d.createElement(s,{is:c.is}):d.createElement(s)}}e[xn]=n,e[Yt]=c;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(Tn(e,s,c),s){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ci(n)}}return Pt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&ci(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(A(166));if(e=Se.current,wr(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,d=Un,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}e[xn]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||Jf(e.nodeValue,s)),e||ds(n)}else e=lc(e).createTextNode(c),e[xn]=n,n.stateNode=e}return Pt(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=wr(n),c!==null&&c.dehydrated!==null){if(e===null){if(!d)throw Error(A(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(A(317));d[xn]=n}else vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pt(n),d=!1}else d=Lu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(ri(n),n):(ri(n),null)}if(ri(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=c!==null,e=e!==null&&e.memoizedState!==null,s){c=n.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Zl(n,n.updateQueue),Pt(n),null;case 4:return zn(),e===null&&eu(n.stateNode.containerInfo),Pt(n),null;case 10:return ii(n.type),Pt(n),null;case 19:if(be(gn),d=n.memoizedState,d===null)return Pt(n),null;if(c=(n.flags&128)!==0,g=d.rendering,g===null)if(c)Fr(d,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(g=Yl(e),g!==null){for(n.flags|=128,Fr(d,!1),e=g.updateQueue,n.updateQueue=e,Zl(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)_u(s,e),s=s.sibling;return Te(gn,gn.current&1|2),n.child}e=e.sibling}d.tail!==null&&vt()>Wl&&(n.flags|=128,c=!0,Fr(d,!1),n.lanes=4194304)}else{if(!c)if(e=Yl(g),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Zl(n,e),Fr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!gt)return Pt(n),null}else 2*vt()-d.renderingStartTime>Wl&&s!==536870912&&(n.flags|=128,c=!0,Fr(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(e=d.last,e!==null?e.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=vt(),n.sibling=null,e=gn.current,Te(gn,c?e&1|2:e&1),n):(Pt(n),null);case 22:case 23:return ri(n),to(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),s=n.updateQueue,s!==null&&Zl(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&be(xs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ii(hn),Pt(n),null;case 25:return null;case 30:return null}throw Error(A(156,n.tag))}function vd(e,n){switch(Hc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ii(hn),zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return rn(n),null;case 13:if(ri(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(A(340));vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return be(gn),null;case 4:return zn(),null;case 10:return ii(n.type),null;case 22:case 23:return ri(n),to(),e!==null&&be(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ii(hn),null;case 25:return null;default:return null}}function rf(e,n){switch(Hc(n),n.tag){case 3:ii(hn),zn();break;case 26:case 27:case 5:rn(n);break;case 4:zn();break;case 13:ri(n);break;case 19:be(gn);break;case 10:ii(n.type);break;case 22:case 23:ri(n),to(),e!==null&&be(xs);break;case 24:ii(hn)}}function Hr(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&e)===e){c=void 0;var g=s.create,w=s.inst;c=g(),w.destroy=c}s=s.next}while(s!==d)}}catch(I){_t(n,n.return,I)}}function Ri(e,n,s){try{var c=n.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&e)===e){var w=c.inst,I=w.destroy;if(I!==void 0){w.destroy=void 0,d=n;var B=s,Q=I;try{Q()}catch(re){_t(d,B,re)}}}c=c.next}while(c!==g)}}catch(re){_t(n,n.return,re)}}function lf(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{qu(n,s)}catch(c){_t(e,e.return,c)}}}function cf(e,n,s){s.props=ps(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){_t(e,n,c)}}function Pr(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(d){_t(e,n,d)}}function Ha(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){_t(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){_t(e,n,d)}else s.current=null}function of(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){_t(e,e.return,d)}}function Oo(e,n,s){try{var c=e.stateNode;Vd(c,e.type,s,n),c[Yt]=n}catch(d){_t(e,e.return,d)}}function uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hi(e.type)||e.tag===4}function Do(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _o(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=rc));else if(c!==4&&(c===27&&Hi(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(_o(e,n,s),e=e.sibling;e!==null;)_o(e,n,s),e=e.sibling}function Ql(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&Hi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ql(e,n,s),e=e.sibling;e!==null;)Ql(e,n,s),e=e.sibling}function ff(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Tn(n,c,s),n[xn]=e,n[Yt]=s}catch(g){_t(e,e.return,g)}}var oi=!1,en=!1,Ro=!1,df=typeof WeakSet=="function"?WeakSet:Set,An=null;function bd(e,n){if(e=e.containerInfo,au=hc,e=m(e),E(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var w=0,I=-1,B=-1,Q=0,re=0,de=e,W=null;t:for(;;){for(var te;de!==s||d!==0&&de.nodeType!==3||(I=w+d),de!==g||c!==0&&de.nodeType!==3||(B=w+c),de.nodeType===3&&(w+=de.nodeValue.length),(te=de.firstChild)!==null;)W=de,de=te;for(;;){if(de===e)break t;if(W===s&&++Q===d&&(I=w),W===g&&++re===c&&(B=w),(te=de.nextSibling)!==null)break;de=W,W=de.parentNode}de=te}s=I===-1||B===-1?null:{start:I,end:B}}else s=null}s=s||{start:0,end:0}}else s=null;for(iu={focusedElem:e,selectionRange:s},hc=!1,An=n;An!==null;)if(n=An,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,An=e;else for(;An!==null;){switch(n=An,g=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,s=n,d=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var Ve=ps(s.type,d,s.elementType===s.type);e=c.getSnapshotBeforeUpdate(Ve,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){_t(s,s.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)lu(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(A(163))}if(e=n.sibling,e!==null){e.return=n.return,An=e;break}An=n.return}}function hf(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:ji(e,s),c&4&&Hr(5,s);break;case 1:if(ji(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(w){_t(s,s.return,w)}else{var d=ps(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(w){_t(s,s.return,w)}}c&64&&lf(s),c&512&&Pr(s,s.return);break;case 3:if(ji(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qu(e,n)}catch(w){_t(s,s.return,w)}}break;case 27:n===null&&c&4&&ff(s);case 26:case 5:ji(e,s),n===null&&c&4&&of(s),c&512&&Pr(s,s.return);break;case 12:ji(e,s);break;case 13:ji(e,s),c&4&&mf(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=jd.bind(null,s),Jd(e,s))));break;case 22:if(c=s.memoizedState!==null||oi,!c){n=n!==null&&n.memoizedState!==null||en,d=oi;var g=en;oi=c,(en=n)&&!g?Bi(e,s,(s.subtreeFlags&8772)!==0):ji(e,s),oi=d,en=g}break;case 30:break;default:ji(e,s)}}function gf(e){var n=e.alternate;n!==null&&(e.alternate=null,gf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ji(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Vn=!1;function ui(e,n,s){for(s=s.child;s!==null;)xf(e,n,s),s=s.sibling}function xf(e,n,s){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Cn,s)}catch{}switch(s.tag){case 26:en||Ha(s,n),ui(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:en||Ha(s,n);var c=Ft,d=Vn;Hi(s.type)&&(Ft=s.stateNode,Vn=!1),ui(e,n,s),Wr(s.stateNode),Ft=c,Vn=d;break;case 5:en||Ha(s,n);case 6:if(c=Ft,d=Vn,Ft=null,ui(e,n,s),Ft=c,Vn=d,Ft!==null)if(Vn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(s.stateNode)}catch(g){_t(s,n,g)}else try{Ft.removeChild(s.stateNode)}catch(g){_t(s,n,g)}break;case 18:Ft!==null&&(Vn?(e=Ft,a0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),sl(e)):a0(Ft,s.stateNode));break;case 4:c=Ft,d=Vn,Ft=s.stateNode.containerInfo,Vn=!0,ui(e,n,s),Ft=c,Vn=d;break;case 0:case 11:case 14:case 15:en||Ri(2,s,n),en||Ri(4,s,n),ui(e,n,s);break;case 1:en||(Ha(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&cf(s,n,c)),ui(e,n,s);break;case 21:ui(e,n,s);break;case 22:en=(c=en)||s.memoizedState!==null,ui(e,n,s),en=c;break;default:ui(e,n,s)}}function mf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sl(e)}catch(s){_t(n,n.return,s)}}function Nd(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new df),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new df),n;default:throw Error(A(435,e.tag))}}function jo(e,n){var s=Nd(e);n.forEach(function(c){var d=Bd.bind(null,e,c);s.has(c)||(s.add(c),c.then(d,d))})}function Jn(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],g=e,w=n,I=w;e:for(;I!==null;){switch(I.tag){case 27:if(Hi(I.type)){Ft=I.stateNode,Vn=!1;break e}break;case 5:Ft=I.stateNode,Vn=!1;break e;case 3:case 4:Ft=I.stateNode.containerInfo,Vn=!0;break e}I=I.return}if(Ft===null)throw Error(A(160));xf(g,w,d),Ft=null,Vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)pf(n,e),n=n.sibling}var Ca=null;function pf(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(n,e),$n(e),c&4&&(Ri(3,e,e.return),Hr(3,e),Ri(5,e,e.return));break;case 1:Jn(n,e),$n(e),c&512&&(en||s===null||Ha(s,s.return)),c&64&&oi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=Ca;if(Jn(n,e),$n(e),c&512&&(en||s===null||Ha(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[la]||g[xn]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Tn(g,c,s),g[xn]=e,yt(g),c=g;break e;case"link":var w=f0("link","href",d).get(c+(s.href||""));if(w){for(var I=0;I<w.length;I++)if(g=w[I],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(I,1);break t}}g=d.createElement(c),Tn(g,c,s),d.head.appendChild(g);break;case"meta":if(w=f0("meta","content",d).get(c+(s.content||""))){for(I=0;I<w.length;I++)if(g=w[I],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(I,1);break t}}g=d.createElement(c),Tn(g,c,s),d.head.appendChild(g);break;default:throw Error(A(468,c))}g[xn]=e,yt(g),c=g}e.stateNode=c}else d0(d,e.type,e.stateNode);else e.stateNode=u0(d,c,e.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?d0(d,e.type,e.stateNode):u0(d,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Oo(e,e.memoizedProps,s.memoizedProps)}break;case 27:Jn(n,e),$n(e),c&512&&(en||s===null||Ha(s,s.return)),s!==null&&c&4&&Oo(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Jn(n,e),$n(e),c&512&&(en||s===null||Ha(s,s.return)),e.flags&32){d=e.stateNode;try{un(d,"")}catch(te){_t(e,e.return,te)}}c&4&&e.stateNode!=null&&(d=e.memoizedProps,Oo(e,d,s!==null?s.memoizedProps:d)),c&1024&&(Ro=!0);break;case 6:if(Jn(n,e),$n(e),c&4){if(e.stateNode===null)throw Error(A(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(te){_t(e,e.return,te)}}break;case 3:if(uc=null,d=Ca,Ca=cc(n.containerInfo),Jn(n,e),Ca=d,$n(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(te){_t(e,e.return,te)}Ro&&(Ro=!1,yf(e));break;case 4:c=Ca,Ca=cc(e.stateNode.containerInfo),Jn(n,e),$n(e),Ca=c;break;case 12:Jn(n,e),$n(e);break;case 13:Jn(n,e),$n(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Fo=vt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 22:d=e.memoizedState!==null;var B=s!==null&&s.memoizedState!==null,Q=oi,re=en;if(oi=Q||d,en=re||B,Jn(n,e),en=re,oi=Q,$n(e),c&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(s===null||B||oi||en||ys(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){B=s=n;try{if(g=B.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{I=B.stateNode;var de=B.memoizedProps.style,W=de!=null&&de.hasOwnProperty("display")?de.display:null;I.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(te){_t(B,B.return,te)}}}else if(n.tag===6){if(s===null){B=n;try{B.stateNode.nodeValue=d?"":B.memoizedProps}catch(te){_t(B,B.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,jo(e,s))));break;case 19:Jn(n,e),$n(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 30:break;case 21:break;default:Jn(n,e),$n(e)}}function $n(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(uf(c)){s=c;break}c=c.return}if(s==null)throw Error(A(160));switch(s.tag){case 27:var d=s.stateNode,g=Do(e);Ql(e,g,d);break;case 5:var w=s.stateNode;s.flags&32&&(un(w,""),s.flags&=-33);var I=Do(e);Ql(e,I,w);break;case 3:case 4:var B=s.stateNode.containerInfo,Q=Do(e);_o(e,Q,B);break;default:throw Error(A(161))}}catch(re){_t(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hf(e,n.alternate,n),n=n.sibling}function ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),ys(n);break;case 1:Ha(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cf(n,n.return,s),ys(n);break;case 27:Wr(n.stateNode);case 26:case 5:Ha(n,n.return),ys(n);break;case 22:n.memoizedState===null&&ys(n);break;case 30:ys(n);break;default:ys(n)}e=e.sibling}}function Bi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,d=e,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:Bi(d,g,s),Hr(4,g);break;case 1:if(Bi(d,g,s),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){_t(c,c.return,Q)}if(c=g,d=c.updateQueue,d!==null){var I=c.stateNode;try{var B=d.shared.hiddenCallbacks;if(B!==null)for(d.shared.hiddenCallbacks=null,d=0;d<B.length;d++)Xu(B[d],I)}catch(Q){_t(c,c.return,Q)}}s&&w&64&&lf(g),Pr(g,g.return);break;case 27:ff(g);case 26:case 5:Bi(d,g,s),s&&c===null&&w&4&&of(g),Pr(g,g.return);break;case 12:Bi(d,g,s);break;case 13:Bi(d,g,s),s&&w&4&&mf(d,g);break;case 22:g.memoizedState===null&&Bi(d,g,s),Pr(g,g.return);break;case 30:break;default:Bi(d,g,s)}n=n.sibling}}function Bo(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Tr(s))}function Lo(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tr(e))}function Pa(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Af(e,n,s,c),n=n.sibling}function Af(e,n,s,c){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Pa(e,n,s,c),d&2048&&Hr(9,n);break;case 1:Pa(e,n,s,c);break;case 3:Pa(e,n,s,c),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tr(e)));break;case 12:if(d&2048){Pa(e,n,s,c),e=n.stateNode;try{var g=n.memoizedProps,w=g.id,I=g.onPostCommit;typeof I=="function"&&I(w,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){_t(n,n.return,B)}}else Pa(e,n,s,c);break;case 13:Pa(e,n,s,c);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?Pa(e,n,s,c):Yr(e,n):g._visibility&2?Pa(e,n,s,c):(g._visibility|=2,Ks(e,n,s,c,(n.subtreeFlags&10256)!==0)),d&2048&&Bo(w,n);break;case 24:Pa(e,n,s,c),d&2048&&Lo(n.alternate,n);break;default:Pa(e,n,s,c)}}function Ks(e,n,s,c,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=e,w=n,I=s,B=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Ks(g,w,I,B,d),Hr(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?Ks(g,w,I,B,d):Yr(g,w):(re._visibility|=2,Ks(g,w,I,B,d)),d&&Q&2048&&Bo(w.alternate,w);break;case 24:Ks(g,w,I,B,d),d&&Q&2048&&Lo(w.alternate,w);break;default:Ks(g,w,I,B,d)}n=n.sibling}}function Yr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,d=c.flags;switch(c.tag){case 22:Yr(s,c),d&2048&&Bo(c.alternate,c);break;case 24:Yr(s,c),d&2048&&Lo(c.alternate,c);break;default:Yr(s,c)}n=n.sibling}}var Gr=8192;function Ws(e){if(e.subtreeFlags&Gr)for(e=e.child;e!==null;)Sf(e),e=e.sibling}function Sf(e){switch(e.tag){case 26:Ws(e),e.flags&Gr&&e.memoizedState!==null&&fh(Ca,e.memoizedState,e.memoizedProps);break;case 5:Ws(e);break;case 3:case 4:var n=Ca;Ca=cc(e.stateNode.containerInfo),Ws(e),Ca=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Gr,Gr=16777216,Ws(e),Gr=n):Ws(e));break;default:Ws(e)}}function Ef(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];An=c,wf(c,e)}Ef(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cf(e),e=e.sibling}function Cf(e){switch(e.tag){case 0:case 11:case 15:Vr(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:Vr(e);break;case 12:Vr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Kl(e)):Vr(e);break;default:Vr(e)}}function Kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];An=c,wf(c,e)}Ef(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),Kl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Kl(n));break;default:Kl(n)}e=e.sibling}}function wf(e,n){for(;An!==null;){var s=An;switch(s.tag){case 0:case 11:case 15:Ri(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tr(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,An=c;else e:for(s=e;An!==null;){c=An;var d=c.sibling,g=c.return;if(gf(c),c===s){An=null;break e}if(d!==null){d.return=g,An=d;break e}An=g}}}var Td={getCacheForType:function(e){var n=jn(hn),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},Id=typeof WeakMap=="function"?WeakMap:Map,Et=0,jt=null,nt=null,ut=0,Ct=0,ea=null,Li=!1,Js=!1,ko=!1,fi=0,qt=0,ki=0,As=0,Uo=0,ga=0,$s=0,Xr=null,Xn=null,zo=!1,Fo=0,Wl=1/0,Jl=null,Ui=null,Nn=0,zi=null,er=null,tr=0,Ho=0,Po=null,vf=null,qr=0,Yo=null;function ta(){if((Et&2)!==0&&ut!==0)return ut&-ut;if(G.T!==null){var e=Ps;return e!==0?e:Ko()}return qa()}function bf(){ga===0&&(ga=(ut&536870912)===0||gt?ws():536870912);var e=ha.current;return e!==null&&(e.flags|=32),ga}function na(e,n,s){(e===jt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(nr(e,0),Fi(e,ut,ga,!1)),qn(e,s),((Et&2)===0||e!==jt)&&(e===jt&&((Et&2)===0&&(As|=s),qt===4&&Fi(e,ut,ga,!1)),Ya(e))}function Nf(e,n,s){if((Et&6)!==0)throw Error(A(327));var c=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Nt(e,n),d=c?Dd(e,n):Xo(e,n,!0),g=c;do{if(d===0){Js&&!c&&Fi(e,n,0,!1);break}else{if(s=e.current.alternate,g&&!Md(s)){d=Xo(e,n,!1),g=!1;continue}if(d===2){if(g=n,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var I=e;d=Xr;var B=I.current.memoizedState.isDehydrated;if(B&&(nr(I,w).flags|=256),w=Xo(I,w,!1),w!==2){if(ko&&!B){I.errorRecoveryDisabledLanes|=g,As|=g,d=4;break e}g=Xn,Xn=d,g!==null&&(Xn===null?Xn=g:Xn.push.apply(Xn,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){nr(e,0),Fi(e,n,0,!0);break}e:{switch(c=e,g=d,g){case 0:case 1:throw Error(A(345));case 4:if((n&4194048)!==n)break;case 6:Fi(c,n,ga,!Li);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(A(329))}if((n&62914560)===n&&(d=Fo+300-vt(),10<d)){if(Fi(c,n,ga,!Li),ft(c,0,!0)!==0)break e;c.timeoutHandle=t0(Tf.bind(null,c,s,Xn,Jl,zo,n,ga,As,$s,Li,g,2,-0,0),d);break e}Tf(c,s,Xn,Jl,zo,n,ga,As,$s,Li,g,0,-0,0)}}break}while(!0);Ya(e)}function Tf(e,n,s,c,d,g,w,I,B,Q,re,de,W,te){if(e.timeoutHandle=-1,de=n.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(el={stylesheets:null,count:0,unsuspend:uh},Sf(n),de=dh(),de!==null)){e.cancelPendingCommit=de(jf.bind(null,e,n,g,s,c,d,w,I,B,re,1,W,te)),Fi(e,g,w,!Q);return}jf(e,n,g,s,c,d,w,I,B)}function Md(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],g=d.getSnapshot;d=d.value;try{if(!r(g(),d))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fi(e,n,s,c){n&=~Uo,n&=~As,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var d=n;0<d;){var g=31-pt(d),w=1<<g;c[g]=-1,d&=~w}s!==0&&hr(e,s,n)}function $l(){return(Et&6)===0?(Zr(0),!1):!0}function Go(){if(nt!==null){if(Ct===0)var e=nt.return;else e=nt,ai=hs=null,ro(e),Zs=null,Ur=0,e=nt;for(;e!==null;)rf(e.alternate,e),e=e.return;nt=null}}function nr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,qd(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Go(),jt=e,nt=s=ei(e.current,null),ut=n,Ct=0,ea=null,Li=!1,Js=Nt(e,n),ko=!1,$s=ga=Uo=As=ki=qt=0,Xn=Xr=null,zo=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var d=31-pt(c),g=1<<d;n|=e[d],c&=~g}return fi=n,El(),s}function If(e,n){$e=null,G.H=Fl,n===Mr||n===Ol?(n=Gu(),Ct=3):n===Hu?(n=Gu(),Ct=4):Ct=n===V1?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ea=n,nt===null&&(qt=1,Vl(e,oa(n,e.current)))}function Mf(){var e=G.H;return G.H=Fl,e===null?Fl:e}function Of(){var e=G.A;return G.A=Td,e}function Vo(){qt=4,Li||(ut&4194048)!==ut&&ha.current!==null||(Js=!0),(ki&134217727)===0&&(As&134217727)===0||jt===null||Fi(jt,ut,ga,!1)}function Xo(e,n,s){var c=Et;Et|=2;var d=Mf(),g=Of();(jt!==e||ut!==n)&&(Jl=null,nr(e,n)),n=!1;var w=qt;e:do try{if(Ct!==0&&nt!==null){var I=nt,B=ea;switch(Ct){case 8:Go(),w=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(n=!0);var Q=Ct;if(Ct=0,ea=null,ar(e,I,B,Q),s&&Js){w=0;break e}break;default:Q=Ct,Ct=0,ea=null,ar(e,I,B,Q)}}Od(),w=qt;break}catch(re){If(e,re)}while(!0);return n&&e.shellSuspendCounter++,ai=hs=null,Et=c,G.H=d,G.A=g,nt===null&&(jt=null,ut=0,El()),w}function Od(){for(;nt!==null;)Df(nt)}function Dd(e,n){var s=Et;Et|=2;var c=Mf(),d=Of();jt!==e||ut!==n?(Jl=null,Wl=vt()+500,nr(e,n)):Js=Nt(e,n);e:do try{if(Ct!==0&&nt!==null){n=nt;var g=ea;t:switch(Ct){case 1:Ct=0,ea=null,ar(e,n,g,1);break;case 2:case 9:if(Pu(g)){Ct=0,ea=null,_f(n);break}n=function(){Ct!==2&&Ct!==9||jt!==e||(Ct=7),Ya(e)},g.then(n,n);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Pu(g)?(Ct=0,ea=null,_f(n)):(Ct=0,ea=null,ar(e,n,g,7));break;case 5:var w=null;switch(nt.tag){case 26:w=nt.memoizedState;case 5:case 27:var I=nt;if(!w||h0(w)){Ct=0,ea=null;var B=I.sibling;if(B!==null)nt=B;else{var Q=I.return;Q!==null?(nt=Q,ec(Q)):nt=null}break t}}Ct=0,ea=null,ar(e,n,g,5);break;case 6:Ct=0,ea=null,ar(e,n,g,6);break;case 8:Go(),qt=6;break e;default:throw Error(A(462))}}_d();break}catch(re){If(e,re)}while(!0);return ai=hs=null,G.H=c,G.A=d,Et=s,nt!==null?0:(jt=null,ut=0,El(),qt)}function _d(){for(;nt!==null&&!ra();)Df(nt)}function Df(e){var n=af(e.alternate,e,fi);e.memoizedProps=e.pendingProps,n===null?ec(e):nt=n}function _f(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=W1(s,n,n.pendingProps,n.type,void 0,ut);break;case 11:n=W1(s,n,n.pendingProps,n.type.render,n.ref,ut);break;case 5:ro(n);default:rf(s,n),n=nt=_u(n,fi),n=af(s,n,fi)}e.memoizedProps=e.pendingProps,n===null?ec(e):nt=n}function ar(e,n,s,c){ai=hs=null,ro(n),Zs=null,Ur=0;var d=n.return;try{if(Ed(e,d,n,s,ut)){qt=1,Vl(e,oa(s,e.current)),nt=null;return}}catch(g){if(d!==null)throw nt=d,g;qt=1,Vl(e,oa(s,e.current)),nt=null;return}n.flags&32768?(gt||c===1?e=!0:Js||(ut&536870912)!==0?e=!1:(Li=e=!0,(c===2||c===9||c===3||c===6)&&(c=ha.current,c!==null&&c.tag===13&&(c.flags|=16384))),Rf(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Rf(n,Li);return}e=n.return;var s=wd(n.alternate,n,fi);if(s!==null){nt=s;return}if(n=n.sibling,n!==null){nt=n;return}nt=n=e}while(n!==null);qt===0&&(qt=5)}function Rf(e,n){do{var s=vd(e.alternate,e);if(s!==null){s.flags&=32767,nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){nt=e;return}nt=e=s}while(e!==null);qt=6,nt=null}function jf(e,n,s,c,d,g,w,I,B){e.cancelPendingCommit=null;do tc();while(Nn!==0);if((Et&6)!==0)throw Error(A(327));if(n!==null){if(n===e.current)throw Error(A(177));if(g=n.lanes|n.childLanes,g|=Bc,ul(e,s,g,w,I,B),e===jt&&(nt=jt=null,ut=0),er=n,zi=e,tr=s,Ho=g,Po=d,vf=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ld(je,function(){return zf(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,d=J.p,J.p=2,w=Et,Et|=4;try{bd(e,n,s)}finally{Et=w,J.p=d,G.T=c}}Nn=1,Bf(),Lf(),kf()}}function Bf(){if(Nn===1){Nn=0;var e=zi,n=er,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var c=J.p;J.p=2;var d=Et;Et|=4;try{pf(n,e);var g=iu,w=m(e.containerInfo),I=g.focusedElem,B=g.selectionRange;if(w!==I&&I&&I.ownerDocument&&h(I.ownerDocument.documentElement,I)){if(B!==null&&E(I)){var Q=B.start,re=B.end;if(re===void 0&&(re=Q),"selectionStart"in I)I.selectionStart=Q,I.selectionEnd=Math.min(re,I.value.length);else{var de=I.ownerDocument||document,W=de&&de.defaultView||window;if(W.getSelection){var te=W.getSelection(),Ve=I.textContent.length,Ye=Math.min(B.start,Ve),Mt=B.end===void 0?Ye:Math.min(B.end,Ve);!te.extend&&Ye>Mt&&(w=Mt,Mt=Ye,Ye=w);var Y=u(I,Ye),P=u(I,Mt);if(Y&&P&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==P.node||te.focusOffset!==P.offset)){var Z=de.createRange();Z.setStart(Y.node,Y.offset),te.removeAllRanges(),Ye>Mt?(te.addRange(Z),te.extend(P.node,P.offset)):(Z.setEnd(P.node,P.offset),te.addRange(Z))}}}}for(de=[],te=I;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<de.length;I++){var oe=de[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}hc=!!au,iu=au=null}finally{Et=d,J.p=c,G.T=s}}e.current=n,Nn=2}}function Lf(){if(Nn===2){Nn=0;var e=zi,n=er,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var c=J.p;J.p=2;var d=Et;Et|=4;try{hf(e,n.alternate,n)}finally{Et=d,J.p=c,G.T=s}}Nn=3}}function kf(){if(Nn===4||Nn===3){Nn=0,Zi();var e=zi,n=er,s=tr,c=vf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Nn=5:(Nn=0,er=zi=null,Uf(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ui=null),tn(s),n=n.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=G.T,d=J.p,J.p=2,G.T=null;try{for(var g=e.onRecoverableError,w=0;w<c.length;w++){var I=c[w];g(I.value,{componentStack:I.stack})}}finally{G.T=n,J.p=d}}(tr&3)!==0&&tc(),Ya(e),d=e.pendingLanes,(s&4194090)!==0&&(d&42)!==0?e===Yo?qr++:(qr=0,Yo=e):qr=0,Zr(0)}}function Uf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Tr(n)))}function tc(e){return Bf(),Lf(),kf(),zf()}function zf(){if(Nn!==5)return!1;var e=zi,n=Ho;Ho=0;var s=tn(tr),c=G.T,d=J.p;try{J.p=32>s?32:s,G.T=null,s=Po,Po=null;var g=zi,w=tr;if(Nn=0,er=zi=null,tr=0,(Et&6)!==0)throw Error(A(331));var I=Et;if(Et|=4,Cf(g.current),Af(g,g.current,w,s),Et=I,Zr(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Cn,g)}catch{}return!0}finally{J.p=d,G.T=c,Uf(e,n)}}function Ff(e,n,s){n=oa(s,n),n=Eo(e.stateNode,n,2),e=Mi(e,n,2),e!==null&&(qn(e,2),Ya(e))}function _t(e,n,s){if(e.tag===3)Ff(e,e,s);else for(;n!==null;){if(n.tag===3){Ff(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ui===null||!Ui.has(c))){e=oa(s,e),s=Y1(2),c=Mi(n,s,2),c!==null&&(G1(s,c,n,e),qn(c,2),Ya(c));break}}n=n.return}}function qo(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new Id;var d=new Set;c.set(n,d)}else d=c.get(n),d===void 0&&(d=new Set,c.set(n,d));d.has(s)||(ko=!0,d.add(s),e=Rd.bind(null,e,n,s),n.then(e,e))}function Rd(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,jt===e&&(ut&s)===s&&(qt===4||qt===3&&(ut&62914560)===ut&&300>vt()-Fo?(Et&2)===0&&nr(e,0):Uo|=s,$s===ut&&($s=0)),Ya(e)}function Hf(e,n){n===0&&(n=dr()),e=Us(e,n),e!==null&&(qn(e,n),Ya(e))}function jd(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hf(e,s)}function Bd(e,n){var s=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(A(314))}c!==null&&c.delete(n),Hf(e,s)}function Ld(e,n){return lt(e,n)}var nc=null,ir=null,Zo=!1,ac=!1,Qo=!1,Ss=0;function Ya(e){e!==ir&&e.next===null&&(ir===null?nc=ir=e:ir=ir.next=e),ac=!0,Zo||(Zo=!0,Ud())}function Zr(e,n){if(!Qo&&ac){Qo=!0;do for(var s=!1,c=nc;c!==null;){if(e!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var w=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-pt(42|e)+1)-1,g&=d&~(w&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Vf(c,g))}else g=ut,g=ft(c,c===jt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Nt(c,g)||(s=!0,Vf(c,g));c=c.next}while(s);Qo=!1}}function kd(){Pf()}function Pf(){ac=Zo=!1;var e=0;Ss!==0&&(Xd()&&(e=Ss),Ss=0);for(var n=vt(),s=null,c=nc;c!==null;){var d=c.next,g=Yf(c,n);g===0?(c.next=null,s===null?nc=d:s.next=d,d===null&&(ir=s)):(s=c,(e!==0||(g&3)!==0)&&(ac=!0)),c=d}Zr(e)}function Yf(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-pt(g),I=1<<w,B=d[w];B===-1?((I&s)===0||(I&c)!==0)&&(d[w]=Ki(I,n)):B<=n&&(e.expiredLanes|=I),g&=~I}if(n=jt,s=ut,s=ft(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ba(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Nt(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&ba(c),tn(s)){case 2:case 8:s=Qi;break;case 32:s=je;break;case 268435456:s=ur;break;default:s=je}return c=Gf.bind(null,e),s=lt(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&ba(c),e.callbackPriority=2,e.callbackNode=null,2}function Gf(e,n){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tc()&&e.callbackNode!==s)return null;var c=ut;return c=ft(e,e===jt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Nf(e,c,n),Yf(e,vt()),e.callbackNode!=null&&e.callbackNode===s?Gf.bind(null,e):null)}function Vf(e,n){if(tc())return null;Nf(e,n,!0)}function Ud(){Zd(function(){(Et&6)!==0?lt(st,kd):Pf()})}function Ko(){return Ss===0&&(Ss=ws()),Ss}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ms(""+e)}function qf(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function zd(e,n,s,c,d){if(n==="submit"&&s&&s.stateNode===d){var g=Xf((d[Yt]||null).action),w=c.submitter;w&&(n=(n=w[Yt]||null)?Xf(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var I=new Ba("action","action",null,c,d);e.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ss!==0){var B=w?qf(d,w):new FormData(d);mo(s,{pending:!0,data:B,method:d.method,action:g},null,B)}}else typeof g=="function"&&(I.preventDefault(),B=w?qf(d,w):new FormData(d),mo(s,{pending:!0,data:B,method:d.method,action:g},g,B))},currentTarget:d}]})}}for(var Wo=0;Wo<Ua.length;Wo++){var Jo=Ua[Wo],Fd=Jo.toLowerCase(),Hd=Jo[0].toUpperCase()+Jo.slice(1);Kn(Fd,"on"+Hd)}Kn(Xe,"onAnimationEnd"),Kn(vn,"onAnimationIteration"),Kn(Yn,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(_n,"onTransitionRun"),Kn(St,"onTransitionStart"),Kn(dn,"onTransitionCancel"),Kn(Rn,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qr));function Zf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],d=c.event;c=c.listeners;e:{var g=void 0;if(n)for(var w=c.length-1;0<=w;w--){var I=c[w],B=I.instance,Q=I.currentTarget;if(I=I.listener,B!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=Q;try{g(d)}catch(re){Gl(re)}d.currentTarget=null,g=B}else for(w=0;w<c.length;w++){if(I=c[w],B=I.instance,Q=I.currentTarget,I=I.listener,B!==g&&d.isPropagationStopped())break e;g=I,d.currentTarget=Q;try{g(d)}catch(re){Gl(re)}d.currentTarget=null,g=B}}}}function at(e,n){var s=n[mn];s===void 0&&(s=n[mn]=new Set);var c=e+"__bubble";s.has(c)||(Qf(n,e,2,!1),s.add(c))}function $o(e,n,s){var c=0;n&&(c|=4),Qf(s,e,c,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[ic]){e[ic]=!0,fl.forEach(function(s){s!=="selectionchange"&&(Pd.has(s)||$o(s,!1,e),$o(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,$o("selectionchange",!1,n))}}function Qf(e,n,s,c){switch(A0(n)){case 2:var d=xh;break;case 8:d=mh;break;default:d=gu}s=d.bind(null,n,s,e),d=void 0,!qe||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(n,s,{capture:!0,passive:d}):e.addEventListener(n,s,!0):d!==void 0?e.addEventListener(n,s,{passive:d}):e.addEventListener(n,s,!1)}function tu(e,n,s,c,d){var g=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var I=c.stateNode.containerInfo;if(I===d)break;if(w===4)for(w=c.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;I!==null;){if(w=Qt(I),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){c=g=w;continue e}I=I.parentNode}}c=c.return}Aa(function(){var Q=g,re=xi(s),de=[];e:{var W=$a.get(e);if(W!==void 0){var te=Ba,Ve=e;switch(e){case"keypress":if(Os(s)===0)break e;case"keydown":case"keyup":te=pr;break;case"focusin":Ve="focus",te=Ai;break;case"focusout":Ve="blur",te=Ai;break;case"beforeblur":case"afterblur":te=Ai;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=At;break;case Xe:case vn:case Yn:te=Tc;break;case Rn:te=Dc;break;case"scroll":case"scrollend":te=On;break;case"wheel":te=Wa;break;case"copy":case"cut":case"paste":te=Ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=is;break;case"toggle":case"beforetoggle":te=_c}var Ye=(n&4)!==0,Mt=!Ye&&(e==="scroll"||e==="scrollend"),Y=Ye?W!==null?W+"Capture":null:W;Ye=[];for(var P=Q,Z;P!==null;){var oe=P;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||Y===null||(oe=He(P,Y),oe!=null&&Ye.push(Kr(P,oe,Z))),Mt)break;P=P.return}0<Ye.length&&(W=new te(W,Ve,null,s,re),de.push({event:W,listeners:Ye}))}}if((n&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",W&&s!==$i&&(Ve=s.relatedTarget||s.fromElement)&&(Qt(Ve)||Ve[Na]))break e;if((te||W)&&(W=re.window===re?re:(W=re.ownerDocument)?W.defaultView||W.parentWindow:window,te?(Ve=s.relatedTarget||s.toElement,te=Q,Ve=Ve?Qt(Ve):null,Ve!==null&&(Mt=S(Ve),Ye=Ve.tag,Ve!==Mt||Ye!==5&&Ye!==27&&Ye!==6)&&(Ve=null)):(te=null,Ve=Q),te!==Ve)){if(Ye=xl,oe="onMouseLeave",Y="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=is,oe="onPointerLeave",Y="onPointerEnter",P="pointer"),Mt=te==null?W:Ta(te),Z=Ve==null?W:Ta(Ve),W=new Ye(oe,P+"leave",te,s,re),W.target=Mt,W.relatedTarget=Z,oe=null,Qt(re)===Q&&(Ye=new Ye(Y,P+"enter",Ve,s,re),Ye.target=Z,Ye.relatedTarget=Mt,oe=Ye),Mt=oe,te&&Ve)t:{for(Ye=te,Y=Ve,P=0,Z=Ye;Z;Z=sr(Z))P++;for(Z=0,oe=Y;oe;oe=sr(oe))Z++;for(;0<P-Z;)Ye=sr(Ye),P--;for(;0<Z-P;)Y=sr(Y),Z--;for(;P--;){if(Ye===Y||Y!==null&&Ye===Y.alternate)break t;Ye=sr(Ye),Y=sr(Y)}Ye=null}else Ye=null;te!==null&&Kf(de,W,te,Ye,!1),Ve!==null&&Mt!==null&&Kf(de,Mt,Ve,Ye,!0)}}e:{if(W=Q?Ta(Q):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var Be=Al;else if(ls(W))if(Er)Be=a;else{Be=b;var et=Ls}else te=W.nodeName,!te||te.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&ze(Q.elementType)&&(Be=Al):Be=t;if(Be&&(Be=Be(e,Q))){kn(de,Be,s,re);break e}et&&et(e,W,Q),e==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&q(W,"number",W.value)}switch(et=Q?Ta(Q):window,e){case"focusin":(ls(et)||et.contentEditable==="true")&&(T=et,D=Q,k=null);break;case"focusout":k=D=T=null;break;case"mousedown":U=!0;break;case"contextmenu":case"mouseup":case"dragend":U=!1,X(de,s,re);break;case"selectionchange":if(N)break;case"keydown":case"keyup":X(de,s,re)}var Fe;if(ss)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ci?Ja(e,s)&&(Ge="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ge="onCompositionStart");Ge&&(Ar&&s.locale!=="ko"&&(Ci||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ci&&(Fe=_a()):(Da=re,es="value"in Da?Da.value:Da.textContent,Ci=!0)),et=sc(Q,Ge),0<et.length&&(Ge=new ns(Ge,e,null,s,re),de.push({event:Ge,listeners:et}),Fe?Ge.data=Fe:(Fe=js(s),Fe!==null&&(Ge.data=Fe)))),(Fe=yr?rs(e,s):Rc(e,s))&&(Ge=sc(Q,"onBeforeInput"),0<Ge.length&&(et=new ns("onBeforeInput","beforeinput",null,s,re),de.push({event:et,listeners:Ge}),et.data=Fe)),zd(de,e,Q,s,re)}Zf(de,n)})}function Kr(e,n,s){return{instance:e,listener:n,currentTarget:s}}function sc(e,n){for(var s=n+"Capture",c=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=He(e,s),d!=null&&c.unshift(Kr(e,d,g)),d=He(e,n),d!=null&&c.push(Kr(e,d,g))),e.tag===3)return c;e=e.return}return[]}function sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kf(e,n,s,c,d){for(var g=n._reactName,w=[];s!==null&&s!==c;){var I=s,B=I.alternate,Q=I.stateNode;if(I=I.tag,B!==null&&B===c)break;I!==5&&I!==26&&I!==27||Q===null||(B=Q,d?(Q=He(s,g),Q!=null&&w.unshift(Kr(s,Q,B))):d||(Q=He(s,g),Q!=null&&w.push(Kr(s,Q,B)))),s=s.return}w.length!==0&&e.push({event:n,listeners:w})}var Yd=/\r\n?/g,Gd=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(Yd,`
`).replace(Gd,"")}function Jf(e,n){return n=Wf(n),Wf(e)===n}function rc(){}function It(e,n,s,c,d,g){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||un(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&un(e,""+c);break;case"className":bs(e,"class",c);break;case"tabIndex":bs(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(e,s,c);break;case"style":Ln(e,c,g);break;case"data":if(n!=="object"){bs(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Ms(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(n!=="input"&&It(e,n,"name",d.name,d,null),It(e,n,"formEncType",d.formEncType,d,null),It(e,n,"formMethod",d.formMethod,d,null),It(e,n,"formTarget",d.formTarget,d,null)):(It(e,n,"encType",d.encType,d,null),It(e,n,"method",d.method,d,null),It(e,n,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=Ms(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=rc);break;case"onScroll":c!=null&&at("scroll",e);break;case"onScrollEnd":c!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(A(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(A(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=Ms(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":at("beforetoggle",e),at("toggle",e),he(e,"popover",c);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":he(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Lt.get(s)||s,he(e,s,c))}}function nu(e,n,s,c,d,g){switch(s){case"style":Ln(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(A(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(A(60));e.innerHTML=s}}break;case"children":typeof c=="string"?un(e,c):(typeof c=="number"||typeof c=="bigint")&&un(e,""+c);break;case"onScroll":c!=null&&at("scroll",e);break;case"onScrollEnd":c!=null&&at("scrollend",e);break;case"onClick":c!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),n=s.slice(2,d?s.length-7:void 0),g=e[Yt]||null,g=g!=null?g[s]:null,typeof g=="function"&&e.removeEventListener(n,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,d);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):he(e,s,c)}}}function Tn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var c=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var w=s[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:It(e,n,g,w,s,null)}}d&&It(e,n,"srcSet",s.srcSet,s,null),c&&It(e,n,"src",s.src,s,null);return;case"input":at("invalid",e);var I=g=w=d=null,B=null,Q=null;for(c in s)if(s.hasOwnProperty(c)){var re=s[c];if(re!=null)switch(c){case"name":d=re;break;case"type":w=re;break;case"checked":B=re;break;case"defaultChecked":Q=re;break;case"value":g=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(A(137,n));break;default:It(e,n,c,re,s,null)}}on(e,g,I,B,Q,w,d,!1),Ts(e);return;case"select":at("invalid",e),c=w=g=null;for(d in s)if(s.hasOwnProperty(d)&&(I=s[d],I!=null))switch(d){case"value":g=I;break;case"defaultValue":w=I;break;case"multiple":c=I;default:It(e,n,d,I,s,null)}n=g,s=w,e.multiple=!!c,n!=null?O(e,!!c,n,!1):s!=null&&O(e,!!c,s,!0);return;case"textarea":at("invalid",e),g=d=c=null;for(w in s)if(s.hasOwnProperty(w)&&(I=s[w],I!=null))switch(w){case"value":c=I;break;case"defaultValue":d=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(A(91));break;default:It(e,n,w,I,s,null)}Kt(e,c,d,g),Ts(e);return;case"option":for(B in s)if(s.hasOwnProperty(B)&&(c=s[B],c!=null))switch(B){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:It(e,n,B,c,s,null)}return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(c=0;c<Qr.length;c++)at(Qr[c],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in s)if(s.hasOwnProperty(Q)&&(c=s[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:It(e,n,Q,c,s,null)}return;default:if(ze(n)){for(re in s)s.hasOwnProperty(re)&&(c=s[re],c!==void 0&&nu(e,n,re,c,s,void 0));return}}for(I in s)s.hasOwnProperty(I)&&(c=s[I],c!=null&&It(e,n,I,c,s,null))}function Vd(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,I=null,B=null,Q=null,re=null;for(te in s){var de=s[te];if(s.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=de;default:c.hasOwnProperty(te)||It(e,n,te,null,c,de)}}for(var W in c){var te=c[W];if(de=s[W],c.hasOwnProperty(W)&&(te!=null||de!=null))switch(W){case"type":g=te;break;case"name":d=te;break;case"checked":Q=te;break;case"defaultChecked":re=te;break;case"value":w=te;break;case"defaultValue":I=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(A(137,n));break;default:te!==de&&It(e,n,W,te,c,de)}}xt(e,w,I,B,Q,re,g,d);return;case"select":te=w=I=W=null;for(g in s)if(B=s[g],s.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":te=B;default:c.hasOwnProperty(g)||It(e,n,g,null,c,B)}for(d in c)if(g=c[d],B=s[d],c.hasOwnProperty(d)&&(g!=null||B!=null))switch(d){case"value":W=g;break;case"defaultValue":I=g;break;case"multiple":w=g;default:g!==B&&It(e,n,d,g,c,B)}n=I,s=w,c=te,W!=null?O(e,!!s,W,!1):!!c!=!!s&&(n!=null?O(e,!!s,n,!0):O(e,!!s,s?[]:"",!1));return;case"textarea":te=W=null;for(I in s)if(d=s[I],s.hasOwnProperty(I)&&d!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:It(e,n,I,null,c,d)}for(w in c)if(d=c[w],g=s[w],c.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":W=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(91));break;default:d!==g&&It(e,n,w,d,c,g)}ke(e,W,te);return;case"option":for(var Ve in s)if(W=s[Ve],s.hasOwnProperty(Ve)&&W!=null&&!c.hasOwnProperty(Ve))switch(Ve){case"selected":e.selected=!1;break;default:It(e,n,Ve,null,c,W)}for(B in c)if(W=c[B],te=s[B],c.hasOwnProperty(B)&&W!==te&&(W!=null||te!=null))switch(B){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:It(e,n,B,W,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in s)W=s[Ye],s.hasOwnProperty(Ye)&&W!=null&&!c.hasOwnProperty(Ye)&&It(e,n,Ye,null,c,W);for(Q in c)if(W=c[Q],te=s[Q],c.hasOwnProperty(Q)&&W!==te&&(W!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(A(137,n));break;default:It(e,n,Q,W,c,te)}return;default:if(ze(n)){for(var Mt in s)W=s[Mt],s.hasOwnProperty(Mt)&&W!==void 0&&!c.hasOwnProperty(Mt)&&nu(e,n,Mt,void 0,c,W);for(re in c)W=c[re],te=s[re],!c.hasOwnProperty(re)||W===te||W===void 0&&te===void 0||nu(e,n,re,W,c,te);return}}for(var Y in s)W=s[Y],s.hasOwnProperty(Y)&&W!=null&&!c.hasOwnProperty(Y)&&It(e,n,Y,null,c,W);for(de in c)W=c[de],te=s[de],!c.hasOwnProperty(de)||W===te||W==null&&te==null||It(e,n,de,W,c,te)}var au=null,iu=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function su(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ru=null;function Xd(){var e=window.event;return e&&e.type==="popstate"?e===ru?!1:(ru=e,!0):(ru=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,qd=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Zd=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(e){return n0.resolve(null).then(e).catch(Qd)}:t0;function Qd(e){setTimeout(function(){throw e})}function Hi(e){return e==="head"}function a0(e,n){var s=n,c=0,d=0;do{var g=s.nextSibling;if(e.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<c&&8>c){s=c;var w=e.ownerDocument;if(s&1&&Wr(w.documentElement),s&2&&Wr(w.body),s&4)for(s=w.head,Wr(s),w=s.firstChild;w;){var I=w.nextSibling,B=w.nodeName;w[la]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=I}}if(d===0){e.removeChild(g),sl(n);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:c=s.charCodeAt(0)-48;else c=0;s=g}while(s);sl(n)}function lu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":lu(s),Ji(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Kd(e,n,s,c){for(;e.nodeType===1;){var d=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[la])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=wa(e.nextSibling),e===null)break}return null}function Wd(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=wa(e.nextSibling),e===null))return null;return e}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Jd(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function wa(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ou=null;function i0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function s0(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(A(452));return e;case"head":if(e=n.head,!e)throw Error(A(453));return e;case"body":if(e=n.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function Wr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ji(e)}var xa=new Map,r0=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var di=J.d;J.d={f:$d,r:eh,D:th,C:nh,L:ah,m:ih,X:rh,S:sh,M:lh};function $d(){var e=di.f(),n=$l();return e||n}function eh(e){var n=Zn(e);n!==null&&n.tag===5&&n.type==="form"?b1(n):di.r(e)}var rr=typeof document>"u"?null:document;function l0(e,n,s){var c=rr;if(c&&typeof n=="string"&&n){var d=cn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),r0.has(d)||(r0.add(d),e={rel:e,crossOrigin:s,href:n},c.querySelector(d)===null&&(n=c.createElement("link"),Tn(n,"link",e),yt(n),c.head.appendChild(n)))}}function th(e){di.D(e),l0("dns-prefetch",e,null)}function nh(e,n){di.C(e,n),l0("preconnect",e,n)}function ah(e,n,s){di.L(e,n,s);var c=rr;if(c&&e&&n){var d='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+cn(s.imageSizes)+'"]')):d+='[href="'+cn(e)+'"]';var g=d;switch(n){case"style":g=lr(e);break;case"script":g=cr(e)}xa.has(g)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xa.set(g,e),c.querySelector(d)!==null||n==="style"&&c.querySelector(Jr(g))||n==="script"&&c.querySelector($r(g))||(n=c.createElement("link"),Tn(n,"link",e),yt(n),c.head.appendChild(n)))}}function ih(e,n){di.m(e,n);var s=rr;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+cn(c)+'"][href="'+cn(e)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=cr(e)}if(!xa.has(g)&&(e=R({rel:"modulepreload",href:e},n),xa.set(g,e),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($r(g)))return}c=s.createElement("link"),Tn(c,"link",e),yt(c),s.head.appendChild(c)}}}function sh(e,n,s){di.S(e,n,s);var c=rr;if(c&&e){var d=pa(c).hoistableStyles,g=lr(e);n=n||"default";var w=d.get(g);if(!w){var I={loading:0,preload:null};if(w=c.querySelector(Jr(g)))I.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xa.get(g))&&uu(e,s);var B=w=c.createElement("link");yt(B),Tn(B,"link",e),B._p=new Promise(function(Q,re){B.onload=Q,B.onerror=re}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,oc(w,n,c)}w={type:"stylesheet",instance:w,count:1,state:I},d.set(g,w)}}}function rh(e,n){di.X(e,n);var s=rr;if(s&&e){var c=pa(s).hoistableScripts,d=cr(e),g=c.get(d);g||(g=s.querySelector($r(d)),g||(e=R({src:e,async:!0},n),(n=xa.get(d))&&fu(e,n),g=s.createElement("script"),yt(g),Tn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function lh(e,n){di.M(e,n);var s=rr;if(s&&e){var c=pa(s).hoistableScripts,d=cr(e),g=c.get(d);g||(g=s.querySelector($r(d)),g||(e=R({src:e,async:!0,type:"module"},n),(n=xa.get(d))&&fu(e,n),g=s.createElement("script"),yt(g),Tn(g,"link",e),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function c0(e,n,s,c){var d=(d=Se.current)?cc(d):null;if(!d)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=lr(s.href),s=pa(d).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=lr(s.href);var g=pa(d).hoistableStyles,w=g.get(e);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=d.querySelector(Jr(e)))&&!g._p&&(w.instance=g,w.state.loading=5),xa.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xa.set(e,s),g||ch(d,e,s,w.state))),n&&c===null)throw Error(A(528,""));return w}if(n&&c!==null)throw Error(A(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cr(s),s=pa(d).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function lr(e){return'href="'+cn(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function o0(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function ch(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Tn(n,"link",s),yt(n),e.head.appendChild(n))}function cr(e){return'[src="'+cn(e)+'"]'}function $r(e){return"script[async]"+e}function u0(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(c)return n.instance=c,yt(c),c;var d=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),yt(c),Tn(c,"style",d),oc(c,s.precedence,e),n.instance=c;case"stylesheet":d=lr(s.href);var g=e.querySelector(Jr(d));if(g)return n.state.loading|=4,n.instance=g,yt(g),g;c=o0(s),(d=xa.get(d))&&uu(c,d),g=(e.ownerDocument||e).createElement("link"),yt(g);var w=g;return w._p=new Promise(function(I,B){w.onload=I,w.onerror=B}),Tn(g,"link",c),n.state.loading|=4,oc(g,s.precedence,e),n.instance=g;case"script":return g=cr(s.src),(d=e.querySelector($r(g)))?(n.instance=d,yt(d),d):(c=s,(d=xa.get(g))&&(c=R({},s),fu(c,d)),e=e.ownerDocument||e,d=e.createElement("script"),yt(d),Tn(d,"link",c),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(A(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,oc(c,s.precedence,e));return n.instance}function oc(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,w=0;w<c.length;w++){var I=c[w];if(I.dataset.precedence===n)g=I;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function f0(e,n,s){if(uc===null){var c=new Map,d=uc=new Map;d.set(s,c)}else d=uc,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),d=0;d<s.length;d++){var g=s[d];if(!(g[la]||g[xn]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=e+w;var I=c.get(w);I?I.push(g):c.set(w,[g])}}return c}function d0(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function oh(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function h0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var el=null;function uh(){}function fh(e,n,s){if(el===null)throw Error(A(475));var c=el;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=lr(s.href),g=e.querySelector(Jr(d));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=fc.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=g,yt(g);return}g=e.ownerDocument||e,s=o0(s),(d=xa.get(d))&&uu(s,d),g=g.createElement("link"),yt(g);var w=g;w._p=new Promise(function(I,B){w.onload=I,w.onerror=B}),Tn(g,"link",s),n.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=fc.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function dh(){if(el===null)throw Error(A(475));var e=el;return e.stylesheets&&e.count===0&&du(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&du(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function fc(){if(this.count--,this.count===0){if(this.stylesheets)du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function du(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(hh,e),dc=null,fc.call(e))}function hh(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var c=s.get(null);else{s=new Map,dc.set(e,s);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),c=w)}c&&s.set(null,c)}d=n.instance,w=d.getAttribute("data-precedence"),g=s.get(w)||c,g===c&&s.set(null,d),s.set(w,d),this.count++,c=fc.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var tl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function gh(e,n,s,c,d,g,w,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g0(e,n,s,c,d,g,w,I,B,Q,re,de){return e=new gh(e,n,s,w,I,B,Q,de),n=1,g===!0&&(n|=24),g=Wn(3,null,null,n),e.current=g,g.stateNode=e,n=Xc(),n.refCount++,e.pooledCache=n,n.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:n},Kc(g),e}function x0(e){return e?(e=zs,e):zs}function m0(e,n,s,c,d,g){d=x0(d),c.context===null?c.context=d:c.pendingContext=d,c=Ii(n),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=Mi(e,c,n),s!==null&&(na(s,e,n),Dr(s,e,n))}function p0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function hu(e,n){p0(e,n),(e=e.alternate)&&p0(e,n)}function y0(e){if(e.tag===13){var n=Us(e,67108864);n!==null&&na(n,e,67108864),hu(e,67108864)}}var hc=!0;function xh(e,n,s,c){var d=G.T;G.T=null;var g=J.p;try{J.p=2,gu(e,n,s,c)}finally{J.p=g,G.T=d}}function mh(e,n,s,c){var d=G.T;G.T=null;var g=J.p;try{J.p=8,gu(e,n,s,c)}finally{J.p=g,G.T=d}}function gu(e,n,s,c){if(hc){var d=xu(c);if(d===null)tu(e,n,c,gc,s),S0(e,c);else if(yh(d,e,n,s,c))c.stopPropagation();else if(S0(e,c),n&4&&-1<ph.indexOf(e)){for(;d!==null;){var g=Zn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Ot(g.pendingLanes);if(w!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;w;){var B=1<<31-pt(w);I.entanglements[1]|=B,w&=~B}Ya(g),(Et&6)===0&&(Wl=vt()+500,Zr(0))}}break;case 13:I=Us(g,2),I!==null&&na(I,g,2),$l(),hu(g,2)}if(g=xu(c),g===null&&tu(e,n,c,gc,s),g===d)break;d=g}d!==null&&c.stopPropagation()}else tu(e,n,c,null,s)}}function xu(e){return e=xi(e),mu(e)}var gc=null;function mu(e){if(gc=null,e=Qt(e),e!==null){var n=S(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=M(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function A0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case st:return 2;case Qi:return 8;case je:case Es:return 32;case ur:return 268435456;default:return 32}default:return 32}}var pu=!1,Pi=null,Yi=null,Gi=null,nl=new Map,al=new Map,Vi=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S0(e,n){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function il(e,n,s,c,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},n!==null&&(n=Zn(n),n!==null&&y0(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function yh(e,n,s,c,d){switch(n){case"focusin":return Pi=il(Pi,e,n,s,c,d),!0;case"dragenter":return Yi=il(Yi,e,n,s,c,d),!0;case"mouseover":return Gi=il(Gi,e,n,s,c,d),!0;case"pointerover":var g=d.pointerId;return nl.set(g,il(nl.get(g)||null,e,n,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,al.set(g,il(al.get(g)||null,e,n,s,c,d)),!0}return!1}function E0(e){var n=Qt(e.target);if(n!==null){var s=S(n);if(s!==null){if(n=s.tag,n===13){if(n=M(s),n!==null){e.blockedOn=n,vs(e.priority,function(){if(s.tag===13){var c=ta();c=Wi(c);var d=Us(s,c);d!==null&&na(d,s,c),hu(s,c)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=xu(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);$i=c,s.target.dispatchEvent(c),$i=null}else return n=Zn(s),n!==null&&y0(n),e.blockedOn=s,!1;n.shift()}return!0}function C0(e,n,s){xc(e)&&s.delete(n)}function Ah(){pu=!1,Pi!==null&&xc(Pi)&&(Pi=null),Yi!==null&&xc(Yi)&&(Yi=null),Gi!==null&&xc(Gi)&&(Gi=null),nl.forEach(C0),al.forEach(C0)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,Ah)))}var pc=null;function w0(e){pc!==e&&(pc=e,p.unstable_scheduleCallback(p.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],d=e[n+2];if(typeof c!="function"){if(mu(c||s)===null)continue;break}var g=Zn(s);g!==null&&(e.splice(n,3),n-=3,mo(g,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function sl(e){function n(B){return mc(B,e)}Pi!==null&&mc(Pi,e),Yi!==null&&mc(Yi,e),Gi!==null&&mc(Gi,e),nl.forEach(n),al.forEach(n);for(var s=0;s<Vi.length;s++){var c=Vi[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Vi.length&&(s=Vi[0],s.blockedOn===null);)E0(s),s.blockedOn===null&&Vi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],g=s[c+1],w=d[Yt]||null;if(typeof g=="function")w||w0(s);else if(w){var I=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[Yt]||null)I=w.formAction;else if(mu(d)!==null)continue}else I=w.action;typeof I=="function"?s[c+1]=I:(s.splice(c,3),c-=3),w0(s)}}}function yu(e){this._internalRoot=e}yc.prototype.render=yu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(A(409));var s=n.current,c=ta();m0(s,c,e,n,null,null)},yc.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;m0(e.current,2,null,e,null,null),$l(),n[Na]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=qa();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vi.length&&n!==0&&n<Vi[s].priority;s++);Vi.splice(s,0,e),s===0&&E0(e)}};var v0=y.version;if(v0!=="19.1.1")throw Error(A(527,v0,"19.1.1"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=_(n),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var Sh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Cn=Ac.inject(Sh),In=Ac}catch{}}return ll.createRoot=function(e,n){if(!v(e))throw Error(A(299));var s=!1,c="",d=z1,g=F1,w=H1,I=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(I=n.unstable_transitionCallbacks)),n=g0(e,1,!1,null,null,s,c,d,g,w,I,null),e[Na]=n.current,eu(e),new yu(n)},ll.hydrateRoot=function(e,n,s){if(!v(e))throw Error(A(299));var c=!1,d="",g=z1,w=F1,I=H1,B=null,Q=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(B=s.unstable_transitionCallbacks),s.formState!==void 0&&(Q=s.formState)),n=g0(e,1,!0,n,s??null,c,d,g,w,I,B,Q),n.context=x0(null),s=n.current,c=ta(),c=Wi(c),d=Ii(c),d.callback=null,Mi(s,d,c),s=c,n.current.lanes=s,qn(n,s),Ya(n),e[Na]=n.current,eu(e),new yc(n)},ll.version="19.1.1",ll}var j0;function Dh(){if(j0)return Eu.exports;j0=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(y){console.error(y)}}return p(),Eu.exports=Oh(),Eu.exports}var _h=Dh();const Rh=Tu(_h),B0=({onLogin:p,isDarkMode:y,onToggleDarkMode:x})=>{const[A,v]=Ae.useState(""),[S,M]=Ae.useState(""),[H,_]=Ae.useState(!1),[C,R]=Ae.useState(!1),[z,ne]=Ae.useState(!1),[ce,V]=Ae.useState(!1),[pe,Ne]=Ae.useState(""),[we,Ce]=Ae.useState(""),[ie,ue]=Ae.useState({username:"",password:"",confirmPassword:"",role:"cashier"});Ae.useEffect(()=>{if(JSON.parse(localStorage.getItem("users")||"[]").length===0){const Me=[{id:1,username:"admin",password:"admin123",isAdmin:!0,role:"admin",name:"Administrator",email:"admin@pos.com",createdAt:new Date().toISOString()}];localStorage.setItem("users",JSON.stringify(Me))}if(JSON.parse(localStorage.getItem("inventory")||"[]").length===0){const Me=[{id:1,name:"Kola",category:"İçkilər",price:1.5,quantity:100,description:"Coca Cola 330ml",supplier:"Coca Cola Company",minStock:10,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:2,name:"Çörək",category:"Çörək məmulatları",price:.8,quantity:50,description:"Ağ çörək 500q",supplier:"Bakı Çörək Zavodu",minStock:5,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:3,name:"Süd",category:"Süd məmulatları",price:2.2,quantity:30,description:"Tam yağlı süd 1L",supplier:"Məhsul Dairy",minStock:8,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:4,name:"Alma",category:"Meyvə-tərəvəz",price:3.5,quantity:25,description:"Qırmızı alma 1kq",supplier:"Təbii Meyvə",minStock:5,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()}];localStorage.setItem("inventory",JSON.stringify(Me))}if(JSON.parse(localStorage.getItem("customers")||"[]").length===0){const Me=[{id:1,name:"Əli Məmmədov",phone:"+994501234567",email:"ali@email.com",address:"Bakı şəhəri, Nərimanov rayonu",createdAt:new Date().toISOString()},{id:2,name:"Fatma Əliyeva",phone:"+994507654321",email:"fatma@email.com",address:"Bakı şəhəri, Yasamal rayonu",createdAt:new Date().toISOString()},{id:3,name:"Həsən Vəliyev",phone:"+994551234567",email:"hasan@email.com",address:"Bakı şəhəri, Binəqədi rayonu",createdAt:new Date().toISOString()}];localStorage.setItem("customers",JSON.stringify(Me))}},[]);const Ie=se=>{Ne(se),setTimeout(()=>Ne(""),5e3)},Le=se=>{Ce(se),setTimeout(()=>Ce(""),5e3)},le=async se=>{se.preventDefault(),V(!0),Ne("");try{await new Promise(Me=>setTimeout(Me,1e3));const fe=JSON.parse(localStorage.getItem("users")||"[]").find(Me=>Me.username===A&&Me.password===S);fe?(Le("Uğurla daxil oldunuz!"),setTimeout(()=>p(fe),1e3)):Ie("İstifadəçi adı və ya şifrə səhvdir!")}catch{Ie("Giriş zamanı xəta baş verdi!")}finally{V(!1)}},K=async se=>{se.preventDefault(),V(!0),Ne("");try{await new Promise(Me=>setTimeout(Me,1e3));const ge=JSON.parse(localStorage.getItem("users")||"[]");if(ie.password!==ie.confirmPassword){Ie("Şifrələr uyğun gəlmir!");return}if(ie.password.length<6){Ie("Şifrə ən azı 6 simvol olmalıdır!");return}if(ge.some(Me=>Me.username===ie.username)){Ie("Bu istifadəçi adı artıq mövcuddur!");return}const fe={id:Date.now(),username:ie.username,password:ie.password,isAdmin:!1,role:ie.role,name:ie.username,email:"",createdAt:new Date().toISOString(),sales:[],inventory:[]};ge.push(fe),localStorage.setItem("users",JSON.stringify(ge)),Le("İstifadəçi uğurla qeydiyyatdan keçdi!"),setTimeout(()=>{_(!1),ue({username:"",password:"",confirmPassword:"",role:"cashier"})},1500)}catch{Ie("Qeydiyyat zamanı xəta baş verdi!")}finally{V(!1)}},F=(se,ge)=>{v(se),M(ge)};return f.jsxs("div",{className:"login-container",children:[f.jsxs("div",{className:"background-animation",children:[f.jsxs("div",{className:"floating-shapes",children:[f.jsx("div",{className:"shape shape-1"}),f.jsx("div",{className:"shape shape-2"}),f.jsx("div",{className:"shape shape-3"}),f.jsx("div",{className:"shape shape-4"}),f.jsx("div",{className:"shape shape-5"}),f.jsx("div",{className:"shape shape-6"})]}),f.jsxs("div",{className:"particles",children:[f.jsx("div",{className:"particle"}),f.jsx("div",{className:"particle"}),f.jsx("div",{className:"particle"}),f.jsx("div",{className:"particle"}),f.jsx("div",{className:"particle"})]})]}),f.jsx("div",{className:"theme-toggle",children:f.jsx("button",{onClick:x,className:"theme-btn",title:"Tema dəyişdir",children:y?"☀️":"🌙"})}),f.jsxs("div",{className:"login-card",children:[f.jsxs("div",{className:"login-header",children:[f.jsxs("div",{className:"logo-container",children:[f.jsx("div",{className:"logo-icon",children:"🏪"}),f.jsx("div",{className:"logo-glow"})]}),f.jsx("div",{style:{background:"red",color:"white",padding:"10px",margin:"10px 0",borderRadius:"5px"},children:"🚀 YENİ VERSİYA YÜKLƏNDİ! 🚀"}),f.jsx("h1",{children:"POS Sistem - YENİ VERSİYA"}),f.jsx("h2",{children:"Kassa və Satış İdarəetməsi"}),f.jsx("p",{className:"login-subtitle",children:H?"Yeni hesab yaradın":"Hesabınıza daxil olun"})]}),pe&&f.jsxs("div",{className:"message error-message",children:[f.jsx("span",{className:"message-icon",children:"⚠️"}),pe]}),we&&f.jsxs("div",{className:"message success-message",children:[f.jsx("span",{className:"message-icon",children:"✅"}),we]}),H?f.jsxs("form",{onSubmit:K,className:"login-form",children:[f.jsx("div",{className:"form-group",children:f.jsxs("div",{className:"input-wrapper",children:[f.jsx("span",{className:"input-icon",children:"👤"}),f.jsx("input",{type:"text",value:ie.username,onChange:se=>ue({...ie,username:se.target.value}),placeholder:"İstifadəçi adı",required:!0,disabled:ce})]})}),f.jsx("div",{className:"form-group",children:f.jsxs("div",{className:"input-wrapper",children:[f.jsx("span",{className:"input-icon",children:"🔒"}),f.jsx("input",{type:C?"text":"password",value:ie.password,onChange:se=>ue({...ie,password:se.target.value}),placeholder:"Şifrə (ən azı 6 simvol)",required:!0,disabled:ce}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>R(!C),disabled:ce,children:C?"🙈":"👁️"})]})}),f.jsx("div",{className:"form-group",children:f.jsxs("div",{className:"input-wrapper",children:[f.jsx("span",{className:"input-icon",children:"✅"}),f.jsx("input",{type:z?"text":"password",value:ie.confirmPassword,onChange:se=>ue({...ie,confirmPassword:se.target.value}),placeholder:"Şifrəni təsdiqlə",required:!0,disabled:ce}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>ne(!z),disabled:ce,children:z?"🙈":"👁️"})]})}),f.jsx("div",{className:"form-group",children:f.jsxs("div",{className:"input-wrapper",children:[f.jsx("span",{className:"input-icon",children:"🎭"}),f.jsxs("select",{value:ie.role,onChange:se=>ue({...ie,role:se.target.value}),disabled:ce,children:[f.jsx("option",{value:"cashier",children:"Kassir"}),f.jsx("option",{value:"manager",children:"Menecer"}),f.jsx("option",{value:"inventory",children:"Anbar"})]})]})}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:ce,children:ce?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"loading-spinner"}),"Qeydiyyat edilir..."]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"btn-icon",children:"✨"}),"Qeydiyyatdan Keç"]})}),f.jsx("div",{className:"form-divider",children:f.jsx("span",{children:"və ya"})}),f.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>_(!1),disabled:ce,children:[f.jsx("span",{className:"btn-icon",children:"⬅️"}),"Girişə Qayıt"]})]}):f.jsxs("form",{onSubmit:le,className:"login-form",children:[f.jsx("div",{className:"form-group",children:f.jsxs("div",{className:"input-wrapper",children:[f.jsx("span",{className:"input-icon",children:"👤"}),f.jsx("input",{type:"text",value:A,onChange:se=>v(se.target.value),placeholder:"İstifadəçi adınızı daxil edin",required:!0,disabled:ce})]})}),f.jsx("div",{className:"form-group",children:f.jsxs("div",{className:"input-wrapper",children:[f.jsx("span",{className:"input-icon",children:"🔒"}),f.jsx("input",{type:C?"text":"password",value:S,onChange:se=>M(se.target.value),placeholder:"Şifrənizi daxil edin",required:!0,disabled:ce}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>R(!C),disabled:ce,children:C?"🙈":"👁️"})]})}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:ce,children:ce?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"loading-spinner"}),"Giriş edilir..."]}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"btn-icon",children:"🚀"}),"Giriş Et"]})}),f.jsx("div",{className:"form-divider",children:f.jsx("span",{children:"və ya"})}),f.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>_(!0),disabled:ce,children:[f.jsx("span",{className:"btn-icon",children:"📝"}),"Qeydiyyatdan Keç"]})]}),f.jsxs("div",{className:"demo-credentials",children:[f.jsx("h4",{children:"🚀 Demo Giriş Məlumatları:"}),f.jsx("div",{className:"demo-buttons",children:f.jsxs("button",{className:"demo-btn",onClick:()=>F("admin","admin123"),disabled:ce,children:[f.jsx("span",{className:"demo-icon",children:"👑"}),"Admin Giriş"]})}),f.jsxs("div",{className:"demo-info",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"İstifadəçi adı:"})," admin"]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Şifrə:"})," admin123"]})]})]})]})]})},jh=({user:p,onLogout:y,onViewChange:x,isDarkMode:A,onToggleDarkMode:v})=>{const[S,M]=Ae.useState({totalSales:0,totalRevenue:0,totalProducts:0,totalEmployees:0});Ae.useEffect(()=>{H()},[]);const H=()=>{const C=JSON.parse(localStorage.getItem("users")||"[]"),R=JSON.parse(localStorage.getItem("inventory")||"[]");let z=0,ne=0;C.forEach(ce=>{ce.sales&&(z+=ce.sales.length,ce.sales.forEach(V=>{ne+=V.productPrice*V.productQuantity}))}),M({totalSales:z,totalRevenue:ne.toFixed(2),totalProducts:R.length,totalEmployees:C.filter(ce=>!ce.isAdmin).length})},_=C=>{x(C)};return f.jsxs("div",{className:"admin-panel",children:[f.jsxs("header",{className:"admin-header",children:[f.jsxs("div",{className:"header-content",children:[f.jsx("h1",{children:"Admin Panel"}),f.jsxs("div",{className:"user-info",children:[f.jsxs("span",{children:["Xoş gəlmisiniz, ",p.name]}),f.jsx("button",{onClick:()=>x("dashboard"),className:"dashboard-btn",children:"📊 Dashboard"}),f.jsx("button",{onClick:v,className:"theme-btn",children:A?"☀️":"🌙"}),f.jsx("button",{onClick:y,className:"logout-btn",children:"Çıxış"})]})]}),f.jsxs("div",{className:"quick-actions",children:[f.jsx("button",{className:"quick-btn",onClick:()=>{localStorage.setItem("openAddProduct","1"),x("inventory")},children:"+ Məhsul Əlavə Et"}),f.jsx("button",{className:"quick-btn",onClick:()=>x("employees"),children:"+ İşçi Əlavə Et"})]})]}),f.jsxs("div",{className:"admin-content",children:[f.jsxs("div",{className:"stats-grid",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"💰"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Satış"}),f.jsxs("p",{children:[S.totalSales," əməliyyat"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"📈"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Gəlir"}),f.jsxs("p",{children:[S.totalRevenue," AZN"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"📦"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Məhsul Sayı"}),f.jsxs("p",{children:[S.totalProducts," ədəd"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"👥"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"İşçi Sayı"}),f.jsxs("p",{children:[S.totalEmployees," nəfər"]})]})]})]}),f.jsxs("div",{className:"features-grid",children:[f.jsxs("div",{className:"feature-card",onClick:()=>_("cashier"),children:[f.jsx("div",{className:"feature-icon",children:"🛒"}),f.jsx("h3",{children:"Kassa və Satışlar"}),f.jsx("p",{children:"Satış əməliyyatları və müştəri xidməti"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("inventory"),children:[f.jsx("div",{className:"feature-icon",children:"📋"}),f.jsx("h3",{children:"Anbar Uçotu"}),f.jsx("p",{children:"Məhsul inventarı və stok idarəetməsi"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("shift"),children:[f.jsx("div",{className:"feature-icon",children:"⏰"}),f.jsx("h3",{children:"Növbə Nəzarəti"}),f.jsx("p",{children:"İşçi növbələri və iş vaxtı izləmə"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("inventory-count"),children:[f.jsx("div",{className:"feature-icon",children:"🔍"}),f.jsx("h3",{children:"İnventarlaşdırma"}),f.jsx("p",{children:"Fiziki inventar yoxlaması"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("finance"),children:[f.jsx("div",{className:"feature-icon",children:"💳"}),f.jsx("h3",{children:"Maliyyə İdarəetməsi"}),f.jsx("p",{children:"Gəlir-xərc və maliyyə hesabatları"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("reports"),children:[f.jsx("div",{className:"feature-icon",children:"📊"}),f.jsx("h3",{children:"Hesabatlar"}),f.jsx("p",{children:"Detallı satış və maliyyə hesabatları"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("employees"),children:[f.jsx("div",{className:"feature-icon",children:"👨‍💼"}),f.jsx("h3",{children:"İşçi Rolları və Nəzarət"}),f.jsx("p",{children:"İşçi idarəetməsi və icazələr"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("settings"),children:[f.jsx("div",{className:"feature-icon",children:"⚙️"}),f.jsx("h3",{children:"Sistem Tənzimləmələri"}),f.jsx("p",{children:"Sistem parametrləri və konfiqurasiya"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("data-manager"),children:[f.jsx("div",{className:"feature-icon",children:"💾"}),f.jsx("h3",{children:"Məlumat İdarəetməsi"}),f.jsx("p",{children:"Backup, bərpa və məlumat ixrac/idxal"})]}),f.jsxs("div",{className:"feature-card",onClick:()=>_("customers"),children:[f.jsx("div",{className:"feature-icon",children:"👥"}),f.jsx("h3",{children:"Müştəri İdarəetməsi"}),f.jsx("p",{children:"Müştəri məlumatları və satış tarixçəsi"})]})]})]})]})},Bh=({user:p,onLogout:y,onViewChange:x,isDarkMode:A,onToggleDarkMode:v})=>{const[S,M]=Ae.useState({totalSales:0,totalRevenue:0,totalProducts:0,totalEmployees:0,todaySales:0,todayRevenue:0,lowStockCount:0,activeShifts:0}),[H,_]=Ae.useState([]),[C,R]=Ae.useState([]),[z,ne]=Ae.useState([]),[ce,V]=Ae.useState(!0),[pe,Ne]=Ae.useState(0);Ae.useEffect(()=>{we(),Ce(),ie(),ue(),V(!1);const K=setInterval(()=>{Ne(F=>F+1)},3e4);return()=>clearInterval(K)},[pe]);const we=()=>{const K=JSON.parse(localStorage.getItem("users")||"[]"),F=JSON.parse(localStorage.getItem("inventory")||"[]"),se=JSON.parse(localStorage.getItem("shifts")||"[]");let ge=0,fe=0,Me=0,Ue=0;const j=new Date().toDateString();K.forEach($=>{$.sales&&(ge+=$.sales.length,$.sales.forEach(De=>{const L=new Date(De.date).toDateString();fe+=De.total,L===j&&(Me++,Ue+=De.total)}))});const G=F.filter($=>$.quantity<=$.minStock).length,J=se.filter($=>!$.endTime).length;M({totalSales:ge,totalRevenue:fe.toFixed(2),totalProducts:F.length,totalEmployees:K.filter($=>!$.isAdmin).length,todaySales:Me,todayRevenue:Ue.toFixed(2),lowStockCount:G,activeShifts:J})},Ce=()=>{const K=[],F=JSON.parse(localStorage.getItem("users")||"[]"),se=JSON.parse(localStorage.getItem("inventory")||"[]");F.forEach(ge=>{ge.sales&&ge.sales.slice(0,5).forEach(fe=>{K.push({id:`sale-${fe.id}`,type:"sale",message:`${ge.name} ${fe.total} AZN satış etdi`,time:fe.date,icon:"💰",color:"success"})})}),se.forEach(ge=>{ge.lastUpdated&&K.push({id:`inventory-${ge.id}`,type:"inventory",message:`${ge.name} məhsulu yeniləndi`,time:ge.lastUpdated,icon:"📦",color:"info"})}),K.sort((ge,fe)=>new Date(fe.time)-new Date(ge.time)),_(K.slice(0,10))},ie=()=>{JSON.parse(localStorage.getItem("inventory")||"[]");const K=JSON.parse(localStorage.getItem("users")||"[]"),F={};K.forEach(ge=>{ge.sales&&ge.sales.forEach(fe=>{F[fe.productName]?F[fe.productName]+=fe.productQuantity:F[fe.productName]=fe.productQuantity})});const se=Object.entries(F).map(([ge,fe])=>({name:ge,quantity:fe})).sort((ge,fe)=>fe.quantity-ge.quantity).slice(0,5);R(se)},ue=()=>{const K=JSON.parse(localStorage.getItem("users")||"[]"),se=["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"].map(ge=>({day:ge,sales:0,revenue:0}));K.forEach(ge=>{ge.sales&&ge.sales.forEach(fe=>{const Ue=new Date(fe.date).getDay();se[Ue].sales++,se[Ue].revenue+=fe.total})}),ne(se)},Ie=()=>Math.max(...z.map(K=>K.revenue)),Le=K=>{const F=new Date(K),ge=new Date-F;return ge<6e4?"İndicə":ge<36e5?`${Math.floor(ge/6e4)} dəqiqə əvvəl`:ge<864e5?`${Math.floor(ge/36e5)} saat əvvəl`:F.toLocaleDateString("az-AZ")},le=K=>{switch(K){case"addProduct":localStorage.setItem("openAddProduct","1"),x("inventory");break;case"newSale":x("cashier");break;case"viewReports":x("reports");break;case"manageEmployees":x("employees");break;default:x(K)}};return ce?f.jsxs("div",{className:"dashboard loading",children:[f.jsx("div",{className:"loading-spinner"}),f.jsx("p",{children:"Məlumatlar yüklənir..."})]}):f.jsxs("div",{className:"dashboard",children:[f.jsx("header",{className:"dashboard-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("h1",{children:"📊 İdarəetmə Paneli"}),f.jsxs("p",{children:["Xoş gəlmisiniz, ",p.name,"!"]})]}),f.jsxs("div",{className:"header-right",children:[f.jsxs("div",{className:"user-info",children:[f.jsx("span",{className:"user-name",children:p.name}),f.jsx("span",{className:"user-role",children:p.role})]}),f.jsx("button",{onClick:v,className:"theme-btn",children:A?"☀️":"🌙"}),f.jsx("button",{onClick:y,className:"logout-btn",children:"Çıxış"})]})]})}),f.jsxs("div",{className:"dashboard-content",children:[f.jsxs("div",{className:"stats-overview",children:[f.jsxs("div",{className:"stat-card primary",children:[f.jsx("div",{className:"stat-icon",children:"💰"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Bu Günkü Satış"}),f.jsxs("p",{className:"stat-value",children:[S.todaySales," əməliyyat"]}),f.jsxs("p",{className:"stat-amount",children:[S.todayRevenue," AZN"]})]})]}),f.jsxs("div",{className:"stat-card success",children:[f.jsx("div",{className:"stat-icon",children:"📈"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Gəlir"}),f.jsxs("p",{className:"stat-value",children:[S.totalRevenue," AZN"]}),f.jsxs("p",{className:"stat-subtitle",children:[S.totalSales," satış"]})]})]}),f.jsxs("div",{className:"stat-card warning",children:[f.jsx("div",{className:"stat-icon",children:"📦"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Məhsul Sayı"}),f.jsxs("p",{className:"stat-value",children:[S.totalProducts," ədəd"]}),f.jsxs("p",{className:"stat-subtitle",children:[S.lowStockCount," az stok"]})]})]}),f.jsxs("div",{className:"stat-card info",children:[f.jsx("div",{className:"stat-icon",children:"👥"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"İşçi Sayı"}),f.jsxs("p",{className:"stat-value",children:[S.totalEmployees," nəfər"]}),f.jsxs("p",{className:"stat-subtitle",children:[S.activeShifts," aktiv növbə"]})]})]})]}),f.jsxs("div",{className:"dashboard-grid",children:[f.jsxs("div",{className:"chart-card",children:[f.jsxs("div",{className:"card-header",children:[f.jsx("h3",{children:"📊 Həftəlik Satışlar"}),f.jsx("button",{onClick:()=>Ne(K=>K+1),className:"refresh-btn",children:"🔄"})]}),f.jsx("div",{className:"chart-content",children:z.map((K,F)=>f.jsxs("div",{className:"chart-bar",children:[f.jsx("div",{className:"bar-label",children:K.day}),f.jsx("div",{className:"bar-container",children:f.jsx("div",{className:"bar-fill",style:{height:`${K.revenue/Ie()*100}%`,backgroundColor:`hsl(${200+F*30}, 70%, 60%)`}})}),f.jsxs("div",{className:"bar-value",children:[K.revenue.toFixed(0)," AZN"]})]},F))})]}),f.jsxs("div",{className:"activity-card",children:[f.jsx("div",{className:"card-header",children:f.jsx("h3",{children:"🕒 Son Fəaliyyətlər"})}),f.jsx("div",{className:"activity-list",children:H.length>0?H.map(K=>f.jsxs("div",{className:`activity-item ${K.color}`,children:[f.jsx("div",{className:"activity-icon",children:K.icon}),f.jsxs("div",{className:"activity-content",children:[f.jsx("p",{className:"activity-message",children:K.message}),f.jsx("span",{className:"activity-time",children:Le(K.time)})]})]},K.id)):f.jsx("div",{className:"empty-state",children:f.jsx("p",{children:"Hələ fəaliyyət yoxdur"})})})]}),f.jsxs("div",{className:"products-card",children:[f.jsx("div",{className:"card-header",children:f.jsx("h3",{children:"🏆 Ən Çox Satılan Məhsullar"})}),f.jsx("div",{className:"products-list",children:C.length>0?C.map((K,F)=>f.jsxs("div",{className:"product-item",children:[f.jsxs("div",{className:"product-rank",children:["#",F+1]}),f.jsxs("div",{className:"product-info",children:[f.jsx("h4",{children:K.name}),f.jsxs("p",{children:[K.quantity," ədəd satılıb"]})]}),f.jsx("div",{className:"product-icon",children:"📦"})]},K.name)):f.jsx("div",{className:"empty-state",children:f.jsx("p",{children:"Hələ satış məlumatı yoxdur"})})})]}),f.jsxs("div",{className:"quick-actions-card",children:[f.jsx("div",{className:"card-header",children:f.jsx("h3",{children:"⚡ Sürətli Əməliyyatlar"})}),f.jsxs("div",{className:"quick-actions-grid",children:[f.jsxs("button",{onClick:()=>le("addProduct"),className:"quick-action-btn primary",children:[f.jsx("span",{className:"action-icon",children:"➕"}),f.jsx("span",{children:"Məhsul Əlavə Et"})]}),f.jsxs("button",{onClick:()=>le("newSale"),className:"quick-action-btn success",children:[f.jsx("span",{className:"action-icon",children:"🛒"}),f.jsx("span",{children:"Yeni Satış"})]}),f.jsxs("button",{onClick:()=>le("viewReports"),className:"quick-action-btn info",children:[f.jsx("span",{className:"action-icon",children:"📊"}),f.jsx("span",{children:"Hesabatlar"})]}),f.jsxs("button",{onClick:()=>le("manageEmployees"),className:"quick-action-btn warning",children:[f.jsx("span",{className:"action-icon",children:"👥"}),f.jsx("span",{children:"İşçi İdarəetməsi"})]}),f.jsxs("button",{onClick:()=>le("inventory"),className:"quick-action-btn secondary",children:[f.jsx("span",{className:"action-icon",children:"📋"}),f.jsx("span",{children:"Anbar"})]}),f.jsxs("button",{onClick:()=>le("finance"),className:"quick-action-btn danger",children:[f.jsx("span",{className:"action-icon",children:"💳"}),f.jsx("span",{children:"Maliyyə"})]}),f.jsxs("button",{onClick:()=>le("data-manager"),className:"quick-action-btn secondary",children:[f.jsx("span",{className:"action-icon",children:"💾"}),f.jsx("span",{children:"Məlumat İdarəetməsi"})]})]})]})]})]})]})};var Re;(function(p){p[p.QR_CODE=0]="QR_CODE",p[p.AZTEC=1]="AZTEC",p[p.CODABAR=2]="CODABAR",p[p.CODE_39=3]="CODE_39",p[p.CODE_93=4]="CODE_93",p[p.CODE_128=5]="CODE_128",p[p.DATA_MATRIX=6]="DATA_MATRIX",p[p.MAXICODE=7]="MAXICODE",p[p.ITF=8]="ITF",p[p.EAN_13=9]="EAN_13",p[p.EAN_8=10]="EAN_8",p[p.PDF_417=11]="PDF_417",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Re||(Re={}));var L0=new Map([[Re.QR_CODE,"QR_CODE"],[Re.AZTEC,"AZTEC"],[Re.CODABAR,"CODABAR"],[Re.CODE_39,"CODE_39"],[Re.CODE_93,"CODE_93"],[Re.CODE_128,"CODE_128"],[Re.DATA_MATRIX,"DATA_MATRIX"],[Re.MAXICODE,"MAXICODE"],[Re.ITF,"ITF"],[Re.EAN_13,"EAN_13"],[Re.EAN_8,"EAN_8"],[Re.PDF_417,"PDF_417"],[Re.RSS_14,"RSS_14"],[Re.RSS_EXPANDED,"RSS_EXPANDED"],[Re.UPC_A,"UPC_A"],[Re.UPC_E,"UPC_E"],[Re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),k0;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.URL=1]="URL"})(k0||(k0={}));function Lh(p){return Object.values(Re).includes(p)}var Va;(function(p){p[p.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",p[p.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Va||(Va={}));var va=function(){function p(){}return p.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",p.SCAN_DEFAULT_FPS=2,p.DEFAULT_DISABLE_FLIP=!1,p.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,p.DEFAULT_SUPPORTED_SCAN_TYPE=[Va.SCAN_TYPE_CAMERA,Va.SCAN_TYPE_FILE],p}(),ed=function(){function p(y,x){this.format=y,this.formatName=x}return p.prototype.toString=function(){return this.formatName},p.create=function(y){if(!L0.has(y))throw"".concat(y," not in html5QrcodeSupportedFormatsTextMap");return new p(y,L0.get(y))},p}(),U0=function(){function p(){}return p.createFromText=function(y){var x={text:y};return{decodedText:y,result:x}},p.createFromQrcodeResult=function(y){return{decodedText:y.text,result:y}},p}(),Nu;(function(p){p[p.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",p[p.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",p[p.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Nu||(Nu={}));var td=function(){function p(){}return p.createFrom=function(y){return{errorMessage:y,type:Nu.UNKWOWN_ERROR}},p}(),nd=function(){function p(y){this.verbose=y}return p.prototype.log=function(y){this.verbose&&console.log(y)},p.prototype.warn=function(y){this.verbose&&console.warn(y)},p.prototype.logError=function(y,x){(this.verbose||x===!0)&&console.error(y)},p.prototype.logErrors=function(y){if(y.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(y)},p}();function Ga(p){return typeof p>"u"||p===null}function kh(p,y,x){return p>x?x:p<y?y:p}var or=function(){function p(){}return p.codeParseError=function(y){return"QR code parse error, error = ".concat(y)},p.errorGettingUserMedia=function(y){return"Error getting userMedia, error = ".concat(y)},p.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},p.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},p.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},p.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},p.scannerPaused=function(){return"Scanner paused"},p}(),wt=function(){function p(){}return p.scanningStatus=function(){return"Scanning"},p.idleStatus=function(){return"Idle"},p.errorStatus=function(){return"Error"},p.permissionStatus=function(){return"Permission"},p.noCameraFoundErrorStatus=function(){return"No Cameras"},p.lastMatch=function(y){return"Last Match: ".concat(y)},p.codeScannerTitle=function(){return"Code Scanner"},p.cameraPermissionTitle=function(){return"Request Camera Permissions"},p.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},p.noCameraFound=function(){return"No camera found"},p.scanButtonStopScanningText=function(){return"Stop Scanning"},p.scanButtonStartScanningText=function(){return"Start Scanning"},p.torchOnButton=function(){return"Switch On Torch"},p.torchOffButton=function(){return"Switch Off Torch"},p.torchOnFailedMessage=function(){return"Failed to turn on torch"},p.torchOffFailedMessage=function(){return"Failed to turn off torch"},p.scanButtonScanningStarting=function(){return"Launching Camera..."},p.textIfCameraScanSelected=function(){return"Scan an Image File"},p.textIfFileScanSelected=function(){return"Scan using camera directly"},p.selectCamera=function(){return"Select Camera"},p.fileSelectionChooseImage=function(){return"Choose Image"},p.fileSelectionChooseAnother=function(){return"Choose Another"},p.fileSelectionNoImageSelected=function(){return"No image choosen"},p.anonymousCameraPrefix=function(){return"Anonymous Camera"},p.dragAndDropMessage=function(){return"Or drop an image to scan"},p.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},p.zoom=function(){return"zoom"},p.loadingImage=function(){return"Loading image..."},p.cameraScanAltText=function(){return"Camera based scan"},p.fileScanAltText=function(){return"Fule based scan"},p}(),z0=function(){function p(){}return p.poweredBy=function(){return"Powered by "},p.reportIssues=function(){return"Report issues"},p}(),ad=function(){function p(){}return p.isMediaStreamConstraintsValid=function(y,x){if(typeof y!="object"){var A=typeof y;return x.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(A,"."),!0),!1}for(var v=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],S=new Set(v),M=Object.keys(y),H=0,_=M;H<_.length;H++){var C=_[H];if(S.has(C))return x.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},p}(),cl={exports:{}},Uh=cl.exports,F0;function zh(){return F0||(F0=1,function(p,y){(function(x,A){A(y)})(Uh,function(x){function A(b){return b==null}var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,t){b.__proto__=t}||function(b,t){for(var a in t)t.hasOwnProperty(a)&&(b[a]=t[a])};function S(b,t){v(b,t);function a(){this.constructor=b}b.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function M(b,t){var a=Object.setPrototypeOf;a?a(b,t):b.__proto__=t}function H(b,t){t===void 0&&(t=b.constructor);var a=Error.captureStackTrace;a&&a(b,t)}var _=function(b){S(t,b);function t(a){var i=this.constructor,r=b.call(this,a)||this;return Object.defineProperty(r,"name",{value:i.name,enumerable:!1}),M(r,i.prototype),H(r),r}return t}(Error);class C extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class R extends C{}R.kind="ArgumentException";class z extends C{}z.kind="IllegalArgumentException";class ne{constructor(t){if(this.binarizer=t,t===null)throw new z("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,i,r){const l=this.binarizer.getLuminanceSource().crop(t,a,i,r);return new ne(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new ne(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new ne(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ce extends C{static getChecksumInstance(){return new ce}}ce.kind="ChecksumException";class V{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class pe{static arraycopy(t,a,i,r,l){for(;l--;)i[r++]=t[a++]}static currentTimeMillis(){return Date.now()}}class Ne extends C{}Ne.kind="IndexOutOfBoundsException";class we extends Ne{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}we.kind="ArrayIndexOutOfBoundsException";class Ce{static fill(t,a){for(let i=0,r=t.length;i<r;i++)t[i]=a}static fillWithin(t,a,i,r){Ce.rangeCheck(t.length,a,i);for(let l=a;l<i;l++)t[l]=r}static rangeCheck(t,a,i){if(a>i)throw new z("fromIndex("+a+") > toIndex("+i+")");if(a<0)throw new we(a);if(i>t)throw new we(i)}static asList(...t){return t}static create(t,a,i){return Array.from({length:t}).map(l=>Array.from({length:a}).fill(i))}static createInt32Array(t,a,i){return Array.from({length:t}).map(l=>Int32Array.from({length:a}).fill(i))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let i=0,r=t.length;i<r;i++)if(t[i]!==a[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const i of t)a=31*a+i;return a}static fillUint8Array(t,a){for(let i=0;i!==t.length;i++)t[i]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const i=new Uint8Array(a);return i.set(t),i}return t.slice(0,a)}static copyOfRange(t,a,i){const r=i-a,l=new Int32Array(r);return pe.arraycopy(t,a,l,0,r),l}static binarySearch(t,a,i){i===void 0&&(i=Ce.numberComparator);let r=0,l=t.length-1;for(;r<=l;){const o=l+r>>1,u=i(a,t[o]);if(u>0)r=o+1;else if(u<0)l=o-1;else return o}return-r-1}static numberComparator(t,a){return t-a}}class ie{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let i=31;return a=t<<16,a!==0&&(i-=16,t=a),a=t<<8,a!==0&&(i-=8,t=a),a=t<<4,a!==0&&(i-=4,t=a),a=t<<2,a!==0&&(i-=2,t=a),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}ie.MIN_VALUE_32_BITS=-2147483648,ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ue{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=ue.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=ue.makeArray(t);pe.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const i=this.bits;let r=Math.floor(t/32),l=i[r];l&=~((1<<(t&31))-1);const o=i.length;for(;l===0;){if(++r===o)return a;l=i[r]}const u=r*32+ie.numberOfTrailingZeros(l);return u>a?a:u}getNextUnset(t){const a=this.size;if(t>=a)return a;const i=this.bits;let r=Math.floor(t/32),l=~i[r];l&=~((1<<(t&31))-1);const o=i.length;for(;l===0;){if(++r===o)return a;l=~i[r]}const u=r*32+ie.numberOfTrailingZeros(l);return u>a?a:u}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new z;if(a===t)return;a--;const i=Math.floor(t/32),r=Math.floor(a/32),l=this.bits;for(let o=i;o<=r;o++){const u=o>i?0:t&31,m=(2<<(o<r?31:a&31))-(1<<u);l[o]|=m}}clear(){const t=this.bits.length,a=this.bits;for(let i=0;i<t;i++)a[i]=0}isRange(t,a,i){if(a<t||t<0||a>this.size)throw new z;if(a===t)return!0;a--;const r=Math.floor(t/32),l=Math.floor(a/32),o=this.bits;for(let u=r;u<=l;u++){const h=u>r?0:t&31,E=(2<<(u<l?31:a&31))-(1<<h)&4294967295;if((o[u]&E)!==(i?E:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new z("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let i=a;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let i=0;i<a;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new z("Sizes don't match");const a=this.bits;for(let i=0,r=a.length;i<r;i++)a[i]^=t.bits[i]}toBytes(t,a,i,r){for(let l=0;l<r;l++){let o=0;for(let u=0;u<8;u++)this.get(t)&&(o|=1<<7-u),t++;a[i+l]=o}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),i=a+1,r=this.bits;for(let l=0;l<i;l++){let o=r[l];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,t[a-l]=o}if(this.size!==i*32){const l=i*32-this.size;let o=t[0]>>>l;for(let u=1;u<i;u++){const h=t[u];o|=h<<32-l,t[u-1]=o,o=h>>>l}t[i-1]=o}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof ue))return!1;const a=t;return this.size===a.size&&Ce.equals(this.bits,a.bits)}hashCode(){return 31*this.size+Ce.hashCode(this.bits)}toString(){let t="";for(let a=0,i=this.size;a<i;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new ue(this.size,this.bits.slice())}}var Ie;(function(b){b[b.OTHER=0]="OTHER",b[b.PURE_BARCODE=1]="PURE_BARCODE",b[b.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",b[b.TRY_HARDER=3]="TRY_HARDER",b[b.CHARACTER_SET=4]="CHARACTER_SET",b[b.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",b[b.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",b[b.ASSUME_GS1=7]="ASSUME_GS1",b[b.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",b[b.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",b[b.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ie||(Ie={}));var Le=Ie;class le extends C{static getFormatInstance(){return new le}}le.kind="FormatException";var K;(function(b){b[b.Cp437=0]="Cp437",b[b.ISO8859_1=1]="ISO8859_1",b[b.ISO8859_2=2]="ISO8859_2",b[b.ISO8859_3=3]="ISO8859_3",b[b.ISO8859_4=4]="ISO8859_4",b[b.ISO8859_5=5]="ISO8859_5",b[b.ISO8859_6=6]="ISO8859_6",b[b.ISO8859_7=7]="ISO8859_7",b[b.ISO8859_8=8]="ISO8859_8",b[b.ISO8859_9=9]="ISO8859_9",b[b.ISO8859_10=10]="ISO8859_10",b[b.ISO8859_11=11]="ISO8859_11",b[b.ISO8859_13=12]="ISO8859_13",b[b.ISO8859_14=13]="ISO8859_14",b[b.ISO8859_15=14]="ISO8859_15",b[b.ISO8859_16=15]="ISO8859_16",b[b.SJIS=16]="SJIS",b[b.Cp1250=17]="Cp1250",b[b.Cp1251=18]="Cp1251",b[b.Cp1252=19]="Cp1252",b[b.Cp1256=20]="Cp1256",b[b.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",b[b.UTF8=22]="UTF8",b[b.ASCII=23]="ASCII",b[b.Big5=24]="Big5",b[b.GB18030=25]="GB18030",b[b.EUC_KR=26]="EUC_KR"})(K||(K={}));class F{constructor(t,a,i,...r){this.valueIdentifier=t,this.name=i,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=r,F.VALUE_IDENTIFIER_TO_ECI.set(t,this),F.NAME_TO_ECI.set(i,this);const l=this.values;for(let o=0,u=l.length;o!==u;o++){const h=l[o];F.VALUES_TO_ECI.set(h,this)}for(const o of r)F.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new le("incorect value");const a=F.VALUES_TO_ECI.get(t);if(a===void 0)throw new le("incorect value");return a}static getCharacterSetECIByName(t){const a=F.NAME_TO_ECI.get(t);if(a===void 0)throw new le("incorect value");return a}equals(t){if(!(t instanceof F))return!1;const a=t;return this.getName()===a.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(K.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(K.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(K.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(K.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(K.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(K.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(K.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(K.Big5,28,"Big5"),F.GB18030=new F(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(K.EUC_KR,30,"EUC_KR","EUC-KR");class se extends C{}se.kind="UnsupportedOperationException";class ge{static decode(t,a){const i=this.encodingName(a);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!ge.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const i=this.encodingName(a);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof F?t:F.getCharacterSetECIByName(t)}static decodeFallback(t,a){const i=this.encodingCharacterSet(a);if(ge.isDecodeFallbackSupported(i)){let r="";for(let l=0,o=t.length;l<o;l++){let u=t[l].toString(16);u.length<2&&(u="0"+u),r+="%"+u}return decodeURIComponent(r)}if(i.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new se(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(F.UTF8)||t.equals(F.ISO8859_1)||t.equals(F.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),r=[];for(let l=0;l<i.length;l++)r.push(i[l].charCodeAt(0));return new Uint8Array(r)}}class fe{static castAsNonUtf8Char(t,a=null){const i=a?a.getName():this.ISO88591;return ge.decode(new Uint8Array([t]),i)}static guessEncoding(t,a){if(a!=null&&a.get(Le.CHARACTER_SET)!==void 0)return a.get(Le.CHARACTER_SET).toString();const i=t.length;let r=!0,l=!0,o=!0,u=0,h=0,m=0,E=0,N=0,T=0,D=0,k=0,U=0,X=0,ee=0;const ye=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Ee=0;Ee<i&&(r||l||o);Ee++){const me=t[Ee]&255;o&&(u>0?(me&128)===0?o=!1:u--:(me&128)!==0&&((me&64)===0?o=!1:(u++,(me&32)===0?h++:(u++,(me&16)===0?m++:(u++,(me&8)===0?E++:o=!1))))),r&&(me>127&&me<160?r=!1:me>159&&(me<192||me===215||me===247)&&ee++),l&&(N>0?me<64||me===127||me>252?l=!1:N--:me===128||me===160||me>239?l=!1:me>160&&me<224?(T++,k=0,D++,D>U&&(U=D)):me>127?(N++,D=0,k++,k>X&&(X=k)):(D=0,k=0))}return o&&u>0&&(o=!1),l&&N>0&&(l=!1),o&&(ye||h+m+E>0)?fe.UTF8:l&&(fe.ASSUME_SHIFT_JIS||U>=3||X>=3)?fe.SHIFT_JIS:r&&l?U===2&&T===2||ee*10>=i?fe.SHIFT_JIS:fe.ISO88591:r?fe.ISO88591:l?fe.SHIFT_JIS:o?fe.UTF8:fe.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let i=-1;function r(o,u,h,m,E,N){if(o==="%%")return"%";if(a[++i]===void 0)return;o=m?parseInt(m.substr(1)):void 0;let T=E?parseInt(E.substr(1)):void 0,D;switch(N){case"s":D=a[i];break;case"c":D=a[i][0];break;case"f":D=parseFloat(a[i]).toFixed(o);break;case"p":D=parseFloat(a[i]).toPrecision(o);break;case"e":D=parseFloat(a[i]).toExponential(o);break;case"x":D=parseInt(a[i]).toString(T||16);break;case"d":D=parseFloat(parseInt(a[i],T||10).toPrecision(o)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(T);let k=parseInt(h),U=h&&h[0]+""=="0"?"0":" ";for(;D.length<k;)D=u!==void 0?D+U:U+D;return D}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,r)}static getBytes(t,a){return ge.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}fe.SHIFT_JIS=F.SJIS.getName(),fe.GB2312="GB2312",fe.ISO88591=F.ISO8859_1.getName(),fe.EUC_JP="EUC_JP",fe.UTF8=F.UTF8.getName(),fe.PLATFORM_DEFAULT_ENCODING=fe.UTF8,fe.ASSUME_SHIFT_JIS=!1;class Me{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=fe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,i){for(let r=a;a<a+i;r++)this.append(t[r]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class Ue{constructor(t,a,i,r){if(this.width=t,this.height=a,this.rowSize=i,this.bits=r,a==null&&(a=t),this.height=a,t<1||a<1)throw new z("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,r==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,i=t[0].length,r=new Ue(i,a);for(let l=0;l<a;l++){const o=t[l];for(let u=0;u<i;u++)o[u]&&r.set(u,l)}return r}static parseFromString(t,a,i){if(t===null)throw new z("stringRepresentation cannot be null");const r=new Array(t.length);let l=0,o=0,u=-1,h=0,m=0;for(;m<t.length;)if(t.charAt(m)===`
`||t.charAt(m)==="\r"){if(l>o){if(u===-1)u=l-o;else if(l-o!==u)throw new z("row lengths do not match");o=l,h++}m++}else if(t.substring(m,m+a.length)===a)m+=a.length,r[l]=!0,l++;else if(t.substring(m,m+i.length)===i)m+=i.length,r[l]=!1,l++;else throw new z("illegal character encountered: "+t.substring(m));if(l>o){if(u===-1)u=l-o;else if(l-o!==u)throw new z("row lengths do not match");h++}const E=new Ue(u,h);for(let N=0;N<l;N++)r[N]&&E.set(Math.floor(N%u),Math.floor(N/u));return E}get(t,a){const i=a*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,a){const i=a*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new z("input matrix dimensions do not match");const a=new ue(Math.floor(this.width/32)+1),i=this.rowSize,r=this.bits;for(let l=0,o=this.height;l<o;l++){const u=l*i,h=t.getRow(l,a).getBitArray();for(let m=0;m<i;m++)r[u+m]^=h[m]}}clear(){const t=this.bits,a=t.length;for(let i=0;i<a;i++)t[i]=0}setRegion(t,a,i,r){if(a<0||t<0)throw new z("Left and top must be nonnegative");if(r<1||i<1)throw new z("Height and width must be at least 1");const l=t+i,o=a+r;if(o>this.height||l>this.width)throw new z("The region must fit inside the matrix");const u=this.rowSize,h=this.bits;for(let m=a;m<o;m++){const E=m*u;for(let N=t;N<l;N++)h[E+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new ue(this.width):a.clear();const i=this.rowSize,r=this.bits,l=t*i;for(let o=0;o<i;o++)a.setBulk(o*32,r[l+o]);return a}setRow(t,a){pe.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let i=new ue(t),r=new ue(t);for(let l=0,o=Math.floor((a+1)/2);l<o;l++)i=this.getRow(l,i),r=this.getRow(a-1-l,r),i.reverse(),r.reverse(),this.setRow(l,r),this.setRow(a-1-l,i)}getEnclosingRectangle(){const t=this.width,a=this.height,i=this.rowSize,r=this.bits;let l=t,o=a,u=-1,h=-1;for(let m=0;m<a;m++)for(let E=0;E<i;E++){const N=r[m*i+E];if(N!==0){if(m<o&&(o=m),m>h&&(h=m),E*32<l){let T=0;for(;(N<<31-T&4294967295)===0;)T++;E*32+T<l&&(l=E*32+T)}if(E*32+31>u){let T=31;for(;!(N>>>T);)T--;E*32+T>u&&(u=E*32+T)}}}return u<l||h<o?null:Int32Array.from([l,o,u-l+1,h-o+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let i=0;for(;i<a.length&&a[i]===0;)i++;if(i===a.length)return null;const r=i/t;let l=i%t*32;const o=a[i];let u=0;for(;(o<<31-u&4294967295)===0;)u++;return l+=u,Int32Array.from([l,r])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let i=a.length-1;for(;i>=0&&a[i]===0;)i--;if(i<0)return null;const r=Math.floor(i/t);let l=Math.floor(i%t)*32;const o=a[i];let u=31;for(;!(o>>>u);)u--;return l+=u,Int32Array.from([l,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ue))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&Ce.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Ce.hashCode(this.bits),t}toString(t="X ",a="  ",i=`
`){return this.buildToString(t,a,i)}buildToString(t,a,i){let r=new Me;for(let l=0,o=this.height;l<o;l++){for(let u=0,h=this.width;u<h;u++)r.append(this.get(u,l)?t:a);r.append(i)}return r.toString()}clone(){return new Ue(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends C{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class G extends V{constructor(t){super(t),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(t,a){const i=this.getLuminanceSource(),r=i.getWidth();a==null||a.getSize()<r?a=new ue(r):a.clear(),this.initArrays(r);const l=i.getRow(t,this.luminances),o=this.buckets;for(let h=0;h<r;h++)o[(l[h]&255)>>G.LUMINANCE_SHIFT]++;const u=G.estimateBlackPoint(o);if(r<3)for(let h=0;h<r;h++)(l[h]&255)<u&&a.set(h);else{let h=l[0]&255,m=l[1]&255;for(let E=1;E<r-1;E++){const N=l[E+1]&255;(m*4-h-N)/2<u&&a.set(E),h=m,m=N}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),i=t.getHeight(),r=new Ue(a,i);this.initArrays(a);const l=this.buckets;for(let h=1;h<5;h++){const m=Math.floor(i*h/5),E=t.getRow(m,this.luminances),N=Math.floor(a*4/5);for(let T=Math.floor(a/5);T<N;T++){const D=E[T]&255;l[D>>G.LUMINANCE_SHIFT]++}}const o=G.estimateBlackPoint(l),u=t.getMatrix();for(let h=0;h<i;h++){const m=h*a;for(let E=0;E<a;E++)(u[m+E]&255)<o&&r.set(E,h)}return r}createBinarizer(t){return new G(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let i=0;i<G.LUMINANCE_BUCKETS;i++)a[i]=0}static estimateBlackPoint(t){const a=t.length;let i=0,r=0,l=0;for(let E=0;E<a;E++)t[E]>l&&(r=E,l=t[E]),t[E]>i&&(i=t[E]);let o=0,u=0;for(let E=0;E<a;E++){const N=E-r,T=t[E]*N*N;T>u&&(o=E,u=T)}if(r>o){const E=r;r=o,o=E}if(o-r<=a/16)throw new j;let h=o-1,m=-1;for(let E=o-1;E>r;E--){const N=E-r,T=N*N*(o-E)*(i-t[E]);T>m&&(h=E,m=T)}return h<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class J extends G{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),i=t.getHeight();if(a>=J.MINIMUM_DIMENSION&&i>=J.MINIMUM_DIMENSION){const r=t.getMatrix();let l=a>>J.BLOCK_SIZE_POWER;(a&J.BLOCK_SIZE_MASK)!==0&&l++;let o=i>>J.BLOCK_SIZE_POWER;(i&J.BLOCK_SIZE_MASK)!==0&&o++;const u=J.calculateBlackPoints(r,l,o,a,i),h=new Ue(a,i);J.calculateThresholdForBlock(r,l,o,a,i,u,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new J(t)}static calculateThresholdForBlock(t,a,i,r,l,o,u){const h=l-J.BLOCK_SIZE,m=r-J.BLOCK_SIZE;for(let E=0;E<i;E++){let N=E<<J.BLOCK_SIZE_POWER;N>h&&(N=h);const T=J.cap(E,2,i-3);for(let D=0;D<a;D++){let k=D<<J.BLOCK_SIZE_POWER;k>m&&(k=m);const U=J.cap(D,2,a-3);let X=0;for(let ye=-2;ye<=2;ye++){const Ee=o[T+ye];X+=Ee[U-2]+Ee[U-1]+Ee[U]+Ee[U+1]+Ee[U+2]}const ee=X/25;J.thresholdBlock(t,k,N,ee,r,u)}}}static cap(t,a,i){return t<a?a:t>i?i:t}static thresholdBlock(t,a,i,r,l,o){for(let u=0,h=i*l+a;u<J.BLOCK_SIZE;u++,h+=l)for(let m=0;m<J.BLOCK_SIZE;m++)(t[h+m]&255)<=r&&o.set(a+m,i+u)}static calculateBlackPoints(t,a,i,r,l){const o=l-J.BLOCK_SIZE,u=r-J.BLOCK_SIZE,h=new Array(i);for(let m=0;m<i;m++){h[m]=new Int32Array(a);let E=m<<J.BLOCK_SIZE_POWER;E>o&&(E=o);for(let N=0;N<a;N++){let T=N<<J.BLOCK_SIZE_POWER;T>u&&(T=u);let D=0,k=255,U=0;for(let ee=0,ye=E*r+T;ee<J.BLOCK_SIZE;ee++,ye+=r){for(let Ee=0;Ee<J.BLOCK_SIZE;Ee++){const me=t[ye+Ee]&255;D+=me,me<k&&(k=me),me>U&&(U=me)}if(U-k>J.MIN_DYNAMIC_RANGE)for(ee++,ye+=r;ee<J.BLOCK_SIZE;ee++,ye+=r)for(let Ee=0;Ee<J.BLOCK_SIZE;Ee++)D+=t[ye+Ee]&255}let X=D>>J.BLOCK_SIZE_POWER*2;if(U-k<=J.MIN_DYNAMIC_RANGE&&(X=k/2,m>0&&N>0)){const ee=(h[m-1][N]+2*h[m][N-1]+h[m-1][N-1])/4;k<ee&&(X=ee)}h[m][N]=X}}return h}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class ${constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,i,r){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Me;for(let i=0;i<this.height;i++){const r=this.getRow(i,t);for(let l=0;l<this.width;l++){const o=r[l]&255;let u;o<64?u="#":o<128?u="+":o<192?u=".":u=" ",a.append(u)}a.append(`
`)}return a.toString()}}class De extends ${constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const i=this.delegate.getRow(t,a),r=this.getWidth();for(let l=0;l<r;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(a);for(let r=0;r<a;r++)i[r]=255-(t[r]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,i,r){return new De(this.delegate.crop(t,a,i,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class L extends ${constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=L.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return L.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,i){const r=new Uint8ClampedArray(a*i);for(let l=0,o=0,u=t.length;l<u;l+=4,o++){let h;if(t[l+3]===0)h=255;else{const E=t[l],N=t[l+1],T=t[l+2];h=306*E+601*N+117*T+512>>10}r[o]=h}return r}getRow(t,a){if(t<0||t>=this.getHeight())throw new z("Requested row is outside the image: "+t);const i=this.getWidth(),r=t*i;return a===null?a=this.buffer.slice(r,r+i):(a.length<i&&(a=new Uint8ClampedArray(i)),a.set(this.buffer.slice(r,r+i))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,i,r){return super.crop(t,a,i,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),i=a.getContext("2d"),r=t*L.DEGREE_TO_RADIANS,l=this.canvas.width,o=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(r))*l+Math.abs(Math.sin(r))*o),h=Math.ceil(Math.abs(Math.sin(r))*l+Math.abs(Math.cos(r))*o);return a.width=u,a.height=h,i.translate(u/2,h/2),i.rotate(r),i.drawImage(this.canvas,l/-2,o/-2),this.buffer=L.makeBufferFromCanvasImageData(a),this}invert(){return new De(this)}}L.DEGREE_TO_RADIANS=Math.PI/180;class xe{constructor(t,a,i){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||Sc||self||window||void 0)&&(globalThis||Sc||self||window||void 0).__awaiter||function(b,t,a,i){function r(l){return l instanceof a?l:new a(function(o){o(l)})}return new(a||(a=Promise))(function(l,o){function u(E){try{m(i.next(E))}catch(N){o(N)}}function h(E){try{m(i.throw(E))}catch(N){o(N)}}function m(E){E.done?l(E.value):r(E.value).then(u,h)}m((i=i.apply(b,t||[])).next())})};class Te{constructor(t,a=500,i){this.reader=t,this.timeBetweenScansMillis=a,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const i of t){const r=i.kind==="video"?"videoinput":i.kind;if(r!=="videoinput")continue;const l=i.deviceId||i.id,o=i.label||`Video device ${a.length+1}`,u=i.groupId,h={deviceId:l,label:o,kind:r,groupId:u};a.push(h)}return a})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new xe(a.deviceId,a.label))})}findDeviceById(t){return be(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return be(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const r={video:i};return yield this.decodeOnceFromConstraints(r,a)})}decodeOnceFromConstraints(t,a){return be(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,a)})}decodeOnceFromStream(t,a){return be(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,a,i){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,i)})}decodeFromVideoDevice(t,a,i){return be(this,void 0,void 0,function*(){let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeFromConstraints(l,a,i)})}decodeFromConstraints(t,a,i){return be(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(r,a,i)})}decodeFromStream(t,a,i){return be(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(r,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return be(this,void 0,void 0,function*(){const i=this.prepareVideoElement(a);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((a,i)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const i=document.getElementById(t);if(!i)throw new R(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==a.toLowerCase())throw new R(`element with id '${t}' must be an ${a} element`);return i}decodeFromImage(t,a){if(!t&&!a)throw new R("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new R("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,i){if(t===void 0&&a===void 0)throw new R("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new R("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let i;return this.isImageLoaded(a)?i=this.decodeOnce(a,!1,!0):i=this._decodeOnLoadImage(a),i}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,a)}_decodeFromVideoElementSetup(t){if(!t)throw new R("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const i=this._decodeOnLoadImage(a);return a.src=t,i}decodeFromVideoUrl(t){if(!t)throw new R("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),i=this.decodeFromVideoElement(a);return a.src=t,i}decodeFromVideoUrlContinuously(t,a){if(!t)throw new R("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(i,a);return i.src=t,r}_decodeOnLoadImage(t){return new Promise((a,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,i=!0){this._stopAsyncDecode=!1;const r=(l,o)=>{if(this._stopAsyncDecode){o(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);l(u)}catch(u){const h=a&&u instanceof j,E=(u instanceof ce||u instanceof le)&&i;if(h||E)return setTimeout(r,this._timeBetweenDecodingAttempts,l,o);o(u)}};return new Promise((l,o)=>r(l,o))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const r=this.decode(t);a(r,null),setTimeout(i,this.timeBetweenScansMillis)}catch(r){a(null,r);const l=r instanceof ce||r instanceof le,o=r instanceof j;(l||o)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,i){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,i=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),i=new L(a),r=new J(i);return new ne(r)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let i,r;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,r=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,r=t.naturalHeight||t.height)),a.style.width=i+"px",a.style.height=r+"px",a.width=i,a.height=r,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(t,a,i=a==null?0:8*a.length,r,l,o=pe.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=i,this.resultPoints=r,this.format=l,this.timestamp=o,this.text=t,this.rawBytes=a,i==null?this.numBits=a==null?0:8*a.length:this.numBits=i,this.resultPoints=r,this.format=l,this.resultMetadata=null,o==null?this.timestamp=pe.currentTimeMillis():this.timestamp=o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(a.length+t.length);pe.arraycopy(a,0,i,0,a.length),pe.arraycopy(t,0,i,a.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(b){b[b.AZTEC=0]="AZTEC",b[b.CODABAR=1]="CODABAR",b[b.CODE_39=2]="CODE_39",b[b.CODE_93=3]="CODE_93",b[b.CODE_128=4]="CODE_128",b[b.DATA_MATRIX=5]="DATA_MATRIX",b[b.EAN_8=6]="EAN_8",b[b.EAN_13=7]="EAN_13",b[b.ITF=8]="ITF",b[b.MAXICODE=9]="MAXICODE",b[b.PDF_417=10]="PDF_417",b[b.QR_CODE=11]="QR_CODE",b[b.RSS_14=12]="RSS_14",b[b.RSS_EXPANDED=13]="RSS_EXPANDED",b[b.UPC_A=14]="UPC_A",b[b.UPC_E=15]="UPC_E",b[b.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var Se=it,En;(function(b){b[b.OTHER=0]="OTHER",b[b.ORIENTATION=1]="ORIENTATION",b[b.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",b[b.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",b[b.ISSUE_NUMBER=4]="ISSUE_NUMBER",b[b.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",b[b.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",b[b.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",b[b.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",b[b.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",b[b.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(En||(En={}));var Qe=En;class zn{constructor(t,a,i,r,l=-1,o=-1){this.rawBytes=t,this.text=a,this.byteSegments=i,this.ecLevel=r,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=o,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xa{exp(t){return this.expTable[t]}log(t){if(t===0)throw new z;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class rn{constructor(t,a){if(a.length===0)throw new z;this.field=t;const i=a.length;if(i>1&&a[0]===0){let r=1;for(;r<i&&a[r]===0;)r++;r===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-r),pe.arraycopy(a,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let i;if(t===1){i=0;for(let o=0,u=a.length;o!==u;o++){const h=a[o];i=Xa.addOrSubtract(i,h)}return i}i=a[0];const r=a.length,l=this.field;for(let o=1;o<r;o++)i=Xa.addOrSubtract(l.multiply(t,i),a[o]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new z("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,i=t.coefficients;if(a.length>i.length){const o=a;a=i,i=o}let r=new Int32Array(i.length);const l=i.length-a.length;pe.arraycopy(i,0,r,0,l);for(let o=l;o<i.length;o++)r[o]=Xa.addOrSubtract(a[o-l],i[o]);return new rn(this.field,r)}multiply(t){if(!this.field.equals(t.field))throw new z("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,i=a.length,r=t.coefficients,l=r.length,o=new Int32Array(i+l-1),u=this.field;for(let h=0;h<i;h++){const m=a[h];for(let E=0;E<l;E++)o[h+E]=Xa.addOrSubtract(o[h+E],u.multiply(m,r[E]))}return new rn(u,o)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,i=this.field,r=new Int32Array(a),l=this.coefficients;for(let o=0;o<a;o++)r[o]=i.multiply(l[o],t);return new rn(i,r)}multiplyByMonomial(t,a){if(t<0)throw new z;if(a===0)return this.field.getZero();const i=this.coefficients,r=i.length,l=new Int32Array(r+t),o=this.field;for(let u=0;u<r;u++)l[u]=o.multiply(i[u],a);return new rn(o,l)}divide(t){if(!this.field.equals(t.field))throw new z("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new z("Divide by 0");const a=this.field;let i=a.getZero(),r=this;const l=t.getCoefficient(t.getDegree()),o=a.inverse(l);for(;r.getDegree()>=t.getDegree()&&!r.isZero();){const u=r.getDegree()-t.getDegree(),h=a.multiply(r.getCoefficient(r.getDegree()),o),m=t.multiplyByMonomial(u,h),E=a.buildMonomial(u,h);i=i.addOrSubtract(E),r=r.addOrSubtract(m)}return[i,r]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let i=this.getCoefficient(a);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),a===0||i!==1){const r=this.field.log(i);r===0?t+="1":r===1?t+="a":(t+="a^",t+=r)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class gi extends C{}gi.kind="ArithmeticException";class lt extends Xa{constructor(t,a,i){super(),this.primitive=t,this.size=a,this.generatorBase=i;const r=new Int32Array(a);let l=1;for(let u=0;u<a;u++)r[u]=l,l*=2,l>=a&&(l^=t,l&=a-1);this.expTable=r;const o=new Int32Array(a);for(let u=0;u<a-1;u++)o[r[u]]=u;this.logTable=o,this.zero=new rn(this,Int32Array.from([0])),this.one=new rn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new z;if(a===0)return this.zero;const i=new Int32Array(t+1);return i[0]=a,new rn(this,i)}inverse(t){if(t===0)throw new gi;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ie.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class ba extends C{}ba.kind="ReedSolomonException";class ra extends C{}ra.kind="IllegalStateException";class Zi{constructor(t){this.field=t}decode(t,a){const i=this.field,r=new rn(i,t),l=new Int32Array(a);let o=!0;for(let D=0;D<a;D++){const k=r.evaluateAt(i.exp(D+i.getGeneratorBase()));l[l.length-1-D]=k,k!==0&&(o=!1)}if(o)return;const u=new rn(i,l),h=this.runEuclideanAlgorithm(i.buildMonomial(a,1),u,a),m=h[0],E=h[1],N=this.findErrorLocations(m),T=this.findErrorMagnitudes(E,N);for(let D=0;D<N.length;D++){const k=t.length-1-i.log(N[D]);if(k<0)throw new ba("Bad error location");t[k]=lt.addOrSubtract(t[k],T[D])}}runEuclideanAlgorithm(t,a,i){if(t.getDegree()<a.getDegree()){const D=t;t=a,a=D}const r=this.field;let l=t,o=a,u=r.getZero(),h=r.getOne();for(;o.getDegree()>=(i/2|0);){let D=l,k=u;if(l=o,u=h,l.isZero())throw new ba("r_{i-1} was zero");o=D;let U=r.getZero();const X=l.getCoefficient(l.getDegree()),ee=r.inverse(X);for(;o.getDegree()>=l.getDegree()&&!o.isZero();){const ye=o.getDegree()-l.getDegree(),Ee=r.multiply(o.getCoefficient(o.getDegree()),ee);U=U.addOrSubtract(r.buildMonomial(ye,Ee)),o=o.addOrSubtract(l.multiplyByMonomial(ye,Ee))}if(h=U.multiply(u).addOrSubtract(k),o.getDegree()>=l.getDegree())throw new ra("Division algorithm failed to reduce polynomial?")}const m=h.getCoefficient(0);if(m===0)throw new ba("sigmaTilde(0) was zero");const E=r.inverse(m),N=h.multiplyScalar(E),T=o.multiplyScalar(E);return[N,T]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(a);let r=0;const l=this.field;for(let o=1;o<l.getSize()&&r<a;o++)t.evaluateAt(o)===0&&(i[r]=l.inverse(o),r++);if(r!==a)throw new ba("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,a){const i=a.length,r=new Int32Array(i),l=this.field;for(let o=0;o<i;o++){const u=l.inverse(a[o]);let h=1;for(let m=0;m<i;m++)if(o!==m){const E=l.multiply(a[m],u),N=(E&1)===0?E|1:E&-2;h=l.multiply(h,N)}r[o]=l.multiply(t.evaluateAt(u),l.inverse(h)),l.getGeneratorBase()!==0&&(r[o]=l.multiply(r[o],u))}return r}}var vt;(function(b){b[b.UPPER=0]="UPPER",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.DIGIT=3]="DIGIT",b[b.PUNCT=4]="PUNCT",b[b.BINARY=5]="BINARY"})(vt||(vt={}));class bt{decode(t){this.ddata=t;let a=t.getBits(),i=this.extractBits(a),r=this.correctBits(i),l=bt.convertBoolArrayToByteArray(r),o=bt.getEncodedData(r),u=new zn(l,o,null,null);return u.setNumBits(r.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,i=vt.UPPER,r=vt.UPPER,l="",o=0;for(;o<a;)if(r===vt.BINARY){if(a-o<5)break;let u=bt.readCode(t,o,5);if(o+=5,u===0){if(a-o<11)break;u=bt.readCode(t,o,11)+31,o+=11}for(let h=0;h<u;h++){if(a-o<8){o=a;break}const m=bt.readCode(t,o,8);l+=fe.castAsNonUtf8Char(m),o+=8}r=i}else{let u=r===vt.DIGIT?4:5;if(a-o<u)break;let h=bt.readCode(t,o,u);o+=u;let m=bt.getCharacter(r,h);m.startsWith("CTRL_")?(i=r,r=bt.getTable(m.charAt(5)),m.charAt(6)==="L"&&(i=r)):(l+=m,r=i)}return l}static getTable(t){switch(t){case"L":return vt.LOWER;case"P":return vt.PUNCT;case"M":return vt.MIXED;case"D":return vt.DIGIT;case"B":return vt.BINARY;case"U":default:return vt.UPPER}}static getCharacter(t,a){switch(t){case vt.UPPER:return bt.UPPER_TABLE[a];case vt.LOWER:return bt.LOWER_TABLE[a];case vt.MIXED:return bt.MIXED_TABLE[a];case vt.PUNCT:return bt.PUNCT_TABLE[a];case vt.DIGIT:return bt.DIGIT_TABLE[a];default:throw new ra("Bad table")}}correctBits(t){let a,i;this.ddata.getNbLayers()<=2?(i=6,a=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,a=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,a=lt.AZTEC_DATA_10):(i=12,a=lt.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),l=t.length/i;if(l<r)throw new le;let o=t.length%i,u=new Int32Array(l);for(let T=0;T<l;T++,o+=i)u[T]=bt.readCode(t,o,i);try{new Zi(a).decode(u,l-r)}catch(T){throw new le(T)}let h=(1<<i)-1,m=0;for(let T=0;T<r;T++){let D=u[T];if(D===0||D===h)throw new le;(D===1||D===h-1)&&m++}let E=new Array(r*i-m),N=0;for(let T=0;T<r;T++){let D=u[T];if(D===1||D===h-1)E.fill(D>1,N,N+i-1),N+=i-1;else for(let k=i-1;k>=0;--k)E[N++]=(D&1<<k)!==0}return E}extractBits(t){let a=this.ddata.isCompact(),i=this.ddata.getNbLayers(),r=(a?11:14)+i*4,l=new Int32Array(r),o=new Array(this.totalBitsInLayer(i,a));if(a)for(let u=0;u<l.length;u++)l[u]=u;else{let u=r+1+2*ie.truncDivision(ie.truncDivision(r,2)-1,15),h=r/2,m=ie.truncDivision(u,2);for(let E=0;E<h;E++){let N=E+ie.truncDivision(E,15);l[h-E-1]=m-N-1,l[h+E]=m+N+1}}for(let u=0,h=0;u<i;u++){let m=(i-u)*4+(a?9:12),E=u*2,N=r-1-E;for(let T=0;T<m;T++){let D=T*2;for(let k=0;k<2;k++)o[h+D+k]=t.get(l[E+k],l[E+T]),o[h+2*m+D+k]=t.get(l[E+T],l[N-k]),o[h+4*m+D+k]=t.get(l[N-k],l[N-T]),o[h+6*m+D+k]=t.get(l[N-T],l[E+k])}h+=m*8}return o}static readCode(t,a,i){let r=0;for(let l=a;l<a+i;l++)r<<=1,t[l]&&(r|=1);return r}static readByte(t,a){let i=t.length-a;return i>=8?bt.readCode(t,a,8):bt.readCode(t,a,i)<<8-i}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let i=0;i<a.length;i++)a[i]=bt.readByte(t,8*i);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}bt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],bt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],bt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],bt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],bt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,i,r){const l=t-i,o=a-r;return Math.sqrt(l*l+o*o)}static sum(t){let a=0;for(let i=0,r=t.length;i!==r;i++){const l=t[i];a+=l}return a}}class Qi{static floatToIntBits(t){return t}}Qi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof je){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Qi.floatToIntBits(this.x)+Qi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),r=this.distance(t[0],t[2]);let l,o,u;if(i>=a&&i>=r?(o=t[0],l=t[1],u=t[2]):r>=i&&r>=a?(o=t[1],l=t[0],u=t[2]):(o=t[2],l=t[0],u=t[1]),this.crossProductZ(l,o,u)<0){const h=l;l=u,u=h}t[0]=l,t[1]=o,t[2]=u}static distance(t,a){return st.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,i){const r=a.x,l=a.y;return(i.x-r)*(t.y-l)-(i.y-l)*(t.x-r)}}class Es{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ur extends Es{constructor(t,a,i,r,l){super(t,a),this.compact=i,this.nbDatablocks=r,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ma{constructor(t,a,i,r){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=ma.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),r==null&&(r=t.getHeight()/2|0);const l=a/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=r-l,this.downInit=r+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let t=this.leftInit,a=this.rightInit,i=this.upInit,r=this.downInit,l=!1,o=!0,u=!1,h=!1,m=!1,E=!1,N=!1;const T=this.width,D=this.height;for(;o;){o=!1;let k=!0;for(;(k||!h)&&a<T;)k=this.containsBlackPoint(i,r,a,!1),k?(a++,o=!0,h=!0):h||a++;if(a>=T){l=!0;break}let U=!0;for(;(U||!m)&&r<D;)U=this.containsBlackPoint(t,a,r,!0),U?(r++,o=!0,m=!0):m||r++;if(r>=D){l=!0;break}let X=!0;for(;(X||!E)&&t>=0;)X=this.containsBlackPoint(i,r,t,!1),X?(t--,o=!0,E=!0):E||t--;if(t<0){l=!0;break}let ee=!0;for(;(ee||!N)&&i>=0;)ee=this.containsBlackPoint(t,a,i,!0),ee?(i--,o=!0,N=!0):N||i--;if(i<0){l=!0;break}o&&(u=!0)}if(!l&&u){const k=a-t;let U=null;for(let Ee=1;U===null&&Ee<k;Ee++)U=this.getBlackPointOnSegment(t,r-Ee,t+Ee,r);if(U==null)throw new j;let X=null;for(let Ee=1;X===null&&Ee<k;Ee++)X=this.getBlackPointOnSegment(t,i+Ee,t+Ee,i);if(X==null)throw new j;let ee=null;for(let Ee=1;ee===null&&Ee<k;Ee++)ee=this.getBlackPointOnSegment(a,i+Ee,a-Ee,i);if(ee==null)throw new j;let ye=null;for(let Ee=1;ye===null&&Ee<k;Ee++)ye=this.getBlackPointOnSegment(a,r-Ee,a-Ee,r);if(ye==null)throw new j;return this.centerEdges(ye,U,ee,X)}else throw new j}getBlackPointOnSegment(t,a,i,r){const l=st.round(st.distance(t,a,i,r)),o=(i-t)/l,u=(r-a)/l,h=this.image;for(let m=0;m<l;m++){const E=st.round(t+m*o),N=st.round(a+m*u);if(h.get(E,N))return new je(E,N)}return null}centerEdges(t,a,i,r){const l=t.getX(),o=t.getY(),u=a.getX(),h=a.getY(),m=i.getX(),E=i.getY(),N=r.getX(),T=r.getY(),D=ma.CORR;return l<this.width/2?[new je(N-D,T+D),new je(u+D,h+D),new je(m-D,E-D),new je(l+D,o-D)]:[new je(N+D,T+D),new je(u+D,h-D),new je(m-D,E+D),new je(l-D,o-D)]}containsBlackPoint(t,a,i,r){const l=this.image;if(r){for(let o=t;o<=a;o++)if(l.get(o,i))return!0}else for(let o=t;o<=a;o++)if(l.get(i,o))return!0;return!1}}ma.INIT_SIZE=10,ma.CORR=1;class fr{static checkAndNudgePoints(t,a){const i=t.getWidth(),r=t.getHeight();let l=!0;for(let o=0;o<a.length&&l;o+=2){const u=Math.floor(a[o]),h=Math.floor(a[o+1]);if(u<-1||u>i||h<-1||h>r)throw new j;l=!1,u===-1?(a[o]=0,l=!0):u===i&&(a[o]=i-1,l=!0),h===-1?(a[o+1]=0,l=!0):h===r&&(a[o+1]=r-1,l=!0)}l=!0;for(let o=a.length-2;o>=0&&l;o-=2){const u=Math.floor(a[o]),h=Math.floor(a[o+1]);if(u<-1||u>i||h<-1||h>r)throw new j;l=!1,u===-1?(a[o]=0,l=!0):u===i&&(a[o]=i-1,l=!0),h===-1?(a[o+1]=0,l=!0):h===r&&(a[o+1]=r-1,l=!0)}}}class Cn{constructor(t,a,i,r,l,o,u,h,m){this.a11=t,this.a21=a,this.a31=i,this.a12=r,this.a22=l,this.a32=o,this.a13=u,this.a23=h,this.a33=m}static quadrilateralToQuadrilateral(t,a,i,r,l,o,u,h,m,E,N,T,D,k,U,X){const ee=Cn.quadrilateralToSquare(t,a,i,r,l,o,u,h);return Cn.squareToQuadrilateral(m,E,N,T,D,k,U,X).times(ee)}transformPoints(t){const a=t.length,i=this.a11,r=this.a12,l=this.a13,o=this.a21,u=this.a22,h=this.a23,m=this.a31,E=this.a32,N=this.a33;for(let T=0;T<a;T+=2){const D=t[T],k=t[T+1],U=l*D+h*k+N;t[T]=(i*D+o*k+m)/U,t[T+1]=(r*D+u*k+E)/U}}transformPointsWithValues(t,a){const i=this.a11,r=this.a12,l=this.a13,o=this.a21,u=this.a22,h=this.a23,m=this.a31,E=this.a32,N=this.a33,T=t.length;for(let D=0;D<T;D++){const k=t[D],U=a[D],X=l*k+h*U+N;t[D]=(i*k+o*U+m)/X,a[D]=(r*k+u*U+E)/X}}static squareToQuadrilateral(t,a,i,r,l,o,u,h){const m=t-i+l-u,E=a-r+o-h;if(m===0&&E===0)return new Cn(i-t,l-i,t,r-a,o-r,a,0,0,1);{const N=i-l,T=u-l,D=r-o,k=h-o,U=N*k-T*D,X=(m*k-T*E)/U,ee=(N*E-m*D)/U;return new Cn(i-t+X*i,u-t+ee*u,t,r-a+X*r,h-a+ee*h,a,X,ee,1)}}static quadrilateralToSquare(t,a,i,r,l,o,u,h){return Cn.squareToQuadrilateral(t,a,i,r,l,o,u,h).buildAdjoint()}buildAdjoint(){return new Cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Cn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class In extends fr{sampleGrid(t,a,i,r,l,o,u,h,m,E,N,T,D,k,U,X,ee,ye,Ee){const me=Cn.quadrilateralToQuadrilateral(r,l,o,u,h,m,E,N,T,D,k,U,X,ee,ye,Ee);return this.sampleGridWithTransform(t,a,i,me)}sampleGridWithTransform(t,a,i,r){if(a<=0||i<=0)throw new j;const l=new Ue(a,i),o=new Float32Array(2*a);for(let u=0;u<i;u++){const h=o.length,m=u+.5;for(let E=0;E<h;E+=2)o[E]=E/2+.5,o[E+1]=m;r.transformPoints(o),fr.checkAndNudgePoints(t,o);try{for(let E=0;E<h;E+=2)t.get(Math.floor(o[E]),Math.floor(o[E+1]))&&l.set(E/2,u)}catch{throw new j}}return l}}class wn{static setGridSampler(t){wn.gridSampler=t}static getInstance(){return wn.gridSampler}}wn.gridSampler=new In;class pt{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ol{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),i=this.getBullsEyeCorners(a);if(t){let o=i[0];i[0]=i[2],i[2]=o}this.extractParameters(i);let r=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new ur(r,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new j;let a=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(i,a);let r=0;for(let o=0;o<4;o++){let u=i[(this.shift+o)%4];this.compact?(r<<=7,r+=u>>1&127):(r<<=10,r+=(u>>2&992)+(u>>1&31))}let l=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,a){let i=0;t.forEach((r,l,o)=>{let u=(r>>a-2<<1)+(r&1);i=(i<<3)+u}),i=((i&1)<<11)+(i>>1);for(let r=0;r<4;r++)if(ie.bitCount(i^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new j}getCorrectedParameterData(t,a){let i,r;a?(i=7,r=2):(i=10,r=4);let l=i-r,o=new Int32Array(i);for(let h=i-1;h>=0;--h)o[h]=t&15,t>>=4;try{new Zi(lt.AZTEC_PARAM).decode(o,l)}catch{throw new j}let u=0;for(let h=0;h<r;h++)u=(u<<4)+o[h];return u}getBullsEyeCorners(t){let a=t,i=t,r=t,l=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,o,1,-1),T=this.getFirstDifferent(i,o,1,1),D=this.getFirstDifferent(r,o,-1,1),k=this.getFirstDifferent(l,o,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(k,N)*this.nbCenterLayers/(this.distancePoint(l,a)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(N,T,D,k))break}a=N,i=T,r=D,l=k,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let u=new je(a.getX()+.5,a.getY()-.5),h=new je(i.getX()+.5,i.getY()+.5),m=new je(r.getX()-.5,r.getY()+.5),E=new je(l.getX()-.5,l.getY()-.5);return this.expandSquare([u,h,m,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,i,r;try{let u=new ma(this.image).detect();t=u[0],a=u[1],i=u[2],r=u[3]}catch{let h=this.image.getWidth()/2,m=this.image.getHeight()/2;t=this.getFirstDifferent(new pt(h+7,m-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new pt(h+7,m+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new pt(h-7,m+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new pt(h-7,m-7),!1,-1,-1).toResultPoint()}let l=st.round((t.getX()+r.getX()+a.getX()+i.getX())/4),o=st.round((t.getY()+r.getY()+a.getY()+i.getY())/4);try{let u=new ma(this.image,15,l,o).detect();t=u[0],a=u[1],i=u[2],r=u[3]}catch{t=this.getFirstDifferent(new pt(l+7,o-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new pt(l+7,o+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new pt(l-7,o+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new pt(l-7,o-7),!1,-1,-1).toResultPoint()}return l=st.round((t.getX()+r.getX()+a.getX()+i.getX())/4),o=st.round((t.getY()+r.getY()+a.getY()+i.getY())/4),new pt(l,o)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,i,r,l){let o=wn.getInstance(),u=this.getDimension(),h=u/2-this.nbCenterLayers,m=u/2+this.nbCenterLayers;return o.sampleGrid(t,u,u,h,h,m,h,m,m,h,m,a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY())}sampleLine(t,a,i){let r=0,l=this.distanceResultPoint(t,a),o=l/i,u=t.getX(),h=t.getY(),m=o*(a.getX()-t.getX())/l,E=o*(a.getY()-t.getY())/l;for(let N=0;N<i;N++)this.image.get(st.round(u+N*m),st.round(h+N*E))&&(r|=1<<i-N-1);return r}isWhiteOrBlackRectangle(t,a,i,r){let l=3;t=new pt(t.getX()-l,t.getY()+l),a=new pt(a.getX()-l,a.getY()-l),i=new pt(i.getX()+l,i.getY()-l),r=new pt(r.getX()+l,r.getY()+l);let o=this.getColor(r,t);if(o===0)return!1;let u=this.getColor(t,a);return u!==o||(u=this.getColor(a,i),u!==o)?!1:(u=this.getColor(i,r),u===o)}getColor(t,a){let i=this.distancePoint(t,a),r=(a.getX()-t.getX())/i,l=(a.getY()-t.getY())/i,o=0,u=t.getX(),h=t.getY(),m=this.image.get(t.getX(),t.getY()),E=Math.ceil(i);for(let T=0;T<E;T++)u+=r,h+=l,this.image.get(st.round(u),st.round(h))!==m&&o++;let N=o/i;return N>.1&&N<.9?0:N<=.1===m?1:-1}getFirstDifferent(t,a,i,r){let l=t.getX()+i,o=t.getY()+r;for(;this.isValid(l,o)&&this.image.get(l,o)===a;)l+=i,o+=r;for(l-=i,o-=r;this.isValid(l,o)&&this.image.get(l,o)===a;)l+=i;for(l-=i;this.isValid(l,o)&&this.image.get(l,o)===a;)o+=r;return o-=r,new pt(l,o)}expandSquare(t,a,i){let r=i/(2*a),l=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,m=new je(u+r*l,h+r*o),E=new je(u-r*l,h-r*o);l=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let N=new je(u+r*l,h+r*o),T=new je(u-r*l,h-r*o);return[m,N,E,T]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=st.round(t.getX()),i=st.round(t.getY());return this.isValid(a,i)}distancePoint(t,a){return st.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return st.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ie.truncDivision(this.nbLayers-4,8)+1)+15}}class Cs{decode(t,a=null){let i=null,r=new ol(t.getBlackMatrix()),l=null,o=null;try{let E=r.detectMirror(!1);l=E.getPoints(),this.reportFoundResultPoints(a,l),o=new bt().decode(E)}catch(E){i=E}if(o==null)try{let E=r.detectMirror(!0);l=E.getPoints(),this.reportFoundResultPoints(a,l),o=new bt().decode(E)}catch(E){throw i??E}let u=new _e(o.getText(),o.getRawBytes(),o.getNumBits(),l,Se.AZTEC,pe.currentTimeMillis()),h=o.getByteSegments();h!=null&&u.putMetadata(Qe.BYTE_SEGMENTS,h);let m=o.getECLevel();return m!=null&&u.putMetadata(Qe.ERROR_CORRECTION_LEVEL,m),u}reportFoundResultPoints(t,a){if(t!=null){let i=t.get(Le.NEED_RESULT_POINT_CALLBACK);i!=null&&a.forEach((r,l,o)=>{i.foundPossibleResultPoint(r)})}}reset(){}}class wc extends Te{constructor(t=500){super(new Cs,t)}}class Bt{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(Le.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),o=this.doDecode(l,a),u=o.getResultMetadata();let h=270;u!==null&&u.get(Qe.ORIENTATION)===!0&&(h=h+u.get(Qe.ORIENTATION)%360),o.putMetadata(Qe.ORIENTATION,h);const m=o.getResultPoints();if(m!==null){const E=l.getHeight();for(let N=0;N<m.length;N++)m[N]=new je(E-m[N].getY()-1,m[N].getX())}return o}else throw new j}}reset(){}doDecode(t,a){const i=t.getWidth(),r=t.getHeight();let l=new ue(i);const o=a&&a.get(Le.TRY_HARDER)===!0,u=Math.max(1,r>>(o?8:5));let h;o?h=r:h=15;const m=Math.trunc(r/2);for(let E=0;E<h;E++){const N=Math.trunc((E+1)/2),T=(E&1)===0,D=m+u*(T?N:-N);if(D<0||D>=r)break;try{l=t.getBlackRow(D,l)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(l.reverse(),a&&a.get(Le.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;a.forEach((X,ee)=>U.set(ee,X)),U.delete(Le.NEED_RESULT_POINT_CALLBACK),a=U}try{const U=this.decodeRow(D,l,a);if(k===1){U.putMetadata(Qe.ORIENTATION,180);const X=U.getResultPoints();X!==null&&(X[0]=new je(i-X[0].getX()-1,X[0].getY()),X[1]=new je(i-X[1].getX()-1,X[1].getY()))}return U}catch{}}}throw new j}static recordPattern(t,a,i){const r=i.length;for(let m=0;m<r;m++)i[m]=0;const l=t.getSize();if(a>=l)throw new j;let o=!t.get(a),u=0,h=a;for(;h<l;){if(t.get(h)!==o)i[u]++;else{if(++u===r)break;i[u]=1,o=!o}h++}if(!(u===r||u===r-1&&h===l))throw new j}static recordPatternInReverse(t,a,i){let r=i.length,l=t.get(a);for(;a>0&&r>=0;)t.get(--a)!==l&&(r--,l=!l);if(r>=0)throw new j;Bt.recordPattern(t,a+1,i)}static patternMatchVariance(t,a,i){const r=t.length;let l=0,o=0;for(let m=0;m<r;m++)l+=t[m],o+=a[m];if(l<o)return Number.POSITIVE_INFINITY;const u=l/o;i*=u;let h=0;for(let m=0;m<r;m++){const E=t[m],N=a[m]*u,T=E>N?E-N:N-E;if(T>i)return Number.POSITIVE_INFINITY;h+=T}return h/l}}class ve extends Bt{static findStartPattern(t){const a=t.getSize(),i=t.getNextSet(0);let r=0,l=Int32Array.from([0,0,0,0,0,0]),o=i,u=!1;const h=6;for(let m=i;m<a;m++)if(t.get(m)!==u)l[r]++;else{if(r===h-1){let E=ve.MAX_AVG_VARIANCE,N=-1;for(let T=ve.CODE_START_A;T<=ve.CODE_START_C;T++){const D=Bt.patternMatchVariance(l,ve.CODE_PATTERNS[T],ve.MAX_INDIVIDUAL_VARIANCE);D<E&&(E=D,N=T)}if(N>=0&&t.isRange(Math.max(0,o-(m-o)/2),o,!1))return Int32Array.from([o,m,N]);o+=l[0]+l[1],l=l.slice(2,l.length-1),l[r-1]=0,l[r]=0,r--}else r++;l[r]=1,u=!u}throw new j}static decodeCode(t,a,i){Bt.recordPattern(t,i,a);let r=ve.MAX_AVG_VARIANCE,l=-1;for(let o=0;o<ve.CODE_PATTERNS.length;o++){const u=ve.CODE_PATTERNS[o],h=this.patternMatchVariance(a,u,ve.MAX_INDIVIDUAL_VARIANCE);h<r&&(r=h,l=o)}if(l>=0)return l;throw new j}decodeRow(t,a,i){const r=i&&i.get(Le.ASSUME_GS1)===!0,l=ve.findStartPattern(a),o=l[2];let u=0;const h=new Uint8Array(20);h[u++]=o;let m;switch(o){case ve.CODE_START_A:m=ve.CODE_CODE_A;break;case ve.CODE_START_B:m=ve.CODE_CODE_B;break;case ve.CODE_START_C:m=ve.CODE_CODE_C;break;default:throw new le}let E=!1,N=!1,T="",D=l[0],k=l[1];const U=Int32Array.from([0,0,0,0,0,0]);let X=0,ee=0,ye=o,Ee=0,me=!0,Ze=!1,Xe=!1;for(;!E;){const Ua=N;switch(N=!1,X=ee,ee=ve.decodeCode(a,U,k),h[u++]=ee,ee!==ve.CODE_STOP&&(me=!0),ee!==ve.CODE_STOP&&(Ee++,ye+=Ee*ee),D=k,k+=U.reduce((Kn,Sl)=>Kn+Sl,0),ee){case ve.CODE_START_A:case ve.CODE_START_B:case ve.CODE_START_C:throw new le}switch(m){case ve.CODE_CODE_A:if(ee<64)Xe===Ze?T+=String.fromCharCode(32+ee):T+=String.fromCharCode(32+ee+128),Xe=!1;else if(ee<96)Xe===Ze?T+=String.fromCharCode(ee-64):T+=String.fromCharCode(ee+64),Xe=!1;else switch(ee!==ve.CODE_STOP&&(me=!1),ee){case ve.CODE_FNC_1:r&&(T.length===0?T+="]C1":T+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_A:!Ze&&Xe?(Ze=!0,Xe=!1):Ze&&Xe?(Ze=!1,Xe=!1):Xe=!0;break;case ve.CODE_SHIFT:N=!0,m=ve.CODE_CODE_B;break;case ve.CODE_CODE_B:m=ve.CODE_CODE_B;break;case ve.CODE_CODE_C:m=ve.CODE_CODE_C;break;case ve.CODE_STOP:E=!0;break}break;case ve.CODE_CODE_B:if(ee<96)Xe===Ze?T+=String.fromCharCode(32+ee):T+=String.fromCharCode(32+ee+128),Xe=!1;else switch(ee!==ve.CODE_STOP&&(me=!1),ee){case ve.CODE_FNC_1:r&&(T.length===0?T+="]C1":T+="");break;case ve.CODE_FNC_2:case ve.CODE_FNC_3:break;case ve.CODE_FNC_4_B:!Ze&&Xe?(Ze=!0,Xe=!1):Ze&&Xe?(Ze=!1,Xe=!1):Xe=!0;break;case ve.CODE_SHIFT:N=!0,m=ve.CODE_CODE_A;break;case ve.CODE_CODE_A:m=ve.CODE_CODE_A;break;case ve.CODE_CODE_C:m=ve.CODE_CODE_C;break;case ve.CODE_STOP:E=!0;break}break;case ve.CODE_CODE_C:if(ee<100)ee<10&&(T+="0"),T+=ee;else switch(ee!==ve.CODE_STOP&&(me=!1),ee){case ve.CODE_FNC_1:r&&(T.length===0?T+="]C1":T+="");break;case ve.CODE_CODE_A:m=ve.CODE_CODE_A;break;case ve.CODE_CODE_B:m=ve.CODE_CODE_B;break;case ve.CODE_STOP:E=!0;break}break}Ua&&(m=m===ve.CODE_CODE_A?ve.CODE_CODE_B:ve.CODE_CODE_A)}const vn=k-D;if(k=a.getNextUnset(k),!a.isRange(k,Math.min(a.getSize(),k+(k-D)/2),!1))throw new j;if(ye-=Ee*X,ye%103!==X)throw new ce;const Yn=T.length;if(Yn===0)throw new j;Yn>0&&me&&(m===ve.CODE_CODE_C?T=T.substring(0,Yn-2):T=T.substring(0,Yn-1));const _n=(l[1]+l[0])/2,St=D+vn/2,dn=h.length,Rn=new Uint8Array(dn);for(let Ua=0;Ua<dn;Ua++)Rn[Ua]=h[Ua];const $a=[new je(_n,t),new je(St,t)];return new _e(T,Rn,0,$a,Se.CODE_128,new Date().getTime())}}ve.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ve.MAX_AVG_VARIANCE=.25,ve.MAX_INDIVIDUAL_VARIANCE=.7,ve.CODE_SHIFT=98,ve.CODE_CODE_C=99,ve.CODE_CODE_B=100,ve.CODE_CODE_A=101,ve.CODE_FNC_1=102,ve.CODE_FNC_2=97,ve.CODE_FNC_3=96,ve.CODE_FNC_4_A=101,ve.CODE_FNC_4_B=100,ve.CODE_START_A=103,ve.CODE_START_B=104,ve.CODE_START_C=105,ve.CODE_STOP=106;class Ot extends Bt{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,i){let r=this.counters;r.fill(0),this.decodeRowResult="";let l=Ot.findAsteriskPattern(a,r),o=a.getNextSet(l[1]),u=a.getSize(),h,m;do{Ot.recordPattern(a,o,r);let U=Ot.toNarrowWidePattern(r);if(U<0)throw new j;h=Ot.patternToChar(U),this.decodeRowResult+=h,m=o;for(let X of r)o+=X;o=a.getNextSet(o)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let U of r)E+=U;let N=o-m-E;if(o!==u&&N*2<E)throw new j;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,X=0;for(let ee=0;ee<U;ee++)X+=Ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ee));if(this.decodeRowResult.charAt(U)!==Ot.ALPHABET_STRING.charAt(X%43))throw new ce;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new j;let T;this.extendedMode?T=Ot.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let D=(l[1]+l[0])/2,k=m+E/2;return new _e(T,null,0,[new je(D,t),new je(k,t)],Se.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let i=t.getSize(),r=t.getNextSet(0),l=0,o=r,u=!1,h=a.length;for(let m=r;m<i;m++)if(t.get(m)!==u)a[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(a)===Ot.ASTERISK_ENCODING&&t.isRange(Math.max(0,o-Math.floor((m-o)/2)),o,!1))return[o,m];o+=a[0]+a[1],a.copyWithin(0,2,2+l-1),a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,u=!u}throw new j}static toNarrowWidePattern(t){let a=t.length,i=0,r;do{let l=2147483647;for(let h of t)h<l&&h>i&&(l=h);i=l,r=0;let o=0,u=0;for(let h=0;h<a;h++){let m=t[h];m>i&&(u|=1<<a-1-h,r++,o+=m)}if(r===3){for(let h=0;h<a&&r>0;h++){let m=t[h];if(m>i&&(r--,m*2>=o))return-1}return u}}while(r>3);return-1}static patternToChar(t){for(let a=0;a<Ot.CHARACTER_ENCODINGS.length;a++)if(Ot.CHARACTER_ENCODINGS[a]===t)return Ot.ALPHABET_STRING.charAt(a);if(t===Ot.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(t){let a=t.length,i="";for(let r=0;r<a;r++){let l=t.charAt(r);if(l==="+"||l==="$"||l==="%"||l==="/"){let o=t.charAt(r+1),u="\0";switch(l){case"+":if(o>="A"&&o<="Z")u=String.fromCharCode(o.charCodeAt(0)+32);else throw new le;break;case"$":if(o>="A"&&o<="Z")u=String.fromCharCode(o.charCodeAt(0)-64);else throw new le;break;case"%":if(o>="A"&&o<="E")u=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")u=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")u=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")u=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")u="\0";else if(o==="V")u="@";else if(o==="W")u="`";else if(o==="X"||o==="Y"||o==="Z")u="";else throw new le;break;case"/":if(o>="A"&&o<="O")u=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")u=":";else throw new le;break}i+=u,r++}else i+=l}return i}}Ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ot.ASTERISK_ENCODING=148;class ft extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,i){let r=this.decodeStart(a),l=this.decodeEnd(a),o=new Me;ft.decodeMiddle(a,r[1],l[0],o);let u=o.toString(),h=null;i!=null&&(h=i.get(Le.ALLOWED_LENGTHS)),h==null&&(h=ft.DEFAULT_ALLOWED_LENGTHS);let m=u.length,E=!1,N=0;for(let k of h){if(m===k){E=!0;break}k>N&&(N=k)}if(!E&&m>N&&(E=!0),!E)throw new le;const T=[new je(r[1],t),new je(l[0],t)];return new _e(u,null,0,T,Se.ITF,new Date().getTime())}static decodeMiddle(t,a,i,r){let l=new Int32Array(10),o=new Int32Array(5),u=new Int32Array(5);for(l.fill(0),o.fill(0),u.fill(0);a<i;){Bt.recordPattern(t,a,l);for(let m=0;m<5;m++){let E=2*m;o[m]=l[E],u[m]=l[E+1]}let h=ft.decodeDigit(o);r.append(h.toString()),h=this.decodeDigit(u),r.append(h.toString()),l.forEach(function(m){a+=m})}}decodeStart(t){let a=ft.skipWhiteSpace(t),i=ft.findGuardPattern(t,a,ft.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,a){let i=this.narrowLineWidth*10;i=i<a?i:a;for(let r=a-1;i>0&&r>=0&&!t.get(r);r--)i--;if(i!==0)throw new j}static skipWhiteSpace(t){const a=t.getSize(),i=t.getNextSet(0);if(i===a)throw new j;return i}decodeEnd(t){t.reverse();try{let a=ft.skipWhiteSpace(t),i;try{i=ft.findGuardPattern(t,a,ft.END_PATTERN_REVERSED[0])}catch(l){l instanceof j&&(i=ft.findGuardPattern(t,a,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let r=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-r,i}finally{t.reverse()}}static findGuardPattern(t,a,i){let r=i.length,l=new Int32Array(r),o=t.getSize(),u=!1,h=0,m=a;l.fill(0);for(let E=a;E<o;E++)if(t.get(E)!==u)l[h]++;else{if(h===r-1){if(Bt.patternMatchVariance(l,i,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[m,E];m+=l[0]+l[1],pe.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,u=!u}throw new j}static decodeDigit(t){let a=ft.MAX_AVG_VARIANCE,i=-1,r=ft.PATTERNS.length;for(let l=0;l<r;l++){let o=ft.PATTERNS[l],u=Bt.patternMatchVariance(t,o,ft.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,i=l):u===a&&(i=-1)}if(i>=0)return i%10;throw new j}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,i,r=0,l=Int32Array.from([0,0,0]);for(;!a;){l=Int32Array.from([0,0,0]),i=Nt.findGuardPattern(t,r,!1,this.START_END_PATTERN,l);let o=i[0];r=i[1];let u=o-(r-o);u>=0&&(a=t.isRange(u,o,!1))}return i}static checkChecksum(t){return Nt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let i=parseInt(t.charAt(a-1),10);return Nt.getStandardUPCEANChecksum(t.substring(0,a-1))===i}static getStandardUPCEANChecksum(t){let a=t.length,i=0;for(let r=a-1;r>=0;r-=2){let l=t.charAt(r).charCodeAt(0)-48;if(l<0||l>9)throw new le;i+=l}i*=3;for(let r=a-2;r>=0;r-=2){let l=t.charAt(r).charCodeAt(0)-48;if(l<0||l>9)throw new le;i+=l}return(1e3-i)%10}static decodeEnd(t,a){return Nt.findGuardPattern(t,a,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,i,r){return this.findGuardPattern(t,a,i,r,new Int32Array(r.length))}static findGuardPattern(t,a,i,r,l){let o=t.getSize();a=i?t.getNextUnset(a):t.getNextSet(a);let u=0,h=a,m=r.length,E=i;for(let N=a;N<o;N++)if(t.get(N)!==E)l[u]++;else{if(u===m-1){if(Bt.patternMatchVariance(l,r,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([h,N]);h+=l[0]+l[1];let T=l.slice(2,l.length-1);for(let D=0;D<u-1;D++)l[D]=T[D];l[u-1]=0,l[u]=0,u--}else u++;l[u]=1,E=!E}throw new j}static decodeDigit(t,a,i,r){this.recordPattern(t,i,a);let l=this.MAX_AVG_VARIANCE,o=-1,u=r.length;for(let h=0;h<u;h++){let m=r[h],E=Bt.patternMatchVariance(a,m,Nt.MAX_INDIVIDUAL_VARIANCE);E<l&&(l=E,o=h)}if(o>=0)return o;throw new j}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ki{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,i){let r=this.decodeRowStringBuffer,l=this.decodeMiddle(a,i,r),o=r.toString(),u=Ki.parseExtensionString(o),h=[new je((i[0]+i[1])/2,t),new je(l,t)],m=new _e(o,null,0,h,Se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&m.putAllMetadata(u),m}decodeMiddle(t,a,i){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),o=a[1],u=0;for(let m=0;m<5&&o<l;m++){let E=Nt.decodeDigit(t,r,o,Nt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);for(let N of r)o+=N;E>=10&&(u|=1<<4-m),m!==4&&(o=t.getNextSet(o),o=t.getNextUnset(o))}if(i.length!==5)throw new j;let h=this.determineCheckDigit(u);if(Ki.extensionChecksum(i.toString())!==h)throw new j;return o}static extensionChecksum(t){let a=t.length,i=0;for(let r=a-2;r>=0;r-=2)i+=t.charAt(r).charCodeAt(0)-48;i*=3;for(let r=a-1;r>=0;r-=2)i+=t.charAt(r).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new j}static parseExtensionString(t){if(t.length!==5)return null;let a=Ki.parseExtension5String(t);return a==null?null:new Map([[Qe.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let i=parseInt(t.substring(1)),r=(i/100).toString(),l=i%100,o=l<10?"0"+l:l.toString();return a+r+"."+o}}class ws{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,i){let r=this.decodeRowStringBuffer,l=this.decodeMiddle(a,i,r),o=r.toString(),u=ws.parseExtensionString(o),h=[new je((i[0]+i[1])/2,t),new je(l,t)],m=new _e(o,null,0,h,Se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&m.putAllMetadata(u),m}decodeMiddle(t,a,i){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),o=a[1],u=0;for(let h=0;h<2&&o<l;h++){let m=Nt.decodeDigit(t,r,o,Nt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+m%10);for(let E of r)o+=E;m>=10&&(u|=1<<1-h),h!==1&&(o=t.getNextSet(o),o=t.getNextUnset(o))}if(i.length!==2)throw new j;if(parseInt(i.toString())%4!==u)throw new j;return o}static parseExtensionString(t){return t.length!==2?null:new Map([[Qe.ISSUE_NUMBER,parseInt(t)]])}}class dr{static decodeRow(t,a,i){let r=Nt.findGuardPattern(a,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ki().decodeRow(t,a,r)}catch{return new ws().decodeRow(t,a,r)}}}dr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ct extends Nt{constructor(){super(),this.decodeRowStringBuffer="",ct.L_AND_G_PATTERNS=ct.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=ct.L_PATTERNS[t-10],i=new Int32Array(a.length);for(let r=0;r<a.length;r++)i[r]=a[a.length-r-1];ct.L_AND_G_PATTERNS[t]=i}}decodeRow(t,a,i){let r=ct.findStartGuardPattern(a),l=i==null?null:i.get(Le.NEED_RESULT_POINT_CALLBACK);if(l!=null){const me=new je((r[0]+r[1])/2,t);l.foundPossibleResultPoint(me)}let o=this.decodeMiddle(a,r,this.decodeRowStringBuffer),u=o.rowOffset,h=o.resultString;if(l!=null){const me=new je(u,t);l.foundPossibleResultPoint(me)}let m=this.decodeEnd(a,u);if(l!=null){const me=new je((m[0]+m[1])/2,t);l.foundPossibleResultPoint(me)}let E=m[1],N=E+(E-m[0]);if(N>=a.getSize()||!a.isRange(E,N,!1))throw new j;let T=h.toString();if(T.length<8)throw new le;if(!ct.checkChecksum(T))throw new ce;let D=(r[1]+r[0])/2,k=(m[1]+m[0])/2,U=this.getBarcodeFormat(),X=[new je(D,t),new je(k,t)],ee=new _e(T,null,0,X,U,new Date().getTime()),ye=0;try{let me=dr.decodeRow(t,a,m[1]);ee.putMetadata(Qe.UPC_EAN_EXTENSION,me.getText()),ee.putAllMetadata(me.getResultMetadata()),ee.addResultPoints(me.getResultPoints()),ye=me.getText().length}catch{}let Ee=i==null?null:i.get(Le.ALLOWED_EAN_EXTENSIONS);if(Ee!=null){let me=!1;for(let Ze in Ee)if(ye.toString()===Ze){me=!0;break}if(!me)throw new j}return ee}decodeEnd(t,a){return ct.findGuardPattern(t,a,!1,ct.START_END_PATTERN,new Int32Array(ct.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ct.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let i=parseInt(t.charAt(a-1),10);return ct.getStandardUPCEANChecksum(t.substring(0,a-1))===i}static getStandardUPCEANChecksum(t){let a=t.length,i=0;for(let r=a-1;r>=0;r-=2){let l=t.charAt(r).charCodeAt(0)-48;if(l<0||l>9)throw new le;i+=l}i*=3;for(let r=a-2;r>=0;r-=2){let l=t.charAt(r).charCodeAt(0)-48;if(l<0||l>9)throw new le;i+=l}return(1e3-i)%10}}class qn extends ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,i){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),o=a[1],u=0;for(let m=0;m<6&&o<l;m++){let E=ct.decodeDigit(t,r,o,ct.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);for(let N of r)o+=N;E>=10&&(u|=1<<5-m)}i=qn.determineFirstDigit(i,u),o=ct.findGuardPattern(t,o,!0,ct.MIDDLE_PATTERN,new Int32Array(ct.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&o<l;m++){let E=ct.decodeDigit(t,r,o,ct.L_PATTERNS);i+=String.fromCharCode(48+E);for(let N of r)o+=N}return{rowOffset:o,resultString:i}}getBarcodeFormat(){return Se.EAN_13}static determineFirstDigit(t,a){for(let i=0;i<10;i++)if(a===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new j}}qn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ul extends ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,i){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),o=a[1];for(let h=0;h<4&&o<l;h++){let m=ct.decodeDigit(t,r,o,ct.L_PATTERNS);i+=String.fromCharCode(48+m);for(let E of r)o+=E}o=ct.findGuardPattern(t,o,!0,ct.MIDDLE_PATTERN,new Int32Array(ct.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&o<l;h++){let m=ct.decodeDigit(t,r,o,ct.L_PATTERNS);i+=String.fromCharCode(48+m);for(let E of r)o+=E}return{rowOffset:o,resultString:i}}getBarcodeFormat(){return Se.EAN_8}}class hr extends ct{constructor(){super(...arguments),this.ean13Reader=new qn}getBarcodeFormat(){return Se.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,i))}decodeMiddle(t,a,i){return this.ean13Reader.decodeMiddle(t,a,i)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let i=new _e(a.substring(1),null,null,t.getResultPoints(),Se.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new j}reset(){this.ean13Reader.reset()}}class Fn extends ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,i){const r=this.decodeMiddleCounters.map(m=>m);r[0]=0,r[1]=0,r[2]=0,r[3]=0;const l=t.getSize();let o=a[1],u=0;for(let m=0;m<6&&o<l;m++){const E=Fn.decodeDigit(t,r,o,Fn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);for(let N of r)o+=N;E>=10&&(u|=1<<5-m)}let h=Fn.determineNumSysAndCheckDigit(i,u);return{rowOffset:o,resultString:h}}decodeEnd(t,a){return Fn.findGuardPatternWithoutCounters(t,a,!0,Fn.MIDDLE_END_PATTERN)}checkChecksum(t){return ct.checkChecksum(Fn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let i=0;i<=1;i++)for(let r=0;r<10;r++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][r]){let l=String.fromCharCode(48+i),o=String.fromCharCode(48+r);return l+t+o}throw j.getNotFoundInstance()}getBarcodeFormat(){return Se.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new Me;i.append(t.charAt(0));let r=a[5];switch(r){case 0:case 1:case 2:i.appendChars(a,0,2),i.append(r),i.append("0000"),i.appendChars(a,2,3);break;case 3:i.appendChars(a,0,3),i.append("00000"),i.appendChars(a,3,2);break;case 4:i.appendChars(a,0,4),i.append("00000"),i.append(a[4]);break;default:i.appendChars(a,0,5),i.append("0000"),i.append(r);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}Fn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Wi extends Bt{constructor(t){super();let a=t==null?null:t.get(Le.POSSIBLE_FORMATS),i=[];A(a)?(i.push(new qn),i.push(new hr),i.push(new ul),i.push(new Fn)):(a.indexOf(Se.EAN_13)>-1&&i.push(new qn),a.indexOf(Se.UPC_A)>-1&&i.push(new hr),a.indexOf(Se.EAN_8)>-1&&i.push(new ul),a.indexOf(Se.UPC_E)>-1&&i.push(new Fn)),this.readers=i}decodeRow(t,a,i){for(let r of this.readers)try{const l=r.decodeRow(t,a,i),o=l.getBarcodeFormat()===Se.EAN_13&&l.getText().charAt(0)==="0",u=i==null?null:i.get(Le.POSSIBLE_FORMATS),h=u==null||u.includes(Se.UPC_A);if(o&&h){const m=l.getRawBytes(),E=new _e(l.getText().substring(1),m,m?m.length:null,l.getResultPoints(),Se.UPC_A);return E.putAllMetadata(l.getResultMetadata()),E}return l}catch{}throw new j}reset(){for(let t of this.readers)t.reset()}}class tn extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let i=0;i<a.length;i++)if(Bt.patternMatchVariance(t,a[i],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return i;throw new j}static count(t){return st.sum(new Int32Array(t))}static increment(t,a){let i=0,r=a[0];for(let l=1;l<t.length;l++)a[l]>r&&(r=a[l],i=l);t[i]++}static decrement(t,a){let i=0,r=a[0];for(let l=1;l<t.length;l++)a[l]<r&&(r=a[l],i=l);t[i]--}static isFinderPattern(t){let a=t[0]+t[1],i=a+t[2]+t[3],r=a/i;if(r>=tn.MIN_FINDER_PATTERN_RATIO&&r<=tn.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let u of t)u>o&&(o=u),u<l&&(l=u);return o<10*l}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class qa{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof qa))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vs{constructor(t,a,i,r,l){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new je(i,l)),this.resultPoints.push(new je(r,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof vs))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class ln{constructor(){}static getRSSvalue(t,a,i){let r=0;for(let h of t)r+=h;let l=0,o=0,u=t.length;for(let h=0;h<u-1;h++){let m;for(m=1,o|=1<<h;m<t[h];m++,o&=~(1<<h)){let E=ln.combins(r-m-1,u-h-2);if(i&&o===0&&r-m-(u-h-1)>=u-h-1&&(E-=ln.combins(r-m-(u-h),u-h-2)),u-h-1>1){let N=0;for(let T=r-m-(u-h-2);T>a;T--)N+=ln.combins(r-m-T-1,u-h-3);E-=N*(u-1-h)}else r-m>a&&E--;l+=E}r-=m}return l}static combins(t,a){let i,r;t-a>a?(r=a,i=t-a):(r=t-a,i=a);let l=1,o=1;for(let u=t;u>i;u--)l*=u,o<=r&&(l/=o,o++);for(;o<=r;)l/=o,o++;return l}}class xn{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let i=12*a,r=new ue(i),l=0,u=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)(u&1<<h)!=0&&r.set(l),l++;for(let h=1;h<t.length;++h){let m=t[h],E=m.getLeftChar().getValue();for(let N=11;N>=0;--N)(E&1<<N)!=0&&r.set(l),l++;if(m.getRightChar()!=null){let N=m.getRightChar().getValue();for(let T=11;T>=0;--T)(N&1<<T)!=0&&r.set(l),l++}}return r}}class Yt{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Na{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class mn extends Na{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===mn.FNC1}}mn.FNC1="$";class Za extends Na{constructor(t,a,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Hn extends Na{constructor(t,a,i){if(super(t),a<0||a>10||i<0||i>10)throw new le;this.firstDigit=a,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Hn.FNC1}isAnyFNC1(){return this.firstDigit===Hn.FNC1||this.secondDigit===Hn.FNC1}}Hn.FNC1=10;class Oe{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new j;let a=t.substring(0,2);for(let l of Oe.TWO_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(2,l[2],t):Oe.processFixedAI(2,l[1],t);if(t.length<3)throw new j;let i=t.substring(0,3);for(let l of Oe.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(3,l[2],t):Oe.processFixedAI(3,l[1],t);for(let l of Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,l[2],t):Oe.processFixedAI(4,l[1],t);if(t.length<4)throw new j;let r=t.substring(0,4);for(let l of Oe.FOUR_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,l[2],t):Oe.processFixedAI(4,l[1],t);throw new j}static processFixedAI(t,a,i){if(i.length<t)throw new j;let r=i.substring(0,t);if(i.length<t+a)throw new j;let l=i.substring(t,t+a),o=i.substring(t+a),u="("+r+")"+l,h=Oe.parseFieldsInGeneralPurpose(o);return h==null?u:u+h}static processVariableAI(t,a,i){let r=i.substring(0,t),l;i.length<t+a?l=i.length:l=t+a;let o=i.substring(t,l),u=i.substring(l),h="("+r+")"+o,m=Oe.parseFieldsInGeneralPurpose(u);return m==null?h:h+m}}Oe.VARIABLE_LENGTH=[],Oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Oe.VARIABLE_LENGTH,20],["22",Oe.VARIABLE_LENGTH,29],["30",Oe.VARIABLE_LENGTH,8],["37",Oe.VARIABLE_LENGTH,8],["90",Oe.VARIABLE_LENGTH,30],["91",Oe.VARIABLE_LENGTH,30],["92",Oe.VARIABLE_LENGTH,30],["93",Oe.VARIABLE_LENGTH,30],["94",Oe.VARIABLE_LENGTH,30],["95",Oe.VARIABLE_LENGTH,30],["96",Oe.VARIABLE_LENGTH,30],["97",Oe.VARIABLE_LENGTH,3],["98",Oe.VARIABLE_LENGTH,30],["99",Oe.VARIABLE_LENGTH,30]],Oe.THREE_DIGIT_DATA_LENGTH=[["240",Oe.VARIABLE_LENGTH,30],["241",Oe.VARIABLE_LENGTH,30],["242",Oe.VARIABLE_LENGTH,6],["250",Oe.VARIABLE_LENGTH,30],["251",Oe.VARIABLE_LENGTH,30],["253",Oe.VARIABLE_LENGTH,17],["254",Oe.VARIABLE_LENGTH,20],["400",Oe.VARIABLE_LENGTH,30],["401",Oe.VARIABLE_LENGTH,30],["402",17],["403",Oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Oe.VARIABLE_LENGTH,20],["421",Oe.VARIABLE_LENGTH,15],["422",3],["423",Oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Oe.VARIABLE_LENGTH,15],["391",Oe.VARIABLE_LENGTH,18],["392",Oe.VARIABLE_LENGTH,15],["393",Oe.VARIABLE_LENGTH,18],["703",Oe.VARIABLE_LENGTH,30]],Oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Oe.VARIABLE_LENGTH,20],["8003",Oe.VARIABLE_LENGTH,30],["8004",Oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Oe.VARIABLE_LENGTH,30],["8008",Oe.VARIABLE_LENGTH,12],["8018",18],["8020",Oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Oe.VARIABLE_LENGTH,70],["8200",Oe.VARIABLE_LENGTH,70]];class la{constructor(t){this.buffer=new Me,this.information=t}decodeAllCodes(t,a){let i=a,r=null;do{let l=this.decodeGeneralPurposeField(i,r),o=Oe.parseFieldsInGeneralPurpose(l.getNewString());if(o!=null&&t.append(o),l.isRemaining()?r=""+l.getRemainingValue():r=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new Hn(this.information.getSize(),Hn.FNC1,Hn.FNC1):new Hn(this.information.getSize(),l-1,Hn.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),i=(a-8)/11,r=(a-8)%11;return new Hn(t+7,i,r)}extractNumericValueFromBitArray(t,a){return la.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,i){let r=0;for(let l=0;l<i;++l)t.get(a+l)&&(r|=1<<i-l-1);return r}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Za(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Za(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let i=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new Za(this.current.getPosition(),this.buffer.toString()):a=new Za(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Yt(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new Za(this.current.getPosition(),this.buffer.toString());return new Yt(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new Za(this.current.getPosition(),this.buffer.toString());return new Yt(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new Za(this.current.getPosition(),this.buffer.toString());return new Yt(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,8);return r>=232&&r<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new mn(t+5,mn.FNC1);if(a>=5&&a<15)return new mn(t+5,"0"+(a-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new mn(t+7,""+(i+1));if(i>=90&&i<116)return new mn(t+7,""+(i+7));let r=this.extractNumericValueFromBitArray(t,8),l;switch(r){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new le}return new mn(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new mn(t+5,mn.FNC1);if(a>=5&&a<15)return new mn(t+5,"0"+(a-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new mn(t+6,""+(i+33));let r;switch(i){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new ra("Decoding invalid alphanumeric value: "+i)}return new mn(t+6,r)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class Ji{constructor(t){this.information=t,this.generalDecoder=new la(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Qt extends Ji{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,i)}encodeCompressedGtinWithoutAI(t,a,i){for(let r=0;r<4;++r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*r,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Qt.appendCheckDigit(t,i)}static appendCheckDigit(t,a){let i=0;for(let r=0;r<13;r++){let l=t.charAt(r+a).charCodeAt(0)-48;i+=(r&1)===0?3*l:l}i=10-i%10,i===10&&(i=0),t.append(i)}}Qt.GTIN_SIZE=40;class Zn extends Qt{constructor(t){super(t)}parseInformation(){let t=new Me;t.append("(01)");let a=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Zn.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,Zn.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,Zn.HEADER_SIZE+44)}}Zn.HEADER_SIZE=4;class Ta extends Ji{constructor(t){super(t)}parseInformation(){let t=new Me;return this.getGeneralDecoder().decodeAllCodes(t,Ta.HEADER_SIZE)}}Ta.HEADER_SIZE=5;class pa extends Qt{constructor(t){super(t)}encodeCompressedWeight(t,a,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(a,i);this.addWeightCode(t,r);let l=this.checkWeight(r),o=1e5;for(let u=0;u<5;++u)l/o===0&&t.append("0"),o/=10;t.append(l)}}class yt extends pa{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+pa.GTIN_SIZE+yt.WEIGHT_SIZE)throw new j;let t=new Me;return this.encodeCompressedGtin(t,yt.HEADER_SIZE),this.encodeCompressedWeight(t,yt.HEADER_SIZE+pa.GTIN_SIZE,yt.WEIGHT_SIZE),t.toString()}}yt.HEADER_SIZE=5,yt.WEIGHT_SIZE=15;class fl extends yt{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class dl extends yt{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class pn extends Qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<pn.HEADER_SIZE+Qt.GTIN_SIZE)throw new j;let t=new Me;this.encodeCompressedGtin(t,pn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(pn.HEADER_SIZE+Qt.GTIN_SIZE,pn.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(pn.HEADER_SIZE+Qt.GTIN_SIZE+pn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}pn.HEADER_SIZE=8,pn.LAST_DIGIT_SIZE=2;class Gt extends Qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Gt.HEADER_SIZE+Qt.GTIN_SIZE)throw new j;let t=new Me;this.encodeCompressedGtin(t,Gt.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Gt.HEADER_SIZE+Qt.GTIN_SIZE,Gt.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gt.HEADER_SIZE+Qt.GTIN_SIZE+Gt.LAST_DIGIT_SIZE,Gt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let r=this.getGeneralDecoder().decodeGeneralPurposeField(Gt.HEADER_SIZE+Qt.GTIN_SIZE+Gt.LAST_DIGIT_SIZE+Gt.FIRST_THREE_DIGITS_SIZE,null);return t.append(r.getNewString()),t.toString()}}Gt.HEADER_SIZE=8,Gt.LAST_DIGIT_SIZE=2,Gt.FIRST_THREE_DIGITS_SIZE=10;class Rt extends pa{constructor(t,a,i){super(t),this.dateCode=i,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Rt.HEADER_SIZE+Rt.GTIN_SIZE+Rt.WEIGHT_SIZE+Rt.DATE_SIZE)throw new j;let t=new Me;return this.encodeCompressedGtin(t,Rt.HEADER_SIZE),this.encodeCompressedWeight(t,Rt.HEADER_SIZE+Rt.GTIN_SIZE,Rt.WEIGHT_SIZE),this.encodeCompressedDate(t,Rt.HEADER_SIZE+Rt.GTIN_SIZE+Rt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Rt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let r=i%32;i/=32;let l=i%12+1;i/=12;let o=i;o/10==0&&t.append("0"),t.append(o),l/10==0&&t.append("0"),t.append(l),r/10==0&&t.append("0"),t.append(r)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}Rt.HEADER_SIZE=8,Rt.WEIGHT_SIZE=20,Rt.DATE_SIZE=16;function gr(b){try{if(b.get(1))return new Zn(b);if(!b.get(2))return new Ta(b);switch(la.extractNumericValueFromBitArray(b,1,4)){case 4:return new fl(b);case 5:return new dl(b)}switch(la.extractNumericValueFromBitArray(b,1,5)){case 12:return new pn(b);case 13:return new Gt(b)}switch(la.extractNumericValueFromBitArray(b,1,7)){case 56:return new Rt(b,"310","11");case 57:return new Rt(b,"320","11");case 58:return new Rt(b,"310","13");case 59:return new Rt(b,"320","13");case 60:return new Rt(b,"310","15");case 61:return new Rt(b,"320","15");case 62:return new Rt(b,"310","17");case 63:return new Rt(b,"320","17")}}catch(t){throw console.log(t),new ra("unknown decoder: "+b)}}class ya{constructor(t,a,i,r){this.leftchar=t,this.rightchar=a,this.finderpattern=i,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof ya?ya.equalsOrNull(t.leftchar,a.leftchar)&&ya.equalsOrNull(t.rightchar,a.rightchar)&&ya.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:ya.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class xr{constructor(t,a,i){this.pairs=t,this.rowNumber=a,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof xr?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let i;return t.forEach((r,l)=>{a.forEach(o=>{r.getLeftChar().getValue()===o.getLeftChar().getValue()&&r.getRightChar().getValue()===o.getRightChar().getValue()&&r.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(i=!0)})}),i}}class he extends tn{constructor(t){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,i){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(t,a))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(l){if(l instanceof j){if(!this.pairs.length)throw new j;i=!0}}if(this.checkChecksum())return this.pairs;let r;if(this.rows.length?r=!0:r=!1,this.storeRow(t,!1),r){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new j}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let i=a;i<this.rows.length;i++){let r=this.rows[i];this.pairs.length=0;for(let o of t)this.pairs.push(o.getPairs());if(this.pairs.push(r.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(r);try{return this.checkRows(l,i+1)}catch(o){this.verbose&&console.log(o)}}throw new j}static isValidSequence(t){for(let a of he.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let i=!0;for(let r=0;r<t.length;r++)if(t[r].getFinderPattern().getValue()!=a[r]){i=!1;break}if(i)return!0}return!1}storeRow(t,a){let i=0,r=!1,l=!1;for(;i<this.rows.length;){let o=this.rows[i];if(o.getRowNumber()>t){l=o.isEquivalent(this.pairs);break}r=o.isEquivalent(this.pairs),i++}l||r||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new xr(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let i of a)if(i.getPairs().length!==t.length){for(let r of i.getPairs())for(let l of t)if(ya.equals(r,l))break}}static isPartialRow(t,a){for(let i of a){let r=!0;for(let l of t){let o=!1;for(let u of i.getPairs())if(l.equals(u)){o=!0;break}if(!o){r=!1;break}}if(r)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=xn.buildBitArray(t),r=gr(a).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),o=t[t.length-1].getFinderPattern().getResultPoints(),u=[l[0],l[1],o[0],o[1]];return new _e(r,null,null,u,Se.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let r=i.getChecksumPortion(),l=2;for(let u=1;u<this.pairs.size();++u){let h=this.pairs.get(u);r+=h.getLeftChar().getChecksumPortion(),l++;let m=h.getRightChar();m!=null&&(r+=m.getChecksumPortion(),l++)}return r%=211,211*(l-4)+r==a.getValue()}static getNextSecondBar(t,a){let i;return t.get(a)?(i=t.getNextUnset(a),i=t.getNextSet(i)):(i=t.getNextSet(a),i=t.getNextUnset(i)),i}retrieveNextPair(t,a,i){let r=a.length%2==0;this.startFromEven&&(r=!r);let l,o=!0,u=-1;do this.findNextPair(t,a,u),l=this.parseFoundFinderPattern(t,i,r),l==null?u=he.getNextSecondBar(t,this.startEnd[0]):o=!1;while(o);let h=this.decodeDataCharacter(t,l,r,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new j;let m;try{m=this.decodeDataCharacter(t,l,r,!1)}catch(E){m=null,this.verbose&&console.log(E)}return new ya(h,m,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),o;i>=0?o=i:this.isEmptyPair(a)?o=0:o=a[a.length-1].getFinderPattern().getStartEnd()[1];let u=a.length%2!=0;this.startFromEven&&(u=!u);let h=!1;for(;o<l&&(h=!t.get(o),!!h);)o++;let m=0,E=o;for(let N=o;N<l;N++)if(t.get(N)!=h)r[m]++;else{if(m==3){if(u&&he.reverseCounters(r),he.isFinderPattern(r)){this.startEnd[0]=E,this.startEnd[1]=N;return}u&&he.reverseCounters(r),E+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,m--}else m++;r[m]=1,h=!h}throw new j}static reverseCounters(t){let a=t.length;for(let i=0;i<a/2;++i){let r=t[i];t[i]=t[a-i-1],t[a-i-1]=r}}parseFoundFinderPattern(t,a,i){let r,l,o;if(i){let m=this.startEnd[0]-1;for(;m>=0&&!t.get(m);)m--;m++,r=this.startEnd[0]-m,l=m,o=this.startEnd[1]}else l=this.startEnd[0],o=t.getNextUnset(this.startEnd[1]+1),r=o-this.startEnd[1];let u=this.getDecodeFinderCounters();pe.arraycopy(u,0,u,1,u.length-1),u[0]=r;let h;try{h=this.parseFinderValue(u,he.FINDER_PATTERNS)}catch{return null}return new vs(h,[l,o],l,o,a)}decodeDataCharacter(t,a,i,r){let l=this.getDataCharacterCounters();for(let St=0;St<l.length;St++)l[St]=0;if(r)he.recordPatternInReverse(t,a.getStartEnd()[0],l);else{he.recordPattern(t,a.getStartEnd()[1],l);for(let St=0,dn=l.length-1;St<dn;St++,dn--){let Rn=l[St];l[St]=l[dn],l[dn]=Rn}}let o=17,u=st.sum(new Int32Array(l))/o,h=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(u-h)/h>.3)throw new j;let m=this.getOddCounts(),E=this.getEvenCounts(),N=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let St=0;St<l.length;St++){let dn=1*l[St]/u,Rn=dn+.5;if(Rn<1){if(dn<.3)throw new j;Rn=1}else if(Rn>8){if(dn>8.7)throw new j;Rn=8}let $a=St/2;(St&1)==0?(m[$a]=Rn,N[$a]=dn-Rn):(E[$a]=Rn,T[$a]=dn-Rn)}this.adjustOddEvenCounts(o);let D=4*a.getValue()+(i?0:2)+(r?0:1)-1,k=0,U=0;for(let St=m.length-1;St>=0;St--){if(he.isNotA1left(a,i,r)){let dn=he.WEIGHTS[D][2*St];U+=m[St]*dn}k+=m[St]}let X=0;for(let St=E.length-1;St>=0;St--)if(he.isNotA1left(a,i,r)){let dn=he.WEIGHTS[D][2*St+1];X+=E[St]*dn}let ee=U+X;if((k&1)!=0||k>13||k<4)throw new j;let ye=(13-k)/2,Ee=he.SYMBOL_WIDEST[ye],me=9-Ee,Ze=ln.getRSSvalue(m,Ee,!0),Xe=ln.getRSSvalue(E,me,!1),vn=he.EVEN_TOTAL_SUBSET[ye],Yn=he.GSUM[ye],_n=Ze*vn+Xe+Yn;return new qa(_n,ee)}static isNotA1left(t,a,i){return!(t.getValue()==0&&a&&i)}adjustOddEvenCounts(t){let a=st.sum(new Int32Array(this.getOddCounts())),i=st.sum(new Int32Array(this.getEvenCounts())),r=!1,l=!1;a>13?l=!0:a<4&&(r=!0);let o=!1,u=!1;i>13?u=!0:i<4&&(o=!0);let h=a+i-t,m=(a&1)==1,E=(i&1)==0;if(h==1)if(m){if(E)throw new j;l=!0}else{if(!E)throw new j;u=!0}else if(h==-1)if(m){if(E)throw new j;r=!0}else{if(!E)throw new j;o=!0}else if(h==0){if(m){if(!E)throw new j;a<i?(r=!0,u=!0):(l=!0,o=!0)}else if(E)throw new j}else throw new j;if(r){if(l)throw new j;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(u)throw new j;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class bs extends qa{constructor(t,a,i){super(t,a),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dt extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,i){const r=this.decodePair(a,!1,t,i);dt.addOrTally(this.possibleLeftPairs,r),a.reverse();let l=this.decodePair(a,!0,t,i);dt.addOrTally(this.possibleRightPairs,l),a.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&dt.checkChecksum(o,u))return dt.constructResult(o,u)}throw new j}static addOrTally(t,a){if(a==null)return;let i=!1;for(let r of t)if(r.getValue()===a.getValue()){r.incrementCount(),i=!0;break}i||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let i=4537077*t.getValue()+a.getValue(),r=new String(i).toString(),l=new Me;for(let m=13-r.length;m>0;m--)l.append("0");l.append(r);let o=0;for(let m=0;m<13;m++){let E=l.charAt(m).charCodeAt(0)-48;o+=(m&1)===0?3*E:E}o=10-o%10,o===10&&(o=0),l.append(o.toString());let u=t.getFinderPattern().getResultPoints(),h=a.getFinderPattern().getResultPoints();return new _e(l.toString(),null,0,[u[0],u[1],h[0],h[1]],Se.RSS_14,new Date().getTime())}static checkChecksum(t,a){let i=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,r=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,i===r}decodePair(t,a,i,r){try{let l=this.findFinderPattern(t,a),o=this.parseFoundFinderPattern(t,i,a,l),u=r==null?null:r.get(Le.NEED_RESULT_POINT_CALLBACK);if(u!=null){let E=(l[0]+l[1])/2;a&&(E=t.getSize()-1-E),u.foundPossibleResultPoint(new je(E,i))}let h=this.decodeDataCharacter(t,o,!0),m=this.decodeDataCharacter(t,o,!1);return new bs(1597*h.getValue()+m.getValue(),h.getChecksumPortion()+4*m.getChecksumPortion(),o)}catch{return null}}decodeDataCharacter(t,a,i){let r=this.getDataCharacterCounters();for(let X=0;X<r.length;X++)r[X]=0;if(i)Bt.recordPatternInReverse(t,a.getStartEnd()[0],r);else{Bt.recordPattern(t,a.getStartEnd()[1]+1,r);for(let X=0,ee=r.length-1;X<ee;X++,ee--){let ye=r[X];r[X]=r[ee],r[ee]=ye}}let l=i?16:15,o=st.sum(new Int32Array(r))/l,u=this.getOddCounts(),h=this.getEvenCounts(),m=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let X=0;X<r.length;X++){let ee=r[X]/o,ye=Math.floor(ee+.5);ye<1?ye=1:ye>8&&(ye=8);let Ee=Math.floor(X/2);(X&1)===0?(u[Ee]=ye,m[Ee]=ee-ye):(h[Ee]=ye,E[Ee]=ee-ye)}this.adjustOddEvenCounts(i,l);let N=0,T=0;for(let X=u.length-1;X>=0;X--)T*=9,T+=u[X],N+=u[X];let D=0,k=0;for(let X=h.length-1;X>=0;X--)D*=9,D+=h[X],k+=h[X];let U=T+3*D;if(i){if((N&1)!==0||N>12||N<4)throw new j;let X=(12-N)/2,ee=dt.OUTSIDE_ODD_WIDEST[X],ye=9-ee,Ee=ln.getRSSvalue(u,ee,!1),me=ln.getRSSvalue(h,ye,!0),Ze=dt.OUTSIDE_EVEN_TOTAL_SUBSET[X],Xe=dt.OUTSIDE_GSUM[X];return new qa(Ee*Ze+me+Xe,U)}else{if((k&1)!==0||k>10||k<4)throw new j;let X=(10-k)/2,ee=dt.INSIDE_ODD_WIDEST[X],ye=9-ee,Ee=ln.getRSSvalue(u,ee,!0),me=ln.getRSSvalue(h,ye,!1),Ze=dt.INSIDE_ODD_TOTAL_SUBSET[X],Xe=dt.INSIDE_GSUM[X];return new qa(me*Ze+Ee+Xe,U)}}findFinderPattern(t,a){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let r=t.getSize(),l=!1,o=0;for(;o<r&&(l=!t.get(o),a!==l);)o++;let u=0,h=o;for(let m=o;m<r;m++)if(t.get(m)!==l)i[u]++;else{if(u===3){if(tn.isFinderPattern(i))return[h,m];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,l=!l}throw new j}parseFoundFinderPattern(t,a,i,r){let l=t.get(r[0]),o=r[0]-1;for(;o>=0&&l!==t.get(o);)o--;o++;const u=r[0]-o,h=this.getDecodeFinderCounters(),m=new Int32Array(h.length);pe.arraycopy(h,0,m,1,h.length-1),m[0]=u;const E=this.parseFinderValue(m,dt.FINDER_PATTERNS);let N=o,T=r[1];return i&&(N=t.getSize()-1-N,T=t.getSize()-1-T),new vs(E,[o,r[1]],N,T,a)}adjustOddEvenCounts(t,a){let i=st.sum(new Int32Array(this.getOddCounts())),r=st.sum(new Int32Array(this.getEvenCounts())),l=!1,o=!1,u=!1,h=!1;t?(i>12?o=!0:i<4&&(l=!0),r>12?h=!0:r<4&&(u=!0)):(i>11?o=!0:i<5&&(l=!0),r>10?h=!0:r<4&&(u=!0));let m=i+r-a,E=(i&1)===(t?1:0),N=(r&1)===1;if(m===1)if(E){if(N)throw new j;o=!0}else{if(!N)throw new j;h=!0}else if(m===-1)if(E){if(N)throw new j;l=!0}else{if(!N)throw new j;u=!0}else if(m===0){if(E){if(!N)throw new j;i<r?(l=!0,h=!0):(o=!0,u=!0)}else if(N)throw new j}else throw new j;if(l){if(o)throw new j;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new j;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dt.OUTSIDE_GSUM=[0,161,961,2015,2715],dt.INSIDE_GSUM=[0,336,1036,1516],dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dt.INSIDE_ODD_WIDEST=[2,4,6,8],dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ia extends Bt{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const i=t?t.get(Le.POSSIBLE_FORMATS):null,r=t&&t.get(Le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(Se.EAN_13)||i.includes(Se.UPC_A)||i.includes(Se.EAN_8)||i.includes(Se.UPC_E))&&this.readers.push(new Wi(t)),i.includes(Se.CODE_39)&&this.readers.push(new Ot(r)),i.includes(Se.CODE_128)&&this.readers.push(new ve),i.includes(Se.ITF)&&this.readers.push(new ft),i.includes(Se.RSS_14)&&this.readers.push(new dt),i.includes(Se.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Wi(t)),this.readers.push(new Ot),this.readers.push(new Wi(t)),this.readers.push(new ve),this.readers.push(new ft),this.readers.push(new dt),this.readers.push(new he(this.verbose)))}decodeRow(t,a,i){for(let r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(t,a,i)}catch{}throw new j}reset(){this.readers.forEach(t=>t.reset())}}class hl extends Te{constructor(t=500,a){super(new Ia(a),t,a)}}class tt{constructor(t,a,i){this.ecCodewords=t,this.ecBlocks=[a],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ot{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(t,a,i,r,l,o){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=i,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=l,this.ecBlocks=o;let u=0;const h=o.getECCodewords(),m=o.getECBlocks();for(let E of m)u+=E.getCount()*(E.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new le;for(let i of Je.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===a)return i;throw new le}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new tt(5,new ot(1,3))),new Je(2,12,12,10,10,new tt(7,new ot(1,5))),new Je(3,14,14,12,12,new tt(10,new ot(1,8))),new Je(4,16,16,14,14,new tt(12,new ot(1,12))),new Je(5,18,18,16,16,new tt(14,new ot(1,18))),new Je(6,20,20,18,18,new tt(18,new ot(1,22))),new Je(7,22,22,20,20,new tt(20,new ot(1,30))),new Je(8,24,24,22,22,new tt(24,new ot(1,36))),new Je(9,26,26,24,24,new tt(28,new ot(1,44))),new Je(10,32,32,14,14,new tt(36,new ot(1,62))),new Je(11,36,36,16,16,new tt(42,new ot(1,86))),new Je(12,40,40,18,18,new tt(48,new ot(1,114))),new Je(13,44,44,20,20,new tt(56,new ot(1,144))),new Je(14,48,48,22,22,new tt(68,new ot(1,174))),new Je(15,52,52,24,24,new tt(42,new ot(2,102))),new Je(16,64,64,14,14,new tt(56,new ot(2,140))),new Je(17,72,72,16,16,new tt(36,new ot(4,92))),new Je(18,80,80,18,18,new tt(48,new ot(4,114))),new Je(19,88,88,20,20,new tt(56,new ot(4,144))),new Je(20,96,96,22,22,new tt(68,new ot(4,174))),new Je(21,104,104,24,24,new tt(56,new ot(6,136))),new Je(22,120,120,18,18,new tt(68,new ot(6,175))),new Je(23,132,132,20,20,new tt(62,new ot(8,163))),new Je(24,144,144,22,22,new tt(62,new ot(8,156),new ot(2,155))),new Je(25,8,18,6,16,new tt(7,new ot(1,5))),new Je(26,8,32,6,14,new tt(11,new ot(1,10))),new Je(27,12,26,10,24,new tt(14,new ot(1,16))),new Je(28,12,36,10,16,new tt(18,new ot(1,22))),new Je(29,16,36,14,16,new tt(24,new ot(1,32))),new Je(30,16,48,14,22,new tt(28,new ot(1,49)))]}}Je.VERSIONS=Je.buildVersions();class mr{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new le;this.version=mr.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),i=t.getWidth();return Je.getVersionForDimensions(a,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,i=4,r=0;const l=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let u=!1,h=!1,m=!1,E=!1;do if(i===l&&r===0&&!u)t[a++]=this.readCorner1(l,o)&255,i-=2,r+=2,u=!0;else if(i===l-2&&r===0&&(o&3)!==0&&!h)t[a++]=this.readCorner2(l,o)&255,i-=2,r+=2,h=!0;else if(i===l+4&&r===2&&(o&7)===0&&!m)t[a++]=this.readCorner3(l,o)&255,i-=2,r+=2,m=!0;else if(i===l-2&&r===0&&(o&7)===4&&!E)t[a++]=this.readCorner4(l,o)&255,i-=2,r+=2,E=!0;else{do i<l&&r>=0&&!this.readMappingMatrix.get(r,i)&&(t[a++]=this.readUtah(i,r,l,o)&255),i-=2,r+=2;while(i>=0&&r<o);i+=1,r+=3;do i>=0&&r<o&&!this.readMappingMatrix.get(r,i)&&(t[a++]=this.readUtah(i,r,l,o)&255),i+=2,r-=2;while(i<l&&r>=0);i+=3,r+=1}while(i<l||r<o);if(a!==this.version.getTotalCodewords())throw new le;return t}readModule(t,a,i,r){return t<0&&(t+=i,a+=4-(i+4&7)),a<0&&(a+=r,t+=4-(r+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,i,r){let l=0;return this.readModule(t-2,a-2,i,r)&&(l|=1),l<<=1,this.readModule(t-2,a-1,i,r)&&(l|=1),l<<=1,this.readModule(t-1,a-2,i,r)&&(l|=1),l<<=1,this.readModule(t-1,a-1,i,r)&&(l|=1),l<<=1,this.readModule(t-1,a,i,r)&&(l|=1),l<<=1,this.readModule(t,a-2,i,r)&&(l|=1),l<<=1,this.readModule(t,a-1,i,r)&&(l|=1),l<<=1,this.readModule(t,a,i,r)&&(l|=1),l}readCorner1(t,a){let i=0;return this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,1,t,a)&&(i|=1),i<<=1,this.readModule(t-1,2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(2,a-1,t,a)&&(i|=1),i<<=1,this.readModule(3,a-1,t,a)&&(i|=1),i}readCorner2(t,a){let i=0;return this.readModule(t-3,0,t,a)&&(i|=1),i<<=1,this.readModule(t-2,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(0,a-4,t,a)&&(i|=1),i<<=1,this.readModule(0,a-3,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i}readCorner3(t,a){let i=0;return this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(0,a-3,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-3,t,a)&&(i|=1),i<<=1,this.readModule(1,a-2,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i}readCorner4(t,a){let i=0;return this.readModule(t-3,0,t,a)&&(i|=1),i<<=1,this.readModule(t-2,0,t,a)&&(i|=1),i<<=1,this.readModule(t-1,0,t,a)&&(i|=1),i<<=1,this.readModule(0,a-2,t,a)&&(i|=1),i<<=1,this.readModule(0,a-1,t,a)&&(i|=1),i<<=1,this.readModule(1,a-1,t,a)&&(i|=1),i<<=1,this.readModule(2,a-1,t,a)&&(i|=1),i<<=1,this.readModule(3,a-1,t,a)&&(i|=1),i}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new z("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),o=a/r|0,u=i/l|0,h=o*r,m=u*l,E=new Ue(m,h);for(let N=0;N<o;++N){const T=N*r;for(let D=0;D<u;++D){const k=D*l;for(let U=0;U<r;++U){const X=N*(r+2)+1+U,ee=T+U;for(let ye=0;ye<l;++ye){const Ee=D*(l+2)+1+ye;if(t.get(Ee,X)){const me=k+ye;E.set(me,ee)}}}}}return E}}class Ns{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const i=a.getECBlocks();let r=0;const l=i.getECBlocks();for(let U of l)r+=U.getCount();const o=new Array(r);let u=0;for(let U of l)for(let X=0;X<U.getCount();X++){const ee=U.getDataCodewords(),ye=i.getECCodewords()+ee;o[u++]=new Ns(ee,new Uint8Array(ye))}const m=o[0].codewords.length-i.getECCodewords(),E=m-1;let N=0;for(let U=0;U<E;U++)for(let X=0;X<u;X++)o[X].codewords[U]=t[N++];const T=a.getVersionNumber()===24,D=T?8:u;for(let U=0;U<D;U++)o[U].codewords[m-1]=t[N++];const k=o[0].codewords.length;for(let U=m;U<k;U++)for(let X=0;X<u;X++){const ee=T?(X+8)%u:X,ye=T&&ee>7?U-1:U;o[ee].codewords[ye]=t[N++]}if(N!==t.length)throw new z;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Mn{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new z(""+t);let a=0,i=this.bitOffset,r=this.byteOffset;const l=this.bytes;if(i>0){const o=8-i,u=t<o?t:o,h=o-u,m=255>>8-u<<h;a=(l[r]&m)>>h,t-=u,i+=u,i===8&&(i=0,r++)}if(t>0){for(;t>=8;)a=a<<8|l[r]&255,r++,t-=8;if(t>0){const o=8-t,u=255>>o<<o;a=a<<t|(l[r]&u)>>o,i+=t}}return this.bitOffset=i,this.byteOffset=r,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vt;(function(b){b[b.PAD_ENCODE=0]="PAD_ENCODE",b[b.ASCII_ENCODE=1]="ASCII_ENCODE",b[b.C40_ENCODE=2]="C40_ENCODE",b[b.TEXT_ENCODE=3]="TEXT_ENCODE",b[b.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",b[b.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",b[b.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));class Ma{static decode(t){const a=new Mn(t),i=new Me,r=new Me,l=new Array;let o=Vt.ASCII_ENCODE;do if(o===Vt.ASCII_ENCODE)o=this.decodeAsciiSegment(a,i,r);else{switch(o){case Vt.C40_ENCODE:this.decodeC40Segment(a,i);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(a,i);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,i);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,i);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(a,i,l);break;default:throw new le}o=Vt.ASCII_ENCODE}while(o!==Vt.PAD_ENCODE&&a.available()>0);return r.length()>0&&i.append(r.toString()),new zn(t,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,a,i){let r=!1;do{let l=t.readBits(8);if(l===0)throw new le;if(l<=128)return r&&(l+=128),a.append(String.fromCharCode(l-1)),Vt.ASCII_ENCODE;if(l===129)return Vt.PAD_ENCODE;if(l<=229){const o=l-130;o<10&&a.append("0"),a.append(""+o)}else switch(l){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:r=!0;break;case 236:a.append("[)>05"),i.insert(0,"");break;case 237:a.append("[)>06"),i.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new le;break}}while(t.available()>0);return Vt.ASCII_ENCODE}static decodeC40Segment(t,a){let i=!1;const r=[];let l=0;do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[h];i?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):a.append(m)}else throw new le;break;case 1:i?(a.append(String.fromCharCode(h+128)),i=!1):a.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[h];i?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):a.append(m)}else switch(h){case 27:a.append("");break;case 30:i=!0;break;default:throw new le}l=0;break;case 3:i?(a.append(String.fromCharCode(h+224)),i=!1):a.append(String.fromCharCode(h+96)),l=0;break;default:throw new le}}}while(t.available()>0)}static decodeTextSegment(t,a){let i=!1,r=[],l=0;do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[h];i?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):a.append(m)}else throw new le;break;case 1:i?(a.append(String.fromCharCode(h+128)),i=!1):a.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[h];i?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):a.append(m)}else switch(h){case 27:a.append("");break;case 30:i=!0;break;default:throw new le}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[h];i?(a.append(String.fromCharCode(m.charCodeAt(0)+128)),i=!1):a.append(m),l=0}else throw new le;break;default:throw new le}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const i=[];do{if(t.available()===8)return;const r=t.readBits(8);if(r===254)return;this.parseTwoBytes(r,t.readBits(8),i);for(let l=0;l<3;l++){const o=i[l];switch(o){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(o<14)a.append(String.fromCharCode(o+44));else if(o<40)a.append(String.fromCharCode(o+51));else throw new le;break}}}while(t.available()>0)}static parseTwoBytes(t,a,i){let r=(t<<8)+a-1,l=Math.floor(r/1600);i[0]=l,r-=l*1600,l=Math.floor(r/40),i[1]=l,i[2]=r-l*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let r=t.readBits(6);if(r===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}(r&32)===0&&(r|=64),a.append(String.fromCharCode(r))}}while(t.available()>0)}static decodeBase256Segment(t,a,i){let r=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),r++);let o;if(l===0?o=t.available()/8|0:l<250?o=l:o=250*(l-249)+this.unrandomize255State(t.readBits(8),r++),o<0)throw new le;const u=new Uint8Array(o);for(let h=0;h<o;h++){if(t.available()<8)throw new le;u[h]=this.unrandomize255State(t.readBits(8),r++)}i.push(u);try{a.append(ge.decode(u,fe.ISO88591))}catch(h){throw new ra("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,a){const i=149*a%255+1,r=t-i;return r>=0?r:r+256}}Ma.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ma.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ma.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ma.TEXT_SHIFT2_SET_CHARS=Ma.C40_SHIFT2_SET_CHARS,Ma.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ts{constructor(){this.rsDecoder=new Zi(lt.DATA_MATRIX_FIELD_256)}decode(t){const a=new mr(t),i=a.getVersion(),r=a.readCodewords(),l=Ns.getDataBlocks(r,i);let o=0;for(let m of l)o+=m.getNumDataCodewords();const u=new Uint8Array(o),h=l.length;for(let m=0;m<h;m++){const E=l[m],N=E.getCodewords(),T=E.getNumDataCodewords();this.correctErrors(N,T);for(let D=0;D<T;D++)u[D*h+m]=N[D]}return Ma.decode(u)}correctErrors(t,a){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-a)}catch{throw new ce}for(let r=0;r<a;r++)t[r]=i[r]}}class Ut{constructor(t){this.image=t,this.rectangleDetector=new ma(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new j;a=this.shiftToModuleCenter(a);const i=a[0],r=a[1],l=a[2],o=a[3];let u=this.transitionsBetween(i,o)+1,h=this.transitionsBetween(l,o)+1;(u&1)===1&&(u+=1),(h&1)===1&&(h+=1),4*u<7*h&&4*h<7*u&&(u=h=Math.max(u,h));let m=Ut.sampleGrid(this.image,i,r,l,o,u,h);return new Es(m,[i,r,l,o])}static shiftPoint(t,a,i){let r=(a.getX()-t.getX())/(i+1),l=(a.getY()-t.getY())/(i+1);return new je(t.getX()+r,t.getY()+l)}static moveAway(t,a,i){let r=t.getX(),l=t.getY();return r<a?r-=1:r+=1,l<i?l-=1:l+=1,new je(r,l)}detectSolid1(t){let a=t[0],i=t[1],r=t[3],l=t[2],o=this.transitionsBetween(a,i),u=this.transitionsBetween(i,r),h=this.transitionsBetween(r,l),m=this.transitionsBetween(l,a),E=o,N=[l,a,i,r];return E>u&&(E=u,N[0]=a,N[1]=i,N[2]=r,N[3]=l),E>h&&(E=h,N[0]=i,N[1]=r,N[2]=l,N[3]=a),E>m&&(N[0]=r,N[1]=l,N[2]=a,N[3]=i),N}detectSolid2(t){let a=t[0],i=t[1],r=t[2],l=t[3],o=this.transitionsBetween(a,l),u=Ut.shiftPoint(i,r,(o+1)*4),h=Ut.shiftPoint(r,i,(o+1)*4),m=this.transitionsBetween(u,a),E=this.transitionsBetween(h,l);return m<E?(t[0]=a,t[1]=i,t[2]=r,t[3]=l):(t[0]=i,t[1]=r,t[2]=l,t[3]=a),t}correctTopRight(t){let a=t[0],i=t[1],r=t[2],l=t[3],o=this.transitionsBetween(a,l),u=this.transitionsBetween(i,l),h=Ut.shiftPoint(a,i,(u+1)*4),m=Ut.shiftPoint(r,i,(o+1)*4);o=this.transitionsBetween(h,l),u=this.transitionsBetween(m,l);let E=new je(l.getX()+(r.getX()-i.getX())/(o+1),l.getY()+(r.getY()-i.getY())/(o+1)),N=new je(l.getX()+(a.getX()-i.getX())/(u+1),l.getY()+(a.getY()-i.getY())/(u+1));if(!this.isValid(E))return this.isValid(N)?N:null;if(!this.isValid(N))return E;let T=this.transitionsBetween(h,E)+this.transitionsBetween(m,E),D=this.transitionsBetween(h,N)+this.transitionsBetween(m,N);return T>D?E:N}shiftToModuleCenter(t){let a=t[0],i=t[1],r=t[2],l=t[3],o=this.transitionsBetween(a,l)+1,u=this.transitionsBetween(r,l)+1,h=Ut.shiftPoint(a,i,u*4),m=Ut.shiftPoint(r,i,o*4);o=this.transitionsBetween(h,l)+1,u=this.transitionsBetween(m,l)+1,(o&1)===1&&(o+=1),(u&1)===1&&(u+=1);let E=(a.getX()+i.getX()+r.getX()+l.getX())/4,N=(a.getY()+i.getY()+r.getY()+l.getY())/4;a=Ut.moveAway(a,E,N),i=Ut.moveAway(i,E,N),r=Ut.moveAway(r,E,N),l=Ut.moveAway(l,E,N);let T,D;return h=Ut.shiftPoint(a,i,u*4),h=Ut.shiftPoint(h,l,o*4),T=Ut.shiftPoint(i,a,u*4),T=Ut.shiftPoint(T,r,o*4),m=Ut.shiftPoint(r,l,u*4),m=Ut.shiftPoint(m,i,o*4),D=Ut.shiftPoint(l,r,u*4),D=Ut.shiftPoint(D,a,o*4),[h,T,m,D]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,i,r,l,o,u){return wn.getInstance().sampleGrid(t,o,u,.5,.5,o-.5,.5,o-.5,u-.5,.5,u-.5,a.getX(),a.getY(),l.getX(),l.getY(),r.getX(),r.getY(),i.getX(),i.getY())}transitionsBetween(t,a){let i=Math.trunc(t.getX()),r=Math.trunc(t.getY()),l=Math.trunc(a.getX()),o=Math.trunc(a.getY()),u=Math.abs(o-r)>Math.abs(l-i);if(u){let U=i;i=r,r=U,U=l,l=o,o=U}let h=Math.abs(l-i),m=Math.abs(o-r),E=-h/2,N=r<o?1:-1,T=i<l?1:-1,D=0,k=this.image.get(u?r:i,u?i:r);for(let U=i,X=r;U!==l;U+=T){let ee=this.image.get(u?X:U,u?U:X);if(ee!==k&&(D++,k=ee),E+=m,E>0){if(X===o)break;X+=N,E-=h}}return D}}class Qn{constructor(){this.decoder=new Ts}decode(t,a=null){let i,r;if(a!=null&&a.has(Le.PURE_BARCODE)){const m=Qn.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(m),r=Qn.NO_POINTS}else{const m=new Ut(t.getBlackMatrix()).detect();i=this.decoder.decode(m.getBits()),r=m.getPoints()}const l=i.getRawBytes(),o=new _e(i.getText(),l,8*l.length,r,Se.DATA_MATRIX,pe.currentTimeMillis()),u=i.getByteSegments();u!=null&&o.putMetadata(Qe.BYTE_SEGMENTS,u);const h=i.getECLevel();return h!=null&&o.putMetadata(Qe.ERROR_CORRECTION_LEVEL,h),o}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(a==null||i==null)throw new j;const r=this.moduleSize(a,t);let l=a[1];const o=i[1];let u=a[0];const m=(i[0]-u+1)/r,E=(o-l+1)/r;if(m<=0||E<=0)throw new j;const N=r/2;l+=N,u+=N;const T=new Ue(m,E);for(let D=0;D<E;D++){const k=l+D*r;for(let U=0;U<m;U++)t.get(u+U*r,k)&&T.set(U,D)}return T}static moduleSize(t,a){const i=a.getWidth();let r=t[0];const l=t[1];for(;r<i&&a.get(r,l);)r++;if(r===i)throw new j;const o=r-t[0];if(o===0)throw new j;return o}}Qn.NO_POINTS=[];class vc extends Te{constructor(t=500){super(new Qn,t)}}var cn;(function(b){b[b.L=0]="L",b[b.M=1]="M",b[b.Q=2]="Q",b[b.H=3]="H"})(cn||(cn={}));class xt{constructor(t,a,i){this.value=t,this.stringValue=a,this.bits=i,xt.FOR_BITS.set(i,this),xt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return xt.L;case"M":return xt.M;case"Q":return xt.Q;case"H":return xt.H;default:throw new R(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof xt))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=xt.FOR_BITS.size)throw new z;return xt.FOR_BITS.get(t)}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.L=new xt(cn.L,"L",1),xt.M=new xt(cn.M,"M",0),xt.Q=new xt(cn.Q,"Q",3),xt.H=new xt(cn.H,"H",2);class on{constructor(t){this.errorCorrectionLevel=xt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return ie.bitCount(t^a)}static decodeFormatInformation(t,a){const i=on.doDecodeFormatInformation(t,a);return i!==null?i:on.doDecodeFormatInformation(t^on.FORMAT_INFO_MASK_QR,a^on.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let i=Number.MAX_SAFE_INTEGER,r=0;for(const l of on.FORMAT_INFO_DECODE_LOOKUP){const o=l[0];if(o===t||o===a)return new on(l[1]);let u=on.numBitsDiffering(t,o);u<i&&(r=l[1],i=u),t!==a&&(u=on.numBitsDiffering(a,o),u<i&&(r=l[1],i=u))}return i<=3?new on(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof on))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}on.FORMAT_INFO_MASK_QR=21522,on.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const i of a)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(t,a,...i){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=i;let r=0;const l=i[0].getECCodewordsPerBlock(),o=i[0].getECBlocks();for(const u of o)r+=u.getCount()*(u.getDataCodewords()+l);this.totalCodewords=r}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new le;try{return this.getVersionForNumber((t-17)/4)}catch{throw new le}}static getVersionForNumber(t){if(t<1||t>40)throw new z;return ke.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,i=0;for(let r=0;r<ke.VERSION_DECODE_INFO.length;r++){const l=ke.VERSION_DECODE_INFO[r];if(l===t)return ke.getVersionForNumber(r+7);const o=on.numBitsDiffering(t,l);o<a&&(i=r+7,a=o)}return a<=3?ke.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new Ue(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let r=0;r<i;r++){const l=this.alignmentPatternCenters[r]-2;for(let o=0;o<i;o++)r===0&&(o===0||o===i-1)||r===i-1&&o===0||a.setRegion(this.alignmentPatternCenters[o]-2,l,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ke.VERSIONS=[new ke(1,new Int32Array(0),new q(7,new O(1,19)),new q(10,new O(1,16)),new q(13,new O(1,13)),new q(17,new O(1,9))),new ke(2,Int32Array.from([6,18]),new q(10,new O(1,34)),new q(16,new O(1,28)),new q(22,new O(1,22)),new q(28,new O(1,16))),new ke(3,Int32Array.from([6,22]),new q(15,new O(1,55)),new q(26,new O(1,44)),new q(18,new O(2,17)),new q(22,new O(2,13))),new ke(4,Int32Array.from([6,26]),new q(20,new O(1,80)),new q(18,new O(2,32)),new q(26,new O(2,24)),new q(16,new O(4,9))),new ke(5,Int32Array.from([6,30]),new q(26,new O(1,108)),new q(24,new O(2,43)),new q(18,new O(2,15),new O(2,16)),new q(22,new O(2,11),new O(2,12))),new ke(6,Int32Array.from([6,34]),new q(18,new O(2,68)),new q(16,new O(4,27)),new q(24,new O(4,19)),new q(28,new O(4,15))),new ke(7,Int32Array.from([6,22,38]),new q(20,new O(2,78)),new q(18,new O(4,31)),new q(18,new O(2,14),new O(4,15)),new q(26,new O(4,13),new O(1,14))),new ke(8,Int32Array.from([6,24,42]),new q(24,new O(2,97)),new q(22,new O(2,38),new O(2,39)),new q(22,new O(4,18),new O(2,19)),new q(26,new O(4,14),new O(2,15))),new ke(9,Int32Array.from([6,26,46]),new q(30,new O(2,116)),new q(22,new O(3,36),new O(2,37)),new q(20,new O(4,16),new O(4,17)),new q(24,new O(4,12),new O(4,13))),new ke(10,Int32Array.from([6,28,50]),new q(18,new O(2,68),new O(2,69)),new q(26,new O(4,43),new O(1,44)),new q(24,new O(6,19),new O(2,20)),new q(28,new O(6,15),new O(2,16))),new ke(11,Int32Array.from([6,30,54]),new q(20,new O(4,81)),new q(30,new O(1,50),new O(4,51)),new q(28,new O(4,22),new O(4,23)),new q(24,new O(3,12),new O(8,13))),new ke(12,Int32Array.from([6,32,58]),new q(24,new O(2,92),new O(2,93)),new q(22,new O(6,36),new O(2,37)),new q(26,new O(4,20),new O(6,21)),new q(28,new O(7,14),new O(4,15))),new ke(13,Int32Array.from([6,34,62]),new q(26,new O(4,107)),new q(22,new O(8,37),new O(1,38)),new q(24,new O(8,20),new O(4,21)),new q(22,new O(12,11),new O(4,12))),new ke(14,Int32Array.from([6,26,46,66]),new q(30,new O(3,115),new O(1,116)),new q(24,new O(4,40),new O(5,41)),new q(20,new O(11,16),new O(5,17)),new q(24,new O(11,12),new O(5,13))),new ke(15,Int32Array.from([6,26,48,70]),new q(22,new O(5,87),new O(1,88)),new q(24,new O(5,41),new O(5,42)),new q(30,new O(5,24),new O(7,25)),new q(24,new O(11,12),new O(7,13))),new ke(16,Int32Array.from([6,26,50,74]),new q(24,new O(5,98),new O(1,99)),new q(28,new O(7,45),new O(3,46)),new q(24,new O(15,19),new O(2,20)),new q(30,new O(3,15),new O(13,16))),new ke(17,Int32Array.from([6,30,54,78]),new q(28,new O(1,107),new O(5,108)),new q(28,new O(10,46),new O(1,47)),new q(28,new O(1,22),new O(15,23)),new q(28,new O(2,14),new O(17,15))),new ke(18,Int32Array.from([6,30,56,82]),new q(30,new O(5,120),new O(1,121)),new q(26,new O(9,43),new O(4,44)),new q(28,new O(17,22),new O(1,23)),new q(28,new O(2,14),new O(19,15))),new ke(19,Int32Array.from([6,30,58,86]),new q(28,new O(3,113),new O(4,114)),new q(26,new O(3,44),new O(11,45)),new q(26,new O(17,21),new O(4,22)),new q(26,new O(9,13),new O(16,14))),new ke(20,Int32Array.from([6,34,62,90]),new q(28,new O(3,107),new O(5,108)),new q(26,new O(3,41),new O(13,42)),new q(30,new O(15,24),new O(5,25)),new q(28,new O(15,15),new O(10,16))),new ke(21,Int32Array.from([6,28,50,72,94]),new q(28,new O(4,116),new O(4,117)),new q(26,new O(17,42)),new q(28,new O(17,22),new O(6,23)),new q(30,new O(19,16),new O(6,17))),new ke(22,Int32Array.from([6,26,50,74,98]),new q(28,new O(2,111),new O(7,112)),new q(28,new O(17,46)),new q(30,new O(7,24),new O(16,25)),new q(24,new O(34,13))),new ke(23,Int32Array.from([6,30,54,78,102]),new q(30,new O(4,121),new O(5,122)),new q(28,new O(4,47),new O(14,48)),new q(30,new O(11,24),new O(14,25)),new q(30,new O(16,15),new O(14,16))),new ke(24,Int32Array.from([6,28,54,80,106]),new q(30,new O(6,117),new O(4,118)),new q(28,new O(6,45),new O(14,46)),new q(30,new O(11,24),new O(16,25)),new q(30,new O(30,16),new O(2,17))),new ke(25,Int32Array.from([6,32,58,84,110]),new q(26,new O(8,106),new O(4,107)),new q(28,new O(8,47),new O(13,48)),new q(30,new O(7,24),new O(22,25)),new q(30,new O(22,15),new O(13,16))),new ke(26,Int32Array.from([6,30,58,86,114]),new q(28,new O(10,114),new O(2,115)),new q(28,new O(19,46),new O(4,47)),new q(28,new O(28,22),new O(6,23)),new q(30,new O(33,16),new O(4,17))),new ke(27,Int32Array.from([6,34,62,90,118]),new q(30,new O(8,122),new O(4,123)),new q(28,new O(22,45),new O(3,46)),new q(30,new O(8,23),new O(26,24)),new q(30,new O(12,15),new O(28,16))),new ke(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new O(3,117),new O(10,118)),new q(28,new O(3,45),new O(23,46)),new q(30,new O(4,24),new O(31,25)),new q(30,new O(11,15),new O(31,16))),new ke(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new O(7,116),new O(7,117)),new q(28,new O(21,45),new O(7,46)),new q(30,new O(1,23),new O(37,24)),new q(30,new O(19,15),new O(26,16))),new ke(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new O(5,115),new O(10,116)),new q(28,new O(19,47),new O(10,48)),new q(30,new O(15,24),new O(25,25)),new q(30,new O(23,15),new O(25,16))),new ke(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new O(13,115),new O(3,116)),new q(28,new O(2,46),new O(29,47)),new q(30,new O(42,24),new O(1,25)),new q(30,new O(23,15),new O(28,16))),new ke(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new O(17,115)),new q(28,new O(10,46),new O(23,47)),new q(30,new O(10,24),new O(35,25)),new q(30,new O(19,15),new O(35,16))),new ke(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new O(17,115),new O(1,116)),new q(28,new O(14,46),new O(21,47)),new q(30,new O(29,24),new O(19,25)),new q(30,new O(11,15),new O(46,16))),new ke(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new O(13,115),new O(6,116)),new q(28,new O(14,46),new O(23,47)),new q(30,new O(44,24),new O(7,25)),new q(30,new O(59,16),new O(1,17))),new ke(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new O(12,121),new O(7,122)),new q(28,new O(12,47),new O(26,48)),new q(30,new O(39,24),new O(14,25)),new q(30,new O(22,15),new O(41,16))),new ke(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new O(6,121),new O(14,122)),new q(28,new O(6,47),new O(34,48)),new q(30,new O(46,24),new O(10,25)),new q(30,new O(2,15),new O(64,16))),new ke(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new O(17,122),new O(4,123)),new q(28,new O(29,46),new O(14,47)),new q(30,new O(49,24),new O(10,25)),new q(30,new O(24,15),new O(46,16))),new ke(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new O(4,122),new O(18,123)),new q(28,new O(13,46),new O(32,47)),new q(30,new O(48,24),new O(14,25)),new q(30,new O(42,15),new O(32,16))),new ke(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new O(20,117),new O(4,118)),new q(28,new O(40,47),new O(7,48)),new q(30,new O(43,24),new O(22,25)),new q(30,new O(10,15),new O(67,16))),new ke(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new O(19,118),new O(6,119)),new q(28,new O(18,47),new O(31,48)),new q(30,new O(34,24),new O(34,25)),new q(30,new O(20,15),new O(61,16)))];var Kt;(function(b){b[b.DATA_MASK_000=0]="DATA_MASK_000",b[b.DATA_MASK_001=1]="DATA_MASK_001",b[b.DATA_MASK_010=2]="DATA_MASK_010",b[b.DATA_MASK_011=3]="DATA_MASK_011",b[b.DATA_MASK_100=4]="DATA_MASK_100",b[b.DATA_MASK_101=5]="DATA_MASK_101",b[b.DATA_MASK_110=6]="DATA_MASK_110",b[b.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));class un{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let i=0;i<a;i++)for(let r=0;r<a;r++)this.isMasked(i,r)&&t.flip(r,i)}}un.values=new Map([[Kt.DATA_MASK_000,new un(Kt.DATA_MASK_000,(b,t)=>(b+t&1)===0)],[Kt.DATA_MASK_001,new un(Kt.DATA_MASK_001,(b,t)=>(b&1)===0)],[Kt.DATA_MASK_010,new un(Kt.DATA_MASK_010,(b,t)=>t%3===0)],[Kt.DATA_MASK_011,new un(Kt.DATA_MASK_011,(b,t)=>(b+t)%3===0)],[Kt.DATA_MASK_100,new un(Kt.DATA_MASK_100,(b,t)=>(Math.floor(b/2)+Math.floor(t/3)&1)===0)],[Kt.DATA_MASK_101,new un(Kt.DATA_MASK_101,(b,t)=>b*t%6===0)],[Kt.DATA_MASK_110,new un(Kt.DATA_MASK_110,(b,t)=>b*t%6<3)],[Kt.DATA_MASK_111,new un(Kt.DATA_MASK_111,(b,t)=>(b+t+b*t%3&1)===0)]]);class bc{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new le;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const a=this.bitMatrix.getHeight();let i=0;const r=a-7;for(let l=a-1;l>=r;l--)i=this.copyBit(8,l,i);for(let l=a-8;l<a;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=on.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new le}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return ke.getVersionForNumber(a);let i=0;const r=t-11;for(let o=5;o>=0;o--)for(let u=t-9;u>=r;u--)i=this.copyBit(u,o,i);let l=ke.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;i=0;for(let o=5;o>=0;o--)for(let u=t-9;u>=r;u--)i=this.copyBit(o,u,i);if(l=ke.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new le}copyBit(t,a,i){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),i=un.values.get(t.getDataMask()),r=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,r);const l=a.buildFunctionPattern();let o=!0;const u=new Uint8Array(a.getTotalCodewords());let h=0,m=0,E=0;for(let N=r-1;N>0;N-=2){N===6&&N--;for(let T=0;T<r;T++){const D=o?r-1-T:T;for(let k=0;k<2;k++)l.get(N-k,D)||(E++,m<<=1,this.bitMatrix.get(N-k,D)&&(m|=1),E===8&&(u[h++]=m,E=0,m=0))}o=!o}if(h!==a.getTotalCodewords())throw new le;return u}remask(){if(this.parsedFormatInfo===null)return;const t=un.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,i=t.getWidth();a<i;a++)for(let r=a+1,l=t.getHeight();r<l;r++)t.get(a,r)!==t.get(r,a)&&(t.flip(r,a),t.flip(a,r))}}class Is{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,i){if(t.length!==a.getTotalCodewords())throw new z;const r=a.getECBlocksForLevel(i);let l=0;const o=r.getECBlocks();for(const k of o)l+=k.getCount();const u=new Array(l);let h=0;for(const k of o)for(let U=0;U<k.getCount();U++){const X=k.getDataCodewords(),ee=r.getECCodewordsPerBlock()+X;u[h++]=new Is(X,new Uint8Array(ee))}const m=u[0].codewords.length;let E=u.length-1;for(;E>=0&&u[E].codewords.length!==m;)E--;E++;const N=m-r.getECCodewordsPerBlock();let T=0;for(let k=0;k<N;k++)for(let U=0;U<h;U++)u[U].codewords[k]=t[T++];for(let k=E;k<h;k++)u[k].codewords[N]=t[T++];const D=u[0].codewords.length;for(let k=N;k<D;k++)for(let U=0;U<h;U++){const X=U<E?k:k+1;u[U].codewords[X]=t[T++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ln;(function(b){b[b.TERMINATOR=0]="TERMINATOR",b[b.NUMERIC=1]="NUMERIC",b[b.ALPHANUMERIC=2]="ALPHANUMERIC",b[b.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",b[b.BYTE=4]="BYTE",b[b.ECI=5]="ECI",b[b.KANJI=6]="KANJI",b[b.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",b[b.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",b[b.HANZI=9]="HANZI"})(Ln||(Ln={}));class ze{constructor(t,a,i,r){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=i,this.bits=r,ze.FOR_BITS.set(r,this),ze.FOR_VALUE.set(t,this)}static forBits(t){const a=ze.FOR_BITS.get(t);if(a===void 0)throw new z;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let i;return a<=9?i=0:a<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ze))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.TERMINATOR=new ze(Ln.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ze.NUMERIC=new ze(Ln.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ze.ALPHANUMERIC=new ze(Ln.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ze.STRUCTURED_APPEND=new ze(Ln.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ze.BYTE=new ze(Ln.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ze.ECI=new ze(Ln.ECI,"ECI",Int32Array.from([0,0,0]),7),ze.KANJI=new ze(Ln.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ze.FNC1_FIRST_POSITION=new ze(Ln.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ze.FNC1_SECOND_POSITION=new ze(Ln.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ze.HANZI=new ze(Ln.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Lt{static decode(t,a,i,r){const l=new Mn(t);let o=new Me;const u=new Array;let h=-1,m=-1;try{let E=null,N=!1,T;do{if(l.available()<4)T=ze.TERMINATOR;else{const D=l.readBits(4);T=ze.forBits(D)}switch(T){case ze.TERMINATOR:break;case ze.FNC1_FIRST_POSITION:case ze.FNC1_SECOND_POSITION:N=!0;break;case ze.STRUCTURED_APPEND:if(l.available()<16)throw new le;h=l.readBits(8),m=l.readBits(8);break;case ze.ECI:const D=Lt.parseECIValue(l);if(E=F.getCharacterSetECIByValue(D),E===null)throw new le;break;case ze.HANZI:const k=l.readBits(4),U=l.readBits(T.getCharacterCountBits(a));k===Lt.GB2312_SUBSET&&Lt.decodeHanziSegment(l,o,U);break;default:const X=l.readBits(T.getCharacterCountBits(a));switch(T){case ze.NUMERIC:Lt.decodeNumericSegment(l,o,X);break;case ze.ALPHANUMERIC:Lt.decodeAlphanumericSegment(l,o,X,N);break;case ze.BYTE:Lt.decodeByteSegment(l,o,X,E,u,r);break;case ze.KANJI:Lt.decodeKanjiSegment(l,o,X);break;default:throw new le}break}}while(T!==ze.TERMINATOR)}catch{throw new le}return new zn(t,o.toString(),u.length===0?null:u,i===null?null:i.toString(),h,m)}static decodeHanziSegment(t,a,i){if(i*13>t.available())throw new le;const r=new Uint8Array(2*i);let l=0;for(;i>0;){const o=t.readBits(13);let u=o/96<<8&4294967295|o%96;u<959?u+=41377:u+=42657,r[l]=u>>8&255,r[l+1]=u&255,l+=2,i--}try{a.append(ge.decode(r,fe.GB2312))}catch(o){throw new le(o)}}static decodeKanjiSegment(t,a,i){if(i*13>t.available())throw new le;const r=new Uint8Array(2*i);let l=0;for(;i>0;){const o=t.readBits(13);let u=o/192<<8&4294967295|o%192;u<7936?u+=33088:u+=49472,r[l]=u>>8,r[l+1]=u,l+=2,i--}try{a.append(ge.decode(r,fe.SHIFT_JIS))}catch(o){throw new le(o)}}static decodeByteSegment(t,a,i,r,l,o){if(8*i>t.available())throw new le;const u=new Uint8Array(i);for(let m=0;m<i;m++)u[m]=t.readBits(8);let h;r===null?h=fe.guessEncoding(u,o):h=r.getName();try{a.append(ge.decode(u,h))}catch(m){throw new le(m)}l.push(u)}static toAlphaNumericChar(t){if(t>=Lt.ALPHANUMERIC_CHARS.length)throw new le;return Lt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,i,r){const l=a.length();for(;i>1;){if(t.available()<11)throw new le;const o=t.readBits(11);a.append(Lt.toAlphaNumericChar(Math.floor(o/45))),a.append(Lt.toAlphaNumericChar(o%45)),i-=2}if(i===1){if(t.available()<6)throw new le;a.append(Lt.toAlphaNumericChar(t.readBits(6)))}if(r)for(let o=l;o<a.length();o++)a.charAt(o)==="%"&&(o<a.length()-1&&a.charAt(o+1)==="%"?a.deleteCharAt(o+1):a.setCharAt(o,""))}static decodeNumericSegment(t,a,i){for(;i>=3;){if(t.available()<10)throw new le;const r=t.readBits(10);if(r>=1e3)throw new le;a.append(Lt.toAlphaNumericChar(Math.floor(r/100))),a.append(Lt.toAlphaNumericChar(Math.floor(r/10)%10)),a.append(Lt.toAlphaNumericChar(r%10)),i-=3}if(i===2){if(t.available()<7)throw new le;const r=t.readBits(7);if(r>=100)throw new le;a.append(Lt.toAlphaNumericChar(Math.floor(r/10))),a.append(Lt.toAlphaNumericChar(r%10))}else if(i===1){if(t.available()<4)throw new le;const r=t.readBits(4);if(r>=10)throw new le;a.append(Lt.toAlphaNumericChar(r))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const i=t.readBits(8);return(a&63)<<8&4294967295|i}if((a&224)===192){const i=t.readBits(16);return(a&31)<<16&4294967295|i}throw new le}}Lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Lt.GB2312_SUBSET=1;class gl{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class Ms{constructor(){this.rsDecoder=new Zi(lt.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(Ue.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const i=new bc(t);let r=null;try{return this.decodeBitMatrixParser(i,a)}catch(l){r=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,a);return l.setOther(new gl(!0)),l}catch(l){throw r!==null?r:l}}decodeBitMatrixParser(t,a){const i=t.readVersion(),r=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),o=Is.getDataBlocks(l,i,r);let u=0;for(const E of o)u+=E.getNumDataCodewords();const h=new Uint8Array(u);let m=0;for(const E of o){const N=E.getCodewords(),T=E.getNumDataCodewords();this.correctErrors(N,T);for(let D=0;D<T;D++)h[m++]=N[D]}return Lt.decode(h,i,r,a)}correctErrors(t,a){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-a)}catch{throw new ce}for(let r=0;r<a;r++)t[r]=i[r]}}class $i extends je{constructor(t,a,i){super(t,a),this.estimatedModuleSize=i}aboutEquals(t,a,i){if(Math.abs(a-this.getY())<=t&&Math.abs(i-this.getX())<=t){const r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(t,a,i){const r=(this.getX()+a)/2,l=(this.getY()+t)/2,o=(this.estimatedModuleSize+i)/2;return new $i(r,l,o)}}class xi{constructor(t,a,i,r,l,o,u){this.image=t,this.startX=a,this.startY=i,this.width=r,this.height=l,this.moduleSize=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,i=this.width,r=t+i,l=this.startY+a/2,o=new Int32Array(3),u=this.image;for(let h=0;h<a;h++){const m=l+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));o[0]=0,o[1]=0,o[2]=0;let E=t;for(;E<r&&!u.get(E,m);)E++;let N=0;for(;E<r;){if(u.get(E,m))if(N===1)o[1]++;else if(N===2){if(this.foundPatternCross(o)){const T=this.handlePossibleCenter(o,m,E);if(T!==null)return T}o[0]=o[2],o[1]=1,o[2]=0,N=1}else o[++N]++;else N===1&&N++,o[N]++;E++}if(this.foundPatternCross(o)){const T=this.handlePossibleCenter(o,m,r);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,i=a/2;for(let r=0;r<3;r++)if(Math.abs(a-t[r])>=i)return!1;return!0}crossCheckVertical(t,a,i,r){const l=this.image,o=l.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let h=t;for(;h>=0&&l.get(a,h)&&u[1]<=i;)u[1]++,h--;if(h<0||u[1]>i)return NaN;for(;h>=0&&!l.get(a,h)&&u[0]<=i;)u[0]++,h--;if(u[0]>i)return NaN;for(h=t+1;h<o&&l.get(a,h)&&u[1]<=i;)u[1]++,h++;if(h===o||u[1]>i)return NaN;for(;h<o&&!l.get(a,h)&&u[2]<=i;)u[2]++,h++;if(u[2]>i)return NaN;const m=u[0]+u[1]+u[2];return 5*Math.abs(m-r)>=2*r?NaN:this.foundPatternCross(u)?xi.centerFromEnd(u,h):NaN}handlePossibleCenter(t,a,i){const r=t[0]+t[1]+t[2],l=xi.centerFromEnd(t,i),o=this.crossCheckVertical(a,l,2*t[1],r);if(!isNaN(o)){const u=(t[0]+t[1]+t[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(u,o,l))return m.combineEstimate(o,l,u);const h=new $i(l,o,u);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Oa extends je{constructor(t,a,i,r){super(t,a),this.estimatedModuleSize=i,this.count=r,r===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,i){if(Math.abs(a-this.getY())<=t&&Math.abs(i-this.getX())<=t){const r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}combineEstimate(t,a,i){const r=this.count+1,l=(this.count*this.getX()+a)/r,o=(this.count*this.getY()+t)/r,u=(this.count*this.estimatedModuleSize+i)/r;return new Oa(l,o,u,r)}}class mi{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wt{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(Le.TRY_HARDER)!==void 0,i=t!=null&&t.get(Le.PURE_BARCODE)!==void 0,r=this.image,l=r.getHeight(),o=r.getWidth();let u=Math.floor(3*l/(4*Wt.MAX_MODULES));(u<Wt.MIN_SKIP||a)&&(u=Wt.MIN_SKIP);let h=!1;const m=new Int32Array(5);for(let N=u-1;N<l&&!h;N+=u){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let T=0;for(let D=0;D<o;D++)if(r.get(D,N))(T&1)===1&&T++,m[T]++;else if((T&1)===0)if(T===4)if(Wt.foundPatternCross(m)){if(this.handlePossibleCenter(m,N,D,i)===!0)if(u=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>m[2]&&(N+=U-m[2]-u,D=o-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,T=3;continue}T=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,T=3;else m[++T]++;else m[T]++;Wt.foundPatternCross(m)&&this.handlePossibleCenter(m,N,o,i)===!0&&(u=m[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return je.orderBestPatterns(E),new mi(E)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let l=0;l<5;l++){const o=t[l];if(o===0)return!1;a+=o}if(a<7)return!1;const i=a/7,r=i/2;return Math.abs(i-t[0])<r&&Math.abs(i-t[1])<r&&Math.abs(3*i-t[2])<3*r&&Math.abs(i-t[3])<r&&Math.abs(i-t[4])<r}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,i,r){const l=this.getCrossCheckStateCount();let o=0;const u=this.image;for(;t>=o&&a>=o&&u.get(a-o,t-o);)l[2]++,o++;if(t<o||a<o)return!1;for(;t>=o&&a>=o&&!u.get(a-o,t-o)&&l[1]<=i;)l[1]++,o++;if(t<o||a<o||l[1]>i)return!1;for(;t>=o&&a>=o&&u.get(a-o,t-o)&&l[0]<=i;)l[0]++,o++;if(l[0]>i)return!1;const h=u.getHeight(),m=u.getWidth();for(o=1;t+o<h&&a+o<m&&u.get(a+o,t+o);)l[2]++,o++;if(t+o>=h||a+o>=m)return!1;for(;t+o<h&&a+o<m&&!u.get(a+o,t+o)&&l[3]<i;)l[3]++,o++;if(t+o>=h||a+o>=m||l[3]>=i)return!1;for(;t+o<h&&a+o<m&&u.get(a+o,t+o)&&l[4]<i;)l[4]++,o++;if(l[4]>=i)return!1;const E=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(E-r)<2*r&&Wt.foundPatternCross(l)}crossCheckVertical(t,a,i,r){const l=this.image,o=l.getHeight(),u=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(a,h);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(a,h)&&u[1]<=i;)u[1]++,h--;if(h<0||u[1]>i)return NaN;for(;h>=0&&l.get(a,h)&&u[0]<=i;)u[0]++,h--;if(u[0]>i)return NaN;for(h=t+1;h<o&&l.get(a,h);)u[2]++,h++;if(h===o)return NaN;for(;h<o&&!l.get(a,h)&&u[3]<i;)u[3]++,h++;if(h===o||u[3]>=i)return NaN;for(;h<o&&l.get(a,h)&&u[4]<i;)u[4]++,h++;if(u[4]>=i)return NaN;const m=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(m-r)>=2*r?NaN:Wt.foundPatternCross(u)?Wt.centerFromEnd(u,h):NaN}crossCheckHorizontal(t,a,i,r){const l=this.image,o=l.getWidth(),u=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,a);)u[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,a)&&u[1]<=i;)u[1]++,h--;if(h<0||u[1]>i)return NaN;for(;h>=0&&l.get(h,a)&&u[0]<=i;)u[0]++,h--;if(u[0]>i)return NaN;for(h=t+1;h<o&&l.get(h,a);)u[2]++,h++;if(h===o)return NaN;for(;h<o&&!l.get(h,a)&&u[3]<i;)u[3]++,h++;if(h===o||u[3]>=i)return NaN;for(;h<o&&l.get(h,a)&&u[4]<i;)u[4]++,h++;if(u[4]>=i)return NaN;const m=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(m-r)>=r?NaN:Wt.foundPatternCross(u)?Wt.centerFromEnd(u,h):NaN}handlePossibleCenter(t,a,i,r){const l=t[0]+t[1]+t[2]+t[3]+t[4];let o=Wt.centerFromEnd(t,i),u=this.crossCheckVertical(a,Math.floor(o),t[2],l);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),t[2],l),!isNaN(o)&&(!r||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),t[2],l)))){const h=l/7;let m=!1;const E=this.possibleCenters;for(let N=0,T=E.length;N<T;N++){const D=E[N];if(D.aboutEquals(h,u,o)){E[N]=D.combineEstimate(u,o,h),m=!0;break}}if(!m){const N=new Oa(o,u,h);E.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const i of this.possibleCenters)if(i.getCount()>=Wt.CENTER_QUORUM)if(a==null)a=i;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-i.getX())-Math.abs(a.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const i=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=Wt.CENTER_QUORUM&&(t++,a+=o.getEstimatedModuleSize());if(t<3)return!1;const r=a/i;let l=0;for(const o of this.possibleCenters)l+=Math.abs(o.getEstimatedModuleSize()-r);return l<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new j;const a=this.possibleCenters;let i;if(t>3){let r=0,l=0;for(const h of this.possibleCenters){const m=h.getEstimatedModuleSize();r+=m,l+=m*m}i=r/t;let o=Math.sqrt(l/t-i*i);a.sort((h,m)=>{const E=Math.abs(m.getEstimatedModuleSize()-i),N=Math.abs(h.getEstimatedModuleSize()-i);return E<N?-1:E>N?1:0});const u=Math.max(.2*i,o);for(let h=0;h<a.length&&a.length>3;h++){const m=a[h];Math.abs(m.getEstimatedModuleSize()-i)>u&&(a.splice(h,1),h--)}}if(a.length>3){let r=0;for(const l of a)r+=l.getEstimatedModuleSize();i=r/a.length,a.sort((l,o)=>{if(o.getCount()===l.getCount()){const u=Math.abs(o.getEstimatedModuleSize()-i),h=Math.abs(l.getEstimatedModuleSize()-i);return u<h?1:u>h?-1:0}else return o.getCount()-l.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Wt.CENTER_QUORUM=2,Wt.MIN_SKIP=3,Wt.MAX_MODULES=57;class Qa{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Le.NEED_RESULT_POINT_CALLBACK);const i=new Wt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const a=t.getTopLeft(),i=t.getTopRight(),r=t.getBottomLeft(),l=this.calculateModuleSize(a,i,r);if(l<1)throw new j("No pattern found in proccess finder.");const o=Qa.computeDimension(a,i,r,l),u=ke.getProvisionalVersionForDimension(o),h=u.getDimensionForVersion()-7;let m=null;if(u.getAlignmentPatternCenters().length>0){const D=i.getX()-a.getX()+r.getX(),k=i.getY()-a.getY()+r.getY(),U=1-3/h,X=Math.floor(a.getX()+U*(D-a.getX())),ee=Math.floor(a.getY()+U*(k-a.getY()));for(let ye=4;ye<=16;ye<<=1)try{m=this.findAlignmentInRegion(l,X,ee,ye);break}catch(Ee){if(!(Ee instanceof j))throw Ee}}const E=Qa.createTransform(a,i,r,m,o),N=Qa.sampleGrid(this.image,E,o);let T;return m===null?T=[r,a,i]:T=[r,a,i,m],new Es(N,T)}static createTransform(t,a,i,r,l){const o=l-3.5;let u,h,m,E;return r!==null?(u=r.getX(),h=r.getY(),m=o-3,E=m):(u=a.getX()-t.getX()+i.getX(),h=a.getY()-t.getY()+i.getY(),m=o,E=o),Cn.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,m,E,3.5,o,t.getX(),t.getY(),a.getX(),a.getY(),u,h,i.getX(),i.getY())}static sampleGrid(t,a,i){return wn.getInstance().sampleGridWithTransform(t,i,i,a)}static computeDimension(t,a,i,r){const l=st.round(je.distance(t,a)/r),o=st.round(je.distance(t,i)/r);let u=Math.floor((l+o)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new j("Dimensions could be not found.")}return u}calculateModuleSize(t,a,i){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,a){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?r/7:isNaN(r)?i/7:(i+r)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,i,r){let l=this.sizeOfBlackWhiteBlackRun(t,a,i,r),o=1,u=t-(i-t);u<0?(o=t/(t-u),u=0):u>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let h=Math.floor(a-(r-a)*o);return o=1,h<0?(o=a/(a-h),h=0):h>=this.image.getHeight()&&(o=(this.image.getHeight()-1-a)/(h-a),h=this.image.getHeight()-1),u=Math.floor(t+(u-t)*o),l+=this.sizeOfBlackWhiteBlackRun(t,a,u,h),l-1}sizeOfBlackWhiteBlackRun(t,a,i,r){const l=Math.abs(r-a)>Math.abs(i-t);if(l){let D=t;t=a,a=D,D=i,i=r,r=D}const o=Math.abs(i-t),u=Math.abs(r-a);let h=-o/2;const m=t<i?1:-1,E=a<r?1:-1;let N=0;const T=i+m;for(let D=t,k=a;D!==T;D+=m){const U=l?k:D,X=l?D:k;if(N===1===this.image.get(U,X)){if(N===2)return st.distance(D,k,t,a);N++}if(h+=u,h>0){if(k===r)break;k+=E,h-=o}}return N===2?st.distance(i+m,r,t,a):NaN}findAlignmentInRegion(t,a,i,r){const l=Math.floor(r*t),o=Math.max(0,a-l),u=Math.min(this.image.getWidth()-1,a+l);if(u-o<t*3)throw new j("Alignment top exceeds estimated module size.");const h=Math.max(0,i-l),m=Math.min(this.image.getHeight()-1,i+l);if(m-h<t*3)throw new j("Alignment bottom exceeds estimated module size.");return new xi(this.image,o,h,u-o,m-h,t,this.resultPointCallback).find()}}class Aa{constructor(){this.decoder=new Ms}getDecoder(){return this.decoder}decode(t,a){let i,r;if(a!=null&&a.get(Le.PURE_BARCODE)!==void 0){const h=Aa.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,a),r=Aa.NO_POINTS}else{const h=new Qa(t.getBlackMatrix()).detect(a);i=this.decoder.decodeBitMatrix(h.getBits(),a),r=h.getPoints()}i.getOther()instanceof gl&&i.getOther().applyMirroredCorrection(r);const l=new _e(i.getText(),i.getRawBytes(),void 0,r,Se.QR_CODE,void 0),o=i.getByteSegments();o!==null&&l.putMetadata(Qe.BYTE_SEGMENTS,o);const u=i.getECLevel();return u!==null&&l.putMetadata(Qe.ERROR_CORRECTION_LEVEL,u),i.hasStructuredAppend()&&(l.putMetadata(Qe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(Qe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(a===null||i===null)throw new j;const r=this.moduleSize(a,t);let l=a[1],o=i[1],u=a[0],h=i[0];if(u>=h||l>=o)throw new j;if(o-l!==h-u&&(h=u+(o-l),h>=t.getWidth()))throw new j;const m=Math.round((h-u+1)/r),E=Math.round((o-l+1)/r);if(m<=0||E<=0)throw new j;if(E!==m)throw new j;const N=Math.floor(r/2);l+=N,u+=N;const T=u+Math.floor((m-1)*r)-h;if(T>0){if(T>N)throw new j;u-=T}const D=l+Math.floor((E-1)*r)-o;if(D>0){if(D>N)throw new j;l-=D}const k=new Ue(m,E);for(let U=0;U<E;U++){const X=l+Math.floor(U*r);for(let ee=0;ee<m;ee++)t.get(u+Math.floor(ee*r),X)&&k.set(ee,U)}return k}static moduleSize(t,a){const i=a.getHeight(),r=a.getWidth();let l=t[0],o=t[1],u=!0,h=0;for(;l<r&&o<i;){if(u!==a.get(l,o)){if(++h===5)break;u=!u}l++,o++}if(l===r||o===i)throw new j;return(l-t[0])/7}}Aa.NO_POINTS=new Array;class He{PDF417Common(){}static getBitCountSum(t){return st.sum(t)}static toIntArray(t){if(t==null||!t.length)return He.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let i=0;for(const r of t)a[i++]=r;return a}static getCodeword(t){const a=Ce.binarySearch(He.SYMBOL_TABLE,t&262143);return a<0?-1:(He.CODEWORD_TABLE[a]-1)%He.NUMBER_OF_CODEWORDS}}He.NUMBER_OF_CODEWORDS=929,He.MAX_CODEWORDS_IN_BARCODE=He.NUMBER_OF_CODEWORDS-1,He.MIN_ROWS_IN_BARCODE=3,He.MAX_ROWS_IN_BARCODE=90,He.MODULES_IN_CODEWORD=17,He.MODULES_IN_STOP_PATTERN=18,He.BARS_IN_MODULE=8,He.EMPTY_INT_ARRAY=new Int32Array([]),He.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),He.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Sa{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class qe{static detectMultiple(t,a,i){let r=t.getBlackMatrix(),l=qe.detect(i,r);return l.length||(r=r.clone(),r.rotate180(),l=qe.detect(i,r)),new Sa(r,l)}static detect(t,a){const i=new Array;let r=0,l=0,o=!1;for(;r<a.getHeight();){const u=qe.findVertices(a,r,l);if(u[0]==null&&u[3]==null){if(!o)break;o=!1,l=0;for(const h of i)h[1]!=null&&(r=Math.trunc(Math.max(r,h[1].getY()))),h[3]!=null&&(r=Math.max(r,Math.trunc(h[3].getY())));r+=qe.ROW_STEP;continue}if(o=!0,i.push(u),!t)break;u[2]!=null?(l=Math.trunc(u[2].getX()),r=Math.trunc(u[2].getY())):(l=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY()))}return i}static findVertices(t,a,i){const r=t.getHeight(),l=t.getWidth(),o=new Array(8);return qe.copyToResult(o,qe.findRowsWithPattern(t,r,l,a,i,qe.START_PATTERN),qe.INDEXES_START_PATTERN),o[4]!=null&&(i=Math.trunc(o[4].getX()),a=Math.trunc(o[4].getY())),qe.copyToResult(o,qe.findRowsWithPattern(t,r,l,a,i,qe.STOP_PATTERN),qe.INDEXES_STOP_PATTERN),o}static copyToResult(t,a,i){for(let r=0;r<i.length;r++)t[i[r]]=a[r]}static findRowsWithPattern(t,a,i,r,l,o){const u=new Array(4);let h=!1;const m=new Int32Array(o.length);for(;r<a;r+=qe.ROW_STEP){let N=qe.findGuardPattern(t,l,r,i,!1,o,m);if(N!=null){for(;r>0;){const T=qe.findGuardPattern(t,l,--r,i,!1,o,m);if(T!=null)N=T;else{r++;break}}u[0]=new je(N[0],r),u[1]=new je(N[1],r),h=!0;break}}let E=r+1;if(h){let N=0,T=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;E<a;E++){const D=qe.findGuardPattern(t,T[0],E,i,!1,o,m);if(D!=null&&Math.abs(T[0]-D[0])<qe.MAX_PATTERN_DRIFT&&Math.abs(T[1]-D[1])<qe.MAX_PATTERN_DRIFT)T=D,N=0;else{if(N>qe.SKIPPED_ROW_COUNT_MAX)break;N++}}E-=N+1,u[2]=new je(T[0],E),u[3]=new je(T[1],E)}return E-r<qe.BARCODE_MIN_HEIGHT&&Ce.fill(u,null),u}static findGuardPattern(t,a,i,r,l,o,u){Ce.fillWithin(u,0,u.length,0);let h=a,m=0;for(;t.get(h,i)&&h>0&&m++<qe.MAX_PIXEL_DRIFT;)h--;let E=h,N=0,T=o.length;for(let D=l;E<r;E++)if(t.get(E,i)!==D)u[N]++;else{if(N===T-1){if(qe.patternMatchVariance(u,o,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return new Int32Array([h,E]);h+=u[0]+u[1],pe.arraycopy(u,2,u,0,N-1),u[N-1]=0,u[N]=0,N--}else N++;u[N]=1,D=!D}return N===T-1&&qe.patternMatchVariance(u,o,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE?new Int32Array([h,E-1]):null}static patternMatchVariance(t,a,i){let r=t.length,l=0,o=0;for(let m=0;m<r;m++)l+=t[m],o+=a[m];if(l<o)return 1/0;let u=l/o;i*=u;let h=0;for(let m=0;m<r;m++){let E=t[m],N=a[m]*u,T=E>N?E-N:N-E;if(T>i)return 1/0;h+=T}return h/l}}qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qe.MAX_AVG_VARIANCE=.42,qe.MAX_INDIVIDUAL_VARIANCE=.8,qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qe.MAX_PIXEL_DRIFT=3,qe.MAX_PATTERN_DRIFT=5,qe.SKIPPED_ROW_COUNT_MAX=25,qe.ROW_STEP=5,qe.BARCODE_MIN_HEIGHT=10;class Ht{constructor(t,a){if(a.length===0)throw new z;this.field=t;let i=a.length;if(i>1&&a[0]===0){let r=1;for(;r<i&&a[r]===0;)r++;r===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-r),pe.arraycopy(a,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let r=0;for(let l of this.coefficients)r=this.field.add(r,l);return r}let a=this.coefficients[0],i=this.coefficients.length;for(let r=1;r<i;r++)a=this.field.add(this.field.multiply(t,a),this.coefficients[r]);return a}add(t){if(!this.field.equals(t.field))throw new z("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,i=t.coefficients;if(a.length>i.length){let o=a;a=i,i=o}let r=new Int32Array(i.length),l=i.length-a.length;pe.arraycopy(i,0,r,0,l);for(let o=l;o<i.length;o++)r[o]=this.field.add(a[o-l],i[o]);return new Ht(this.field,r)}subtract(t){if(!this.field.equals(t.field))throw new z("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ht?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new z("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ht(this.field,new Int32Array([0]));let a=this.coefficients,i=a.length,r=t.coefficients,l=r.length,o=new Int32Array(i+l-1);for(let u=0;u<i;u++){let h=a[u];for(let m=0;m<l;m++)o[u+m]=this.field.add(o[u+m],this.field.multiply(h,r[m]))}return new Ht(this.field,o)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let i=0;i<t;i++)a[i]=this.field.subtract(0,this.coefficients[i]);return new Ht(this.field,a)}multiplyScalar(t){if(t===0)return new Ht(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,i=new Int32Array(a);for(let r=0;r<a;r++)i[r]=this.field.multiply(this.coefficients[r],t);return new Ht(this.field,i)}multiplyByMonomial(t,a){if(t<0)throw new z;if(a===0)return new Ht(this.field,new Int32Array([0]));let i=this.coefficients.length,r=new Int32Array(i+t);for(let l=0;l<i;l++)r[l]=this.field.multiply(this.coefficients[l],a);return new Ht(this.field,r)}toString(){let t=new Me;for(let a=this.getDegree();a>=0;a--){let i=this.getCoefficient(a);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(a===0||i!==1)&&t.append(i),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class Da{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new z;return this.logTable[t]}inverse(t){if(t===0)throw new gi;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class es extends Da{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let r=0;r<t;r++)this.expTable[r]=i,i=i*a%t;for(let r=0;r<t-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new z;if(a===0)return this.zero;let i=new Int32Array(t+1);return i[0]=a,new Ht(this,i)}}es.PDF417_GF=new es(He.NUMBER_OF_CODEWORDS,3);class ts{constructor(){this.field=es.PDF417_GF}decode(t,a,i){let r=new Ht(this.field,t),l=new Int32Array(a),o=!1;for(let k=a;k>0;k--){let U=r.evaluateAt(this.field.exp(k));l[a-k]=U,U!==0&&(o=!0)}if(!o)return 0;let u=this.field.getOne();if(i!=null)for(const k of i){let U=this.field.exp(t.length-1-k),X=new Ht(this.field,new Int32Array([this.field.subtract(0,U),1]));u=u.multiply(X)}let h=new Ht(this.field,l),m=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),h,a),E=m[0],N=m[1],T=this.findErrorLocations(E),D=this.findErrorMagnitudes(N,E,T);for(let k=0;k<T.length;k++){let U=t.length-1-this.field.log(T[k]);if(U<0)throw ce.getChecksumInstance();t[U]=this.field.subtract(t[U],D[k])}return T.length}runEuclideanAlgorithm(t,a,i){if(t.getDegree()<a.getDegree()){let T=t;t=a,a=T}let r=t,l=a,o=this.field.getZero(),u=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let T=r,D=o;if(r=l,o=u,r.isZero())throw ce.getChecksumInstance();l=T;let k=this.field.getZero(),U=r.getCoefficient(r.getDegree()),X=this.field.inverse(U);for(;l.getDegree()>=r.getDegree()&&!l.isZero();){let ee=l.getDegree()-r.getDegree(),ye=this.field.multiply(l.getCoefficient(l.getDegree()),X);k=k.add(this.field.buildMonomial(ee,ye)),l=l.subtract(r.multiplyByMonomial(ee,ye))}u=k.multiply(o).subtract(D).negative()}let h=u.getCoefficient(0);if(h===0)throw ce.getChecksumInstance();let m=this.field.inverse(h),E=u.multiply(m),N=l.multiply(m);return[E,N]}findErrorLocations(t){let a=t.getDegree(),i=new Int32Array(a),r=0;for(let l=1;l<this.field.getSize()&&r<a;l++)t.evaluateAt(l)===0&&(i[r]=this.field.inverse(l),r++);if(r!==a)throw ce.getChecksumInstance();return i}findErrorMagnitudes(t,a,i){let r=a.getDegree(),l=new Int32Array(r);for(let m=1;m<=r;m++)l[r-m]=this.field.multiply(m,a.getCoefficient(m));let o=new Ht(this.field,l),u=i.length,h=new Int32Array(u);for(let m=0;m<u;m++){let E=this.field.inverse(i[m]),N=this.field.subtract(0,t.evaluateAt(E)),T=this.field.inverse(o.evaluateAt(E));h[m]=this.field.multiply(N,T)}return h}}class _a{constructor(t,a,i,r,l){t instanceof _a?this.constructor_2(t):this.constructor_1(t,a,i,r,l)}constructor_1(t,a,i,r,l){const o=a==null||i==null,u=r==null||l==null;if(o&&u)throw new j;o?(a=new je(0,r.getY()),i=new je(0,l.getY())):u&&(r=new je(t.getWidth()-1,a.getY()),l=new je(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=a,this.bottomLeft=i,this.topRight=r,this.bottomRight=l,this.minX=Math.trunc(Math.min(a.getX(),i.getX())),this.maxX=Math.trunc(Math.max(r.getX(),l.getX())),this.minY=Math.trunc(Math.min(a.getY(),r.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new _a(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,i){let r=this.topLeft,l=this.bottomLeft,o=this.topRight,u=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,m=Math.trunc(h.getY()-t);m<0&&(m=0);let E=new je(h.getX(),m);i?r=E:o=E}if(a>0){let h=i?this.bottomLeft:this.bottomRight,m=Math.trunc(h.getY()+a);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let E=new je(h.getX(),m);i?l=E:u=E}return new _a(this.image,r,l,o,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Os{constructor(t,a,i,r){this.columnCount=t,this.errorCorrectionLevel=r,this.rowCountUpperPart=a,this.rowCountLowerPart=i,this.rowCount=a+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ra{constructor(){this.buffer=""}static form(t,a){let i=-1;function r(o,u,h,m,E,N){if(o==="%%")return"%";if(a[++i]===void 0)return;o=m?parseInt(m.substr(1)):void 0;let T=E?parseInt(E.substr(1)):void 0,D;switch(N){case"s":D=a[i];break;case"c":D=a[i][0];break;case"f":D=parseFloat(a[i]).toFixed(o);break;case"p":D=parseFloat(a[i]).toPrecision(o);break;case"e":D=parseFloat(a[i]).toExponential(o);break;case"x":D=parseInt(a[i]).toString(T||16);break;case"d":D=parseFloat(parseInt(a[i],T||10).toPrecision(o)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(T);let k=parseInt(h),U=h&&h[0]+""=="0"?"0":" ";for(;D.length<k;)D=u!==void 0?D+U:U+D;return D}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,r)}format(t,...a){this.buffer+=Ra.form(t,a)}toString(){return this.buffer}}class pi{constructor(t){this.boundingBox=new _a(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let i=1;i<pi.MAX_NEARBY_DISTANCE;i++){let r=this.imageRowToCodewordIndex(t)-i;if(r>=0&&(a=this.codewords[r],a!=null)||(r=this.imageRowToCodewordIndex(t)+i,r<this.codewords.length&&(a=this.codewords[r],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ra;let a=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,i.getRowNumber(),i.getValue())}return t.toString()}}pi.MAX_NEARBY_DISTANCE=5;class nn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[i,r]of this.values.entries()){const l={getKey:()=>i,getValue:()=>r};l.getValue()>t?(t=l.getValue(),a=[],a.push(l.getKey())):l.getValue()===t&&a.push(l.getKey())}return He.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class ja extends pi{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,m=1,E=0;for(let N=o;N<u;N++){if(a[N]==null)continue;let T=a[N],D=T.getRowNumber()-h;if(D===0)E++;else if(D===1)m=Math.max(m,E),E=1,h=T.getRowNumber();else if(D<0||T.getRowNumber()>=t.getRowCount()||D>N)a[N]=null;else{let k;m>2?k=(m-2)*D:k=D;let U=k>=N;for(let X=1;X<=k&&!U;X++)U=a[N-X]!=null;U?a[N]=null:(h=T.getRowNumber(),E=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let r=i.getRowNumber();if(r>=a.length)continue;a[r]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),i=this._isLeft?a.getTopLeft():a.getTopRight(),r=this._isLeft?a.getBottomLeft():a.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=this.getCodewords(),h=-1;for(let m=l;m<o;m++){if(u[m]==null)continue;let E=u[m];E.setRowNumberAsRowIndicatorColumn();let N=E.getRowNumber()-h;N===0||(N===1?h=E.getRowNumber():E.getRowNumber()>=t.getRowCount()?u[m]=null:h=E.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new nn,i=new nn,r=new nn,l=new nn;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let h=u.getValue()%30,m=u.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:i.setValue(h*3+1);break;case 1:l.setValue(h/3),r.setValue(h%3);break;case 2:a.setValue(h+1);break}}if(a.getValue().length===0||i.getValue().length===0||r.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||i.getValue()[0]+r.getValue()[0]<He.MIN_ROWS_IN_BARCODE||i.getValue()[0]+r.getValue()[0]>He.MAX_ROWS_IN_BARCODE)return null;let o=new Os(a.getValue()[0],i.getValue()[0],r.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,o),o}removeIncorrectCodewords(t,a){for(let i=0;i<t.length;i++){let r=t[i];if(t[i]==null)continue;let l=r.getValue()%30,o=r.getRowNumber();if(o>a.getRowCount()){t[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:l*3+1!==a.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(l/3)!==a.getErrorCorrectionLevel()||l%3!==a.getRowCountLowerPart())&&(t[i]=null);break;case 2:l+1!==a.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ba{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=He.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let i=this.detectionResultColumns[a].getCodewords();for(let r=0;r<i.length;r++)i[r]!=null&&(i[r].hasValidRowNumber()||this.adjustRowNumbers(a,r,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&a[i]!=null&&t[i].getRowNumber()===a[i].getRowNumber())for(let r=1;r<=this.barcodeColumnCount;r++){let l=this.detectionResultColumns[r].getCodewords()[i];l!=null&&(l.setRowNumber(t[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<a.length;i++){if(a[i]==null)continue;let r=a[i].getRowNumber(),l=0;for(let o=this.barcodeColumnCount+1;o>0&&l<this.ADJUST_ROW_NUMBER_SKIP;o--){let u=this.detectionResultColumns[o].getCodewords()[i];u!=null&&(l=Ba.adjustRowNumberIfValid(r,l,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let i=0;i<a.length;i++){if(a[i]==null)continue;let r=a[i].getRowNumber(),l=0;for(let o=1;o<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;o++){let u=this.detectionResultColumns[o].getCodewords()[i];u!=null&&(l=Ba.adjustRowNumberIfValid(r,l,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,i){if(!this.detectionResultColumns[t-1])return;let r=i[a],l=this.detectionResultColumns[t-1].getCodewords(),o=l;this.detectionResultColumns[t+1]!=null&&(o=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=l[a],u[3]=o[a],a>0&&(u[0]=i[a-1],u[4]=l[a-1],u[5]=o[a-1]),a>1&&(u[8]=i[a-2],u[10]=l[a-2],u[11]=o[a-2]),a<i.length-1&&(u[1]=i[a+1],u[6]=l[a+1],u[7]=o[a+1]),a<i.length-2&&(u[9]=i[a+2],u[12]=l[a+2],u[13]=o[a+2]);for(let h of u)if(Ba.adjustRowNumber(r,h))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ra;for(let i=0;i<t.getCodewords().length;i++){a.format("CW %3d:",i);for(let r=0;r<this.barcodeColumnCount+2;r++){if(this.detectionResultColumns[r]==null){a.format("    |   ");continue}let l=this.detectionResultColumns[r].getCodewords()[i];if(l==null){a.format("    |   ");continue}a.format(" %3d|%3d",l.getRowNumber(),l.getValue())}a.format("%n")}return a.toString()}}class Ea{constructor(t,a,i,r){this.rowNumber=Ea.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(i),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ea.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ea.BARCODE_ROW_UNKNOWN=-1;class On{static initialize(){for(let t=0;t<He.SYMBOL_TABLE.length;t++){let a=He.SYMBOL_TABLE[t],i=a&1;for(let r=0;r<He.BARS_IN_MODULE;r++){let l=0;for(;(a&1)===i;)l+=1,a>>=1;i=a&1,On.RATIOS_TABLE[t]||(On.RATIOS_TABLE[t]=new Array(He.BARS_IN_MODULE)),On.RATIOS_TABLE[t][He.BARS_IN_MODULE-r-1]=Math.fround(l/He.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=On.getDecodedCodewordValue(On.sampleBitCounts(t));return a!==-1?a:On.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=st.sum(t),i=new Int32Array(He.BARS_IN_MODULE),r=0,l=0;for(let o=0;o<He.MODULES_IN_CODEWORD;o++){let u=a/(2*He.MODULES_IN_CODEWORD)+o*a/He.MODULES_IN_CODEWORD;l+t[r]<=u&&(l+=t[r],r++),i[r]++}return i}static getDecodedCodewordValue(t){let a=On.getBitValue(t);return He.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let i=0;i<t.length;i++)for(let r=0;r<t[i];r++)a=a<<1|(i%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=st.sum(t),i=new Array(He.BARS_IN_MODULE);if(a>1)for(let o=0;o<i.length;o++)i[o]=Math.fround(t[o]/a);let r=Qi.MAX_VALUE,l=-1;this.bSymbolTableReady||On.initialize();for(let o=0;o<On.RATIOS_TABLE.length;o++){let u=0,h=On.RATIOS_TABLE[o];for(let m=0;m<He.BARS_IN_MODULE;m++){let E=Math.fround(h[m]-i[m]);if(u+=Math.fround(E*E),u>=r)break}u<r&&(r=u,l=He.SYMBOL_TABLE[o])}return l}}On.bSymbolTableReady=!1,On.RATIOS_TABLE=new Array(He.SYMBOL_TABLE.length).map(b=>new Array(He.BARS_IN_MODULE));class Ds{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class _s{static parseLong(t,a=void 0){return parseInt(t,a)}}class yi extends C{}yi.kind="NullPointerException";class Rs{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,i){if(t==null)throw new yi;if(a<0||a>t.length||i<0||a+i>t.length||a+i<0)throw new Ne;if(i===0)return;for(let r=0;r<i;r++)this.write(t[a+r])}flush(){}close(){}}class xl extends C{}class Nc extends Rs{constructor(t=32){if(super(),this.count=0,t<0)throw new z("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new xl;i=ie.MAX_VALUE}this.buf=Ce.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,i){if(a<0||a>t.length||i<0||a+i-t.length>0)throw new Ne;this.ensureCapacity(this.count+i),pe.arraycopy(t,a,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ce.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var mt;(function(b){b[b.ALPHA=0]="ALPHA",b[b.LOWER=1]="LOWER",b[b.MIXED=2]="MIXED",b[b.PUNCT=3]="PUNCT",b[b.ALPHA_SHIFT=4]="ALPHA_SHIFT",b[b.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(mt||(mt={}));function ml(){if(typeof window<"u")return window.BigInt||null;if(typeof Sc<"u")return Sc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ai;function La(b){if(typeof Ai>"u"&&(Ai=ml()),Ai===null)throw new Error("BigInt is not supported!");return Ai(b)}function Tc(){let b=[];b[0]=La(1);let t=La(900);b[1]=t;for(let a=2;a<16;a++)b[a]=b[a-1]*t;return b}class ae{static decode(t,a){let i=new Me(""),r=F.ISO8859_1;i.enableDecoding(r);let l=1,o=t[l++],u=new Ds;for(;l<t[0];){switch(o){case ae.TEXT_COMPACTION_MODE_LATCH:l=ae.textCompaction(t,l,i);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:l=ae.byteCompaction(o,t,r,l,i);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:l=ae.numericCompaction(t,l,i);break;case ae.ECI_CHARSET:F.getCharacterSetECIByValue(t[l++]);break;case ae.ECI_GENERAL_PURPOSE:l+=2;break;case ae.ECI_USER_DEFINED:l++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=ae.decodeMacroBlock(t,l,u);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new le;default:l--,l=ae.textCompaction(t,l,i);break}if(l<t.length)o=t[l++];else throw le.getFormatInstance()}if(i.length()===0)throw le.getFormatInstance();let h=new zn(null,i.toString(),null,a);return h.setOther(u),h}static decodeMacroBlock(t,a,i){if(a+ae.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw le.getFormatInstance();let r=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<ae.NUMBER_OF_SEQUENCE_CODEWORDS;u++,a++)r[u]=t[a];i.setSegmentIndex(ie.parseInt(ae.decodeBase900toBase10(r,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Me;a=ae.textCompaction(t,a,l),i.setFileId(l.toString());let o=-1;for(t[a]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=a+1);a<t[0];)switch(t[a]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Me;a=ae.textCompaction(t,a+1,u),i.setFileName(u.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Me;a=ae.textCompaction(t,a+1,h),i.setSender(h.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new Me;a=ae.textCompaction(t,a+1,m),i.setAddressee(m.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Me;a=ae.numericCompaction(t,a+1,E),i.setSegmentCount(ie.parseInt(E.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Me;a=ae.numericCompaction(t,a+1,N),i.setTimestamp(_s.parseLong(N.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Me;a=ae.numericCompaction(t,a+1,T),i.setChecksum(ie.parseInt(T.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new Me;a=ae.numericCompaction(t,a+1,D),i.setFileSize(_s.parseLong(D.toString()));break;default:throw le.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:a++,i.setLastSegment(!0);break;default:throw le.getFormatInstance()}if(o!==-1){let u=a-o;i.isLastSegment()&&u--,i.setOptionalData(Ce.copyOfRange(t,o,o+u))}return a}static textCompaction(t,a,i){let r=new Int32Array((t[0]-a)*2),l=new Int32Array((t[0]-a)*2),o=0,u=!1;for(;a<t[0]&&!u;){let h=t[a++];if(h<ae.TEXT_COMPACTION_MODE_LATCH)r[o]=h/30,r[o+1]=h%30,o+=2;else switch(h){case ae.TEXT_COMPACTION_MODE_LATCH:r[o++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:a--,u=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[o]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[a++],l[o]=h,o++;break}}return ae.decodeTextCompaction(r,l,o,i),a}static decodeTextCompaction(t,a,i,r){let l=mt.ALPHA,o=mt.ALPHA,u=0;for(;u<i;){let h=t[u],m="";switch(l){case mt.ALPHA:if(h<26)m=String.fromCharCode(65+h);else switch(h){case 26:m=" ";break;case ae.LL:l=mt.LOWER;break;case ae.ML:l=mt.MIXED;break;case ae.PS:o=l,l=mt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(a[u]);break;case ae.TEXT_COMPACTION_MODE_LATCH:l=mt.ALPHA;break}break;case mt.LOWER:if(h<26)m=String.fromCharCode(97+h);else switch(h){case 26:m=" ";break;case ae.AS:o=l,l=mt.ALPHA_SHIFT;break;case ae.ML:l=mt.MIXED;break;case ae.PS:o=l,l=mt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(a[u]);break;case ae.TEXT_COMPACTION_MODE_LATCH:l=mt.ALPHA;break}break;case mt.MIXED:if(h<ae.PL)m=ae.MIXED_CHARS[h];else switch(h){case ae.PL:l=mt.PUNCT;break;case 26:m=" ";break;case ae.LL:l=mt.LOWER;break;case ae.AL:l=mt.ALPHA;break;case ae.PS:o=l,l=mt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(a[u]);break;case ae.TEXT_COMPACTION_MODE_LATCH:l=mt.ALPHA;break}break;case mt.PUNCT:if(h<ae.PAL)m=ae.PUNCT_CHARS[h];else switch(h){case ae.PAL:l=mt.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(a[u]);break;case ae.TEXT_COMPACTION_MODE_LATCH:l=mt.ALPHA;break}break;case mt.ALPHA_SHIFT:if(l=o,h<26)m=String.fromCharCode(65+h);else switch(h){case 26:m=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:l=mt.ALPHA;break}break;case mt.PUNCT_SHIFT:if(l=o,h<ae.PAL)m=ae.PUNCT_CHARS[h];else switch(h){case ae.PAL:l=mt.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(a[u]);break;case ae.TEXT_COMPACTION_MODE_LATCH:l=mt.ALPHA;break}break}m!==""&&r.append(m),u++}}static byteCompaction(t,a,i,r,l){let o=new Nc,u=0,h=0,m=!1;switch(t){case ae.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),N=a[r++];for(;r<a[0]&&!m;)switch(E[u++]=N,h=900*h+N,N=a[r++],N){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,m=!0;break;default:if(u%5===0&&u>0){for(let T=0;T<6;++T)o.write(Number(La(h)>>La(8*(5-T))));h=0,u=0}break}r===a[0]&&N<ae.TEXT_COMPACTION_MODE_LATCH&&(E[u++]=N);for(let T=0;T<u;T++)o.write(E[T]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;r<a[0]&&!m;){let T=a[r++];if(T<ae.TEXT_COMPACTION_MODE_LATCH)u++,h=900*h+T;else switch(T){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,m=!0;break}if(u%5===0&&u>0){for(let D=0;D<6;++D)o.write(Number(La(h)>>La(8*(5-D))));h=0,u=0}}break}return l.append(ge.decode(o.toByteArray(),i)),r}static numericCompaction(t,a,i){let r=0,l=!1,o=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!l;){let u=t[a++];if(a===t[0]&&(l=!0),u<ae.TEXT_COMPACTION_MODE_LATCH)o[r]=u,r++;else switch(u){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:a--,l=!0;break}(r%ae.MAX_NUMERIC_CODEWORDS===0||u===ae.NUMERIC_COMPACTION_MODE_LATCH||l)&&r>0&&(i.append(ae.decodeBase900toBase10(o,r)),r=0)}return a}static decodeBase900toBase10(t,a){let i=La(0);for(let l=0;l<a;l++)i+=ae.EXP900[a-l-1]*La(t[l]);let r=i.toString();if(r.charAt(0)!=="1")throw new le;return r.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=ml()?Tc():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ke{constructor(){}static decode(t,a,i,r,l,o,u){let h=new _a(t,a,i,r,l),m=null,E=null,N;for(let k=!0;;k=!1){if(a!=null&&(m=Ke.getRowIndicatorColumn(t,h,a,!0,o,u)),r!=null&&(E=Ke.getRowIndicatorColumn(t,h,r,!1,o,u)),N=Ke.merge(m,E),N==null)throw j.getNotFoundInstance();let U=N.getBoundingBox();if(k&&U!=null&&(U.getMinY()<h.getMinY()||U.getMaxY()>h.getMaxY()))h=U;else break}N.setBoundingBox(h);let T=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,m),N.setDetectionResultColumn(T,E);let D=m!=null;for(let k=1;k<=T;k++){let U=D?k:T-k;if(N.getDetectionResultColumn(U)!==void 0)continue;let X;U===0||U===T?X=new ja(h,U===0):X=new pi(h),N.setDetectionResultColumn(U,X);let ee=-1,ye=ee;for(let Ee=h.getMinY();Ee<=h.getMaxY();Ee++){if(ee=Ke.getStartColumn(N,U,Ee,D),ee<0||ee>h.getMaxX()){if(ye===-1)continue;ee=ye}let me=Ke.detectCodeword(t,h.getMinX(),h.getMaxX(),D,ee,Ee,o,u);me!=null&&(X.setCodeword(Ee,me),ye=ee,o=Math.min(o,me.getWidth()),u=Math.max(u,me.getWidth()))}}return Ke.createDecoderResult(N)}static merge(t,a){if(t==null&&a==null)return null;let i=Ke.getBarcodeMetadata(t,a);if(i==null)return null;let r=_a.merge(Ke.adjustBoundingBox(t),Ke.adjustBoundingBox(a));return new Ba(i,r)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let i=Ke.getMax(a),r=0;for(let u of a)if(r+=i-u,u>0)break;let l=t.getCodewords();for(let u=0;r>0&&l[u]==null;u++)r--;let o=0;for(let u=a.length-1;u>=0&&(o+=i-a[u],!(a[u]>0));u--);for(let u=l.length-1;o>0&&l[u]==null;u--)o--;return t.getBoundingBox().addMissingRows(r,o,t.isLeft())}static getMax(t){let a=-1;for(let i of t)a=Math.max(a,i);return a}static getBarcodeMetadata(t,a){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let r;return a==null||(r=a.getBarcodeMetadata())==null?i:i.getColumnCount()!==r.getColumnCount()&&i.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&i.getRowCount()!==r.getRowCount()?null:i}static getRowIndicatorColumn(t,a,i,r,l,o){let u=new ja(a,r);for(let h=0;h<2;h++){let m=h===0?1:-1,E=Math.trunc(Math.trunc(i.getX()));for(let N=Math.trunc(Math.trunc(i.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=m){let T=Ke.detectCodeword(t,0,t.getWidth(),r,E,N,l,o);T!=null&&(u.setCodeword(N,T),r?E=T.getStartX():E=T.getEndX())}}return u}static adjustCodewordCount(t,a){let i=a[0][1],r=i.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ke.getNumberOfECCodeWords(t.getBarcodeECLevel());if(r.length===0){if(l<1||l>He.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();i.setValue(l)}else r[0]!==l&&i.setValue(l)}static createDecoderResult(t){let a=Ke.createBarcodeMatrix(t);Ke.adjustCodewordCount(t,a);let i=new Array,r=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],o=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let m=0;m<t.getBarcodeColumnCount();m++){let E=a[h][m+1].getValue(),N=h*t.getBarcodeColumnCount()+m;E.length===0?i.push(N):E.length===1?r[N]=E[0]:(o.push(N),l.push(E))}let u=new Array(l.length);for(let h=0;h<u.length;h++)u[h]=l[h];return Ke.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),r,He.toIntArray(i),He.toIntArray(o),u)}static createDecoderResultFromAmbiguousValues(t,a,i,r,l){let o=new Int32Array(r.length),u=100;for(;u-- >0;){for(let h=0;h<o.length;h++)a[r[h]]=l[h][o[h]];try{return Ke.decodeCodewords(a,t,i)}catch(h){if(!(h instanceof ce))throw h}if(o.length===0)throw ce.getChecksumInstance();for(let h=0;h<o.length;h++)if(o[h]<l[h].length-1){o[h]++;break}else if(o[h]=0,h===o.length-1)throw ce.getChecksumInstance()}throw ce.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let r=0;r<a.length;r++)for(let l=0;l<a[r].length;l++)a[r][l]=new nn;let i=0;for(let r of t.getDetectionResultColumns()){if(r!=null){for(let l of r.getCodewords())if(l!=null){let o=l.getRowNumber();if(o>=0){if(o>=a.length)continue;a[o][i].setValue(l.getValue())}}}i++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,i,r){let l=r?1:-1,o=null;if(Ke.isValidBarcodeColumn(t,a-l)&&(o=t.getDetectionResultColumn(a-l).getCodeword(i)),o!=null)return r?o.getEndX():o.getStartX();if(o=t.getDetectionResultColumn(a).getCodewordNearby(i),o!=null)return r?o.getStartX():o.getEndX();if(Ke.isValidBarcodeColumn(t,a-l)&&(o=t.getDetectionResultColumn(a-l).getCodewordNearby(i)),o!=null)return r?o.getEndX():o.getStartX();let u=0;for(;Ke.isValidBarcodeColumn(t,a-l);){a-=l;for(let h of t.getDetectionResultColumn(a).getCodewords())if(h!=null)return(r?h.getEndX():h.getStartX())+l*u*(h.getEndX()-h.getStartX());u++}return r?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,i,r,l,o,u,h){l=Ke.adjustCodewordStartColumn(t,a,i,r,l,o);let m=Ke.getModuleBitCount(t,a,i,r,l,o);if(m==null)return null;let E,N=st.sum(m);if(r)E=l+N;else{for(let k=0;k<m.length/2;k++){let U=m[k];m[k]=m[m.length-1-k],m[m.length-1-k]=U}E=l,l=E-N}if(!Ke.checkCodewordSkew(N,u,h))return null;let T=On.getDecodedValue(m),D=He.getCodeword(T);return D===-1?null:new Ea(l,E,Ke.getCodewordBucketNumber(T),D)}static getModuleBitCount(t,a,i,r,l,o){let u=l,h=new Int32Array(8),m=0,E=r?1:-1,N=r;for(;(r?u<i:u>=a)&&m<h.length;)t.get(u,o)===N?(h[m]++,u+=E):(m++,N=!N);return m===h.length||u===(r?i:a)&&m===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,i,r,l,o){let u=l,h=r?-1:1;for(let m=0;m<2;m++){for(;(r?u>=a:u<i)&&r===t.get(u,o);){if(Math.abs(l-u)>Ke.CODEWORD_SKEW_SIZE)return l;u+=h}h=-h,r=!r}return u}static checkCodewordSkew(t,a,i){return a-Ke.CODEWORD_SKEW_SIZE<=t&&t<=i+Ke.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,i){if(t.length===0)throw le.getFormatInstance();let r=1<<a+1,l=Ke.correctErrors(t,i,r);Ke.verifyCodewordCount(t,r);let o=ae.decode(t,""+a);return o.setErrorsCorrected(l),o.setErasures(i.length),o}static correctErrors(t,a,i){if(a!=null&&a.length>i/2+Ke.MAX_ERRORS||i<0||i>Ke.MAX_EC_CODEWORDS)throw ce.getChecksumInstance();return Ke.errorCorrection.decode(t,i,a)}static verifyCodewordCount(t,a){if(t.length<4)throw le.getFormatInstance();let i=t[0];if(i>t.length)throw le.getFormatInstance();if(i===0)if(a<t.length)t[0]=t.length-a;else throw le.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),i=0,r=a.length-1;for(;!((t&1)!==i&&(i=t&1,r--,r<0));)a[r]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ke.getCodewordBucketNumber(Ke.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new Ra;for(let i=0;i<t.length;i++){a.format("Row %2d: ",i);for(let r=0;r<t[i].length;r++){let l=t[i][r];l.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}a.format("%n")}return a.toString()}}Ke.CODEWORD_SKEW_SIZE=2,Ke.MAX_ERRORS=3,Ke.MAX_EC_CODEWORDS=512,Ke.errorCorrection=new ts;class fn{decode(t,a=null){let i=fn.decode(t,a,!1);if(i==null||i.length===0||i[0]==null)throw j.getNotFoundInstance();return i[0]}decodeMultiple(t,a=null){try{return fn.decode(t,a,!0)}catch(i){throw i instanceof le||i instanceof ce?j.getNotFoundInstance():i}}static decode(t,a,i){const r=new Array,l=qe.detectMultiple(t,a,i);for(const o of l.getPoints()){const u=Ke.decode(l.getBits(),o[4],o[5],o[6],o[7],fn.getMinCodewordWidth(o),fn.getMaxCodewordWidth(o)),h=new _e(u.getText(),u.getRawBytes(),void 0,o,Se.PDF_417);h.putMetadata(Qe.ERROR_CORRECTION_LEVEL,u.getECLevel());const m=u.getOther();m!=null&&h.putMetadata(Qe.PDF417_EXTRA_METADATA,m),r.push(h)}return r.map(o=>o)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?ie.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(fn.getMaxWidth(t[0],t[4]),fn.getMaxWidth(t[6],t[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.max(fn.getMaxWidth(t[1],t[5]),fn.getMaxWidth(t[7],t[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(fn.getMinWidth(t[0],t[4]),fn.getMinWidth(t[6],t[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.min(fn.getMinWidth(t[1],t[5]),fn.getMinWidth(t[7],t[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}reset(){}}class ns extends C{}ns.kind="ReaderException";class pl{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!A(t)&&t.get(Le.TRY_HARDER)===!0,i=A(t)?null:t.get(Le.POSSIBLE_FORMATS),r=new Array;if(!A(i)){const l=i.some(o=>o===Se.UPC_A||o===Se.UPC_E||o===Se.EAN_13||o===Se.EAN_8||o===Se.CODABAR||o===Se.CODE_39||o===Se.CODE_93||o===Se.CODE_128||o===Se.ITF||o===Se.RSS_14||o===Se.RSS_EXPANDED);l&&!a&&r.push(new Ia(t,this.verbose)),i.includes(Se.QR_CODE)&&r.push(new Aa),i.includes(Se.DATA_MATRIX)&&r.push(new Qn),i.includes(Se.AZTEC)&&r.push(new Cs),i.includes(Se.PDF_417)&&r.push(new fn),l&&a&&r.push(new Ia(t,this.verbose))}r.length===0&&(a||r.push(new Ia(t,this.verbose)),r.push(new Aa),r.push(new Qn),r.push(new Cs),r.push(new fn),a&&r.push(new Ia(t,this.verbose))),this.readers=r}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ns("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(i){if(i instanceof ns)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class Ic extends Te{constructor(t=null,a=500){const i=new pl;i.setHints(t),super(i,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Mc extends Te{constructor(t=500){super(new fn,t)}}class Oc extends Te{constructor(t=500){super(new Aa,t)}}var as;(function(b){b[b.ERROR_CORRECTION=0]="ERROR_CORRECTION",b[b.CHARACTER_SET=1]="CHARACTER_SET",b[b.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",b[b.MIN_SIZE=3]="MIN_SIZE",b[b.MAX_SIZE=4]="MAX_SIZE",b[b.MARGIN=5]="MARGIN",b[b.PDF417_COMPACT=6]="PDF417_COMPACT",b[b.PDF417_COMPACTION=7]="PDF417_COMPACTION",b[b.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",b[b.AZTEC_LAYERS=9]="AZTEC_LAYERS",b[b.QR_VERSION=10]="QR_VERSION"})(as||(as={}));var Jt=as;class pr{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new rn(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let i=a[a.length-1];const r=this.field;for(let l=a.length;l<=t;l++){const o=i.multiply(new rn(r,Int32Array.from([1,r.exp(l-1+r.getGeneratorBase())])));a.push(o),i=o}}return a[t]}encode(t,a){if(a===0)throw new z("No error correction bytes");const i=t.length-a;if(i<=0)throw new z("No data bytes provided");const r=this.buildGenerator(a),l=new Int32Array(i);pe.arraycopy(t,0,l,0,i);let o=new rn(this.field,l);o=o.multiplyByMonomial(a,1);const h=o.divide(r)[1].getCoefficients(),m=a-h.length;for(let E=0;E<m;E++)t[i+E]=0;pe.arraycopy(h,0,t,i+m,h.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(t){return zt.applyMaskPenaltyRule1Internal(t,!0)+zt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const i=t.getArray(),r=t.getWidth(),l=t.getHeight();for(let o=0;o<l-1;o++){const u=i[o];for(let h=0;h<r-1;h++){const m=u[h];m===u[h+1]&&m===i[o+1][h]&&m===i[o+1][h+1]&&a++}}return zt.N2*a}static applyMaskPenaltyRule3(t){let a=0;const i=t.getArray(),r=t.getWidth(),l=t.getHeight();for(let o=0;o<l;o++)for(let u=0;u<r;u++){const h=i[o];u+6<r&&h[u]===1&&h[u+1]===0&&h[u+2]===1&&h[u+3]===1&&h[u+4]===1&&h[u+5]===0&&h[u+6]===1&&(zt.isWhiteHorizontal(h,u-4,u)||zt.isWhiteHorizontal(h,u+7,u+11))&&a++,o+6<l&&i[o][u]===1&&i[o+1][u]===0&&i[o+2][u]===1&&i[o+3][u]===1&&i[o+4][u]===1&&i[o+5][u]===0&&i[o+6][u]===1&&(zt.isWhiteVertical(i,u,o-4,o)||zt.isWhiteVertical(i,u,o+7,o+11))&&a++}return a*zt.N3}static isWhiteHorizontal(t,a,i){a=Math.max(a,0),i=Math.min(i,t.length);for(let r=a;r<i;r++)if(t[r]===1)return!1;return!0}static isWhiteVertical(t,a,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let l=i;l<r;l++)if(t[l][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const i=t.getArray(),r=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const m=i[h];for(let E=0;E<r;E++)m[E]===1&&a++}const o=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-o)*10/o)*zt.N4}static getDataMaskBit(t,a,i){let r,l;switch(t){case 0:r=i+a&1;break;case 1:r=i&1;break;case 2:r=a%3;break;case 3:r=(i+a)%3;break;case 4:r=Math.floor(i/2)+Math.floor(a/3)&1;break;case 5:l=i*a,r=(l&1)+l%3;break;case 6:l=i*a,r=(l&1)+l%3&1;break;case 7:l=i*a,r=l%3+(i+a&1)&1;break;default:throw new z("Invalid mask pattern: "+t)}return r===0}static applyMaskPenaltyRule1Internal(t,a){let i=0;const r=a?t.getHeight():t.getWidth(),l=a?t.getWidth():t.getHeight(),o=t.getArray();for(let u=0;u<r;u++){let h=0,m=-1;for(let E=0;E<l;E++){const N=a?o[u][E]:o[E][u];N===m?h++:(h>=5&&(i+=zt.N1+(h-5)),h=1,m=N)}h>=5&&(i+=zt.N1+(h-5))}return i}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class is{constructor(t,a){this.width=t,this.height=a;const i=new Array(a);for(let r=0;r!==a;r++)i[r]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,i){this.bytes[a][t]=i}setBoolean(t,a,i){this.bytes[a][t]=i?1:0}clear(t){for(const a of this.bytes)Ce.fill(a,t)}equals(t){if(!(t instanceof is))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let i=0,r=this.height;i<r;++i){const l=this.bytes[i],o=a.bytes[i];for(let u=0,h=this.width;u<h;++u)if(l[u]!==o[u])return!1}return!0}toString(){const t=new Me;for(let a=0,i=this.height;a<i;++a){const r=this.bytes[a];for(let l=0,o=this.width;l<o;++l)switch(r[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ka{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Me;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ka.NUM_MASK_PATTERNS}}Ka.NUM_MASK_PATTERNS=8;class At extends C{}At.kind="WriterException";class Pe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,i,r,l){Pe.clearMatrix(l),Pe.embedBasicPatterns(i,l),Pe.embedTypeInfo(a,r,l),Pe.maybeEmbedVersionInfo(i,l),Pe.embedDataBits(t,r,l)}static embedBasicPatterns(t,a){Pe.embedPositionDetectionPatternsAndSeparators(a),Pe.embedDarkDotAtLeftBottomCorner(a),Pe.maybeEmbedPositionAdjustmentPatterns(t,a),Pe.embedTimingPatterns(a)}static embedTypeInfo(t,a,i){const r=new ue;Pe.makeTypeInfoBits(t,a,r);for(let l=0,o=r.getSize();l<o;++l){const u=r.get(r.getSize()-1-l),h=Pe.TYPE_INFO_COORDINATES[l],m=h[0],E=h[1];if(i.setBoolean(m,E,u),l<8){const N=i.getWidth()-l-1;i.setBoolean(N,8,u)}else{const T=i.getHeight()-7+(l-8);i.setBoolean(8,T,u)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const i=new ue;Pe.makeVersionInfoBits(t,i);let r=17;for(let l=0;l<6;++l)for(let o=0;o<3;++o){const u=i.get(r);r--,a.setBoolean(l,a.getHeight()-11+o,u),a.setBoolean(a.getHeight()-11+o,l,u)}}static embedDataBits(t,a,i){let r=0,l=-1,o=i.getWidth()-1,u=i.getHeight()-1;for(;o>0;){for(o===6&&(o-=1);u>=0&&u<i.getHeight();){for(let h=0;h<2;++h){const m=o-h;if(!Pe.isEmpty(i.get(m,u)))continue;let E;r<t.getSize()?(E=t.get(r),++r):E=!1,a!==255&&zt.getDataMaskBit(a,m,u)&&(E=!E),i.setBoolean(m,u,E)}u+=l}l=-l,u+=l,o-=2}if(r!==t.getSize())throw new At("Not all bits consumed: "+r+"/"+t.getSize())}static findMSBSet(t){return 32-ie.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new z("0 polynomial");const i=Pe.findMSBSet(a);for(t<<=i-1;Pe.findMSBSet(t)>=i;)t^=a<<Pe.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,a,i){if(!Ka.isValidMaskPattern(a))throw new At("Invalid mask pattern");const r=t.getBits()<<3|a;i.appendBits(r,5);const l=Pe.calculateBCHCode(r,Pe.TYPE_INFO_POLY);i.appendBits(l,10);const o=new ue;if(o.appendBits(Pe.TYPE_INFO_MASK_PATTERN,15),i.xor(o),i.getSize()!==15)throw new At("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const i=Pe.calculateBCHCode(t.getVersionNumber(),Pe.VERSION_INFO_POLY);if(a.appendBits(i,12),a.getSize()!==18)throw new At("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const i=(a+1)%2;Pe.isEmpty(t.get(a,6))&&t.setNumber(a,6,i),Pe.isEmpty(t.get(6,a))&&t.setNumber(6,a,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new At;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,i){for(let r=0;r<8;++r){if(!Pe.isEmpty(i.get(t+r,a)))throw new At;i.setNumber(t+r,a,0)}}static embedVerticalSeparationPattern(t,a,i){for(let r=0;r<7;++r){if(!Pe.isEmpty(i.get(t,a+r)))throw new At;i.setNumber(t,a+r,0)}}static embedPositionAdjustmentPattern(t,a,i){for(let r=0;r<5;++r){const l=Pe.POSITION_ADJUSTMENT_PATTERN[r];for(let o=0;o<5;++o)i.setNumber(t+o,a+r,l[o])}}static embedPositionDetectionPattern(t,a,i){for(let r=0;r<7;++r){const l=Pe.POSITION_DETECTION_PATTERN[r];for(let o=0;o<7;++o)i.setNumber(t+o,a+r,l[o])}}static embedPositionDetectionPatternsAndSeparators(t){const a=Pe.POSITION_DETECTION_PATTERN[0].length;Pe.embedPositionDetectionPattern(0,0,t),Pe.embedPositionDetectionPattern(t.getWidth()-a,0,t),Pe.embedPositionDetectionPattern(0,t.getWidth()-a,t);const i=8;Pe.embedHorizontalSeparationPattern(0,i-1,t),Pe.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Pe.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const r=7;Pe.embedVerticalSeparationPattern(r,0,t),Pe.embedVerticalSeparationPattern(t.getHeight()-r-1,0,t),Pe.embedVerticalSeparationPattern(r,t.getHeight()-r,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,r=Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,o=r.length;l!==o;l++){const u=r[l];if(u>=0)for(let h=0;h!==o;h++){const m=r[h];m>=0&&Pe.isEmpty(a.get(m,u))&&Pe.embedPositionAdjustmentPattern(m-2,u-2,a)}}}}Pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pe.VERSION_INFO_POLY=7973,Pe.TYPE_INFO_POLY=1335,Pe.TYPE_INFO_MASK_PATTERN=21522;class Dc{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(t){return zt.applyMaskPenaltyRule1(t)+zt.applyMaskPenaltyRule2(t)+zt.applyMaskPenaltyRule3(t)+zt.applyMaskPenaltyRule4(t)}static encode(t,a,i=null){let r=Dt.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(Jt.CHARACTER_SET)!==void 0;l&&(r=i.get(Jt.CHARACTER_SET).toString());const o=this.chooseMode(t,r),u=new ue;if(o===ze.BYTE&&(l||Dt.DEFAULT_BYTE_MODE_ENCODING!==r)){const Ee=F.getCharacterSetECIByName(r);Ee!==void 0&&this.appendECI(Ee,u)}this.appendModeInfo(o,u);const h=new ue;this.appendBytes(t,o,h,r);let m;if(i!==null&&i.get(Jt.QR_VERSION)!==void 0){const Ee=Number.parseInt(i.get(Jt.QR_VERSION).toString(),10);m=ke.getVersionForNumber(Ee);const me=this.calculateBitsNeeded(o,u,h,m);if(!this.willFit(me,m,a))throw new At("Data too big for requested version")}else m=this.recommendVersion(a,o,u,h);const E=new ue;E.appendBitArray(u);const N=o===ze.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(N,m,o,E),E.appendBitArray(h);const T=m.getECBlocksForLevel(a),D=m.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(D,E);const k=this.interleaveWithECBytes(E,m.getTotalCodewords(),D,T.getNumBlocks()),U=new Ka;U.setECLevel(a),U.setMode(o),U.setVersion(m);const X=m.getDimensionForVersion(),ee=new is(X,X),ye=this.chooseMaskPattern(k,a,m,ee);return U.setMaskPattern(ye),Pe.buildMatrix(k,a,m,ye,ee),U.setMatrix(ee),U}static recommendVersion(t,a,i,r){const l=this.calculateBitsNeeded(a,i,r,ke.getVersionForNumber(1)),o=this.chooseVersion(l,t),u=this.calculateBitsNeeded(a,i,r,o);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,a,i,r){return a.getSize()+t.getCharacterCountBits(r)+i.getSize()}static getAlphanumericCode(t){return t<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(F.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return ze.KANJI;let i=!1,r=!1;for(let l=0,o=t.length;l<o;++l){const u=t.charAt(l);if(Dt.isDigit(u))i=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)r=!0;else return ze.BYTE}return r?ze.ALPHANUMERIC:i?ze.NUMERIC:ze.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=ge.encode(t,F.SJIS)}catch{return!1}const i=a.length;if(i%2!==0)return!1;for(let r=0;r<i;r+=2){const l=a[r]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,a,i,r){let l=Number.MAX_SAFE_INTEGER,o=-1;for(let u=0;u<Ka.NUM_MASK_PATTERNS;u++){Pe.buildMatrix(t,a,i,u,r);let h=this.calculateMaskPenalty(r);h<l&&(l=h,o=u)}return o}static chooseVersion(t,a){for(let i=1;i<=40;i++){const r=ke.getVersionForNumber(i);if(Dt.willFit(t,r,a))return r}throw new At("Data too big")}static willFit(t,a,i){const r=a.getTotalCodewords(),o=a.getECBlocksForLevel(i).getTotalECCodewords(),u=r-o,h=(t+7)/8;return u>=h}static terminateBits(t,a){const i=t*8;if(a.getSize()>i)throw new At("data bits cannot fit in the QR Code"+a.getSize()+" > "+i);for(let o=0;o<4&&a.getSize()<i;++o)a.appendBit(!1);const r=a.getSize()&7;if(r>0)for(let o=r;o<8;o++)a.appendBit(!1);const l=t-a.getSizeInBytes();for(let o=0;o<l;++o)a.appendBits((o&1)===0?236:17,8);if(a.getSize()!==i)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,i,r,l,o){if(r>=i)throw new At("Block ID too large");const u=t%i,h=i-u,m=Math.floor(t/i),E=m+1,N=Math.floor(a/i),T=N+1,D=m-N,k=E-T;if(D!==k)throw new At("EC bytes mismatch");if(i!==h+u)throw new At("RS blocks mismatch");if(t!==(N+D)*h+(T+k)*u)throw new At("Total bytes mismatch");r<h?(l[0]=N,o[0]=D):(l[0]=T,o[0]=k)}static interleaveWithECBytes(t,a,i,r){if(t.getSizeInBytes()!==i)throw new At("Number of bits and data bytes does not match");let l=0,o=0,u=0;const h=new Array;for(let E=0;E<r;++E){const N=new Int32Array(1),T=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(a,i,r,E,N,T);const D=N[0],k=new Uint8Array(D);t.toBytes(8*l,k,0,D);const U=Dt.generateECBytes(k,T[0]);h.push(new Dc(k,U)),o=Math.max(o,D),u=Math.max(u,U.length),l+=N[0]}if(i!==l)throw new At("Data bytes does not match offset");const m=new ue;for(let E=0;E<o;++E)for(const N of h){const T=N.getDataBytes();E<T.length&&m.appendBits(T[E],8)}for(let E=0;E<u;++E)for(const N of h){const T=N.getErrorCorrectionBytes();E<T.length&&m.appendBits(T[E],8)}if(a!==m.getSizeInBytes())throw new At("Interleaving error: "+a+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(t,a){const i=t.length,r=new Int32Array(i+a);for(let o=0;o<i;o++)r[o]=t[o]&255;new pr(lt.QR_CODE_FIELD_256).encode(r,a);const l=new Uint8Array(a);for(let o=0;o<a;o++)l[o]=r[i+o];return l}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,i,r){const l=i.getCharacterCountBits(a);if(t>=1<<l)throw new At(t+" is bigger than "+((1<<l)-1));r.appendBits(t,l)}static appendBytes(t,a,i,r){switch(a){case ze.NUMERIC:Dt.appendNumericBytes(t,i);break;case ze.ALPHANUMERIC:Dt.appendAlphanumericBytes(t,i);break;case ze.BYTE:Dt.append8BitBytes(t,i,r);break;case ze.KANJI:Dt.appendKanjiBytes(t,i);break;default:throw new At("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=Dt.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const i=t.length;let r=0;for(;r<i;){const l=Dt.getDigit(t.charAt(r));if(r+2<i){const o=Dt.getDigit(t.charAt(r+1)),u=Dt.getDigit(t.charAt(r+2));a.appendBits(l*100+o*10+u,10),r+=3}else if(r+1<i){const o=Dt.getDigit(t.charAt(r+1));a.appendBits(l*10+o,7),r+=2}else a.appendBits(l,4),r++}}static appendAlphanumericBytes(t,a){const i=t.length;let r=0;for(;r<i;){const l=Dt.getAlphanumericCode(t.charCodeAt(r));if(l===-1)throw new At;if(r+1<i){const o=Dt.getAlphanumericCode(t.charCodeAt(r+1));if(o===-1)throw new At;a.appendBits(l*45+o,11),r+=2}else a.appendBits(l,6),r++}}static append8BitBytes(t,a,i){let r;try{r=ge.encode(t,i)}catch(l){throw new At(l)}for(let l=0,o=r.length;l!==o;l++){const u=r[l];a.appendBits(u,8)}}static appendKanjiBytes(t,a){let i;try{i=ge.encode(t,F.SJIS)}catch(l){throw new At(l)}const r=i.length;for(let l=0;l<r;l+=2){const o=i[l]&255,u=i[l+1]&255,h=o<<8&4294967295|u;let m=-1;if(h>=33088&&h<=40956?m=h-33088:h>=57408&&h<=60351&&(m=h-49472),m===-1)throw new At("Invalid byte sequence");const E=(m>>8)*192+(m&255);a.appendBits(E,13)}}static appendECI(t,a){a.appendBits(ze.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class Wa{write(t,a,i,r=null){if(t.length===0)throw new z("Found empty contents");if(a<0||i<0)throw new z("Requested dimensions are too small: "+a+"x"+i);let l=xt.L,o=Wa.QUIET_ZONE_SIZE;r!==null&&(r.get(Jt.ERROR_CORRECTION)!==void 0&&(l=xt.fromString(r.get(Jt.ERROR_CORRECTION).toString())),r.get(Jt.MARGIN)!==void 0&&(o=Number.parseInt(r.get(Jt.MARGIN).toString(),10)));const u=Dt.encode(t,l,r);return this.renderResult(u,a,i,o)}writeToDom(t,a,i,r,l=null){typeof t=="string"&&(t=document.querySelector(t));const o=this.write(a,i,r,l);t&&t.appendChild(o)}renderResult(t,a,i,r){const l=t.getMatrix();if(l===null)throw new ra;const o=l.getWidth(),u=l.getHeight(),h=o+r*2,m=u+r*2,E=Math.max(a,h),N=Math.max(i,m),T=Math.min(Math.floor(E/h),Math.floor(N/m)),D=Math.floor((E-o*T)/2),k=Math.floor((N-u*T)/2),U=this.createSVGElement(E,N);for(let X=0,ee=k;X<u;X++,ee+=T)for(let ye=0,Ee=D;ye<o;ye++,Ee+=T)if(l.get(ye,X)===1){const me=this.createSvgRectElement(Ee,ee,T,T);U.appendChild(me)}return U}createSVGElement(t,a){const i=document.createElementNS(Wa.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",a.toString()),i}createSvgRectElement(t,a,i,r){const l=document.createElementNS(Wa.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",a.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",r.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Wa.QUIET_ZONE_SIZE=4,Wa.SVG_NS="http://www.w3.org/2000/svg";class Si{encode(t,a,i,r,l){if(t.length===0)throw new z("Found empty contents");if(a!==Se.QR_CODE)throw new z("Can only encode QR_CODE, but got "+a);if(i<0||r<0)throw new z(`Requested dimensions are too small: ${i}x${r}`);let o=xt.L,u=Si.QUIET_ZONE_SIZE;l!==null&&(l.get(Jt.ERROR_CORRECTION)!==void 0&&(o=xt.fromString(l.get(Jt.ERROR_CORRECTION).toString())),l.get(Jt.MARGIN)!==void 0&&(u=Number.parseInt(l.get(Jt.MARGIN).toString(),10)));const h=Dt.encode(t,o,l);return Si.renderResult(h,i,r,u)}static renderResult(t,a,i,r){const l=t.getMatrix();if(l===null)throw new ra;const o=l.getWidth(),u=l.getHeight(),h=o+r*2,m=u+r*2,E=Math.max(a,h),N=Math.max(i,m),T=Math.min(Math.floor(E/h),Math.floor(N/m)),D=Math.floor((E-o*T)/2),k=Math.floor((N-u*T)/2),U=new Ue(E,N);for(let X=0,ee=k;X<u;X++,ee+=T)for(let ye=0,Ee=D;ye<o;ye++,Ee+=T)l.get(ye,X)===1&&U.setRegion(Ee,ee,T,T);return U}}Si.QUIET_ZONE_SIZE=4;class _c{encode(t,a,i,r,l){let o;switch(a){case Se.QR_CODE:o=new Si;break;default:throw new z("No encoder available for format "+a)}return o.encode(t,a,i,r,l)}}class ca extends ${constructor(t,a,i,r,l,o,u,h){if(super(o,u),this.yuvData=t,this.dataWidth=a,this.dataHeight=i,this.left=r,this.top=l,r+o>a||l+u>i)throw new z("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(o,u)}getRow(t,a){if(t<0||t>=this.getHeight())throw new z("Requested row is outside the image: "+t);const i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));const r=(t+this.top)*this.dataWidth+this.left;return pe.arraycopy(this.yuvData,r,a,0,i),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const i=t*a,r=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return pe.arraycopy(this.yuvData,l,r,0,i),r;for(let o=0;o<a;o++){const u=o*t;pe.arraycopy(this.yuvData,l,r,u,t),l+=this.dataWidth}return r}isCropSupported(){return!0}crop(t,a,i,r){return new ca(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,i,r,!1)}renderThumbnail(){const t=this.getWidth()/ca.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/ca.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*a),r=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let o=0;o<a;o++){const u=o*t;for(let h=0;h<t;h++){const m=r[l+h*ca.THUMBNAIL_SCALE_FACTOR]&255;i[u+h]=4278190080|m*65793}l+=this.dataWidth*ca.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/ca.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ca.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const i=this.yuvData;for(let r=0,l=this.top*this.dataWidth+this.left;r<a;r++,l+=this.dataWidth){const o=l+t/2;for(let u=l,h=l+t-1;u<o;u++,h--){const m=i[u];i[u]=i[h],i[h]=m}}}invert(){return new De(this)}}ca.THUMBNAIL_SCALE_FACTOR=2;class ss extends ${constructor(t,a,i,r,l,o,u){if(super(a,i),this.dataWidth=r,this.dataHeight=l,this.left=o,this.top=u,t.BYTES_PER_ELEMENT===4){const h=a*i,m=new Uint8ClampedArray(h);for(let E=0;E<h;E++){const N=t[E],T=N>>16&255,D=N>>7&510,k=N&255;m[E]=(T+D+k)/4&255}this.luminances=m}else this.luminances=t;if(r===void 0&&(this.dataWidth=a),l===void 0&&(this.dataHeight=i),o===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+i>this.dataHeight)throw new z("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new z("Requested row is outside the image: "+t);const i=this.getWidth();(a==null||a.length<i)&&(a=new Uint8ClampedArray(i));const r=(t+this.top)*this.dataWidth+this.left;return pe.arraycopy(this.luminances,r,a,0,i),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const i=t*a,r=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return pe.arraycopy(this.luminances,l,r,0,i),r;for(let o=0;o<a;o++){const u=o*t;pe.arraycopy(this.luminances,l,r,u,t),l+=this.dataWidth}return r}isCropSupported(){return!0}crop(t,a,i,r){return new ss(this.luminances,i,r,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new De(this)}}class Ei extends F{static forName(t){return this.getCharacterSetECIByName(t)}}class yr{}yr.ISO_8859_1=F.ISO8859_1;class Ar{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Sr{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class yl{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ja extends yl{constructor(t,a,i){super(t),this.value=a,this.bitCount=i}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new Ja(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ja(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ie.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class js extends Ja{constructor(t,a,i){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=i}appendTo(t,a){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+i],8)}addBinaryShift(t,a){return new js(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ci(b,t,a){return new js(b,t,a)}function rs(b,t,a){return new Ja(b,t,a)}const Rc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ka=0,ls=1,kn=2,wi=3,Dn=4,jc=new Ja(null,0,0),vi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Al(b){for(let t of b)Ce.fill(t,-1);return b[ka][Dn]=0,b[ls][Dn]=0,b[ls][ka]=28,b[wi][Dn]=0,b[kn][Dn]=0,b[kn][ka]=15,b}const Er=Al(Ce.createInt32Array(6,6));class Pn{constructor(t,a,i,r){this.token=t,this.mode=a,this.binaryShiftByteCount=i,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let i=this.bitCount,r=this.token;if(t!==this.mode){let o=vi[this.mode][t];r=rs(r,o&65535,o>>16),i+=o>>16}let l=t===kn?4:5;return r=rs(r,a,l),new Pn(r,t,0,i+l)}shiftAndAppend(t,a){let i=this.token,r=this.mode===kn?4:5;return i=rs(i,Er[this.mode][t],r),i=rs(i,a,5),new Pn(i,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(t){let a=this.token,i=this.mode,r=this.bitCount;if(this.mode===Dn||this.mode===kn){let u=vi[i][ka];a=rs(a,u&65535,u>>16),r+=u>>16,i=ka}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new Pn(a,i,this.binaryShiftByteCount+1,r+l);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(t+1)),o}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Ci(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pn(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(vi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=Pn.calculateBinaryShiftCost(t)-Pn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let r=this.endBinaryShift(t.length).token;r!==null;r=r.getPrevious())a.unshift(r);let i=new ue;for(const r of a)r.appendTo(i,t);return i}toString(){return fe.format("%s bits=%d bytes=%d",Rc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Pn.INITIAL_STATE=new Pn(jc,ka,0,0);function Cr(b){const t=fe.getCharCode(" "),a=fe.getCharCode("."),i=fe.getCharCode(",");b[ka][t]=1;const r=fe.getCharCode("Z"),l=fe.getCharCode("A");for(let T=l;T<=r;T++)b[ka][T]=T-l+2;b[ls][t]=1;const o=fe.getCharCode("z"),u=fe.getCharCode("a");for(let T=u;T<=o;T++)b[ls][T]=T-u+2;b[kn][t]=1;const h=fe.getCharCode("9"),m=fe.getCharCode("0");for(let T=m;T<=h;T++)b[kn][T]=T-m+2;b[kn][i]=12,b[kn][a]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<E.length;T++)b[wi][fe.getCharCode(E[T])]=T;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<N.length;T++)fe.getCharCode(N[T])>0&&(b[Dn][fe.getCharCode(N[T])]=T);return b}const Bs=Cr(Ce.createInt32Array(5,256));class bi{constructor(t){this.text=t}encode(){const t=fe.getCharCode(" "),a=fe.getCharCode(`
`);let i=Sr.singletonList(Pn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let o,u=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case fe.getCharCode("\r"):o=u===a?2:0;break;case fe.getCharCode("."):o=u===t?3:0;break;case fe.getCharCode(","):o=u===t?4:0;break;case fe.getCharCode(":"):o=u===t?5:0;break;default:o=0}o>0?(i=bi.updateStateListForPair(i,l,o),l++):i=this.updateStateListForChar(i,l)}return Sr.min(i,(l,o)=>l.getBitCount()-o.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const i=[];for(let r of t)this.updateStateForChar(r,a,i);return bi.simplifyStates(i)}updateStateForChar(t,a,i){let r=this.text[a]&255,l=Bs[t.getMode()][r]>0,o=null;for(let u=0;u<=Dn;u++){let h=Bs[u][r];if(h>0){if(o==null&&(o=t.endBinaryShift(a)),!l||u===t.getMode()||u===kn){const m=o.latchAndAppend(u,h);i.push(m)}if(!l&&Er[t.getMode()][u]>=0){const m=o.shiftAndAppend(u,h);i.push(m)}}}if(t.getBinaryShiftByteCount()>0||Bs[t.getMode()][r]===0){let u=t.addBinaryShiftChar(a);i.push(u)}}static updateStateListForPair(t,a,i){const r=[];for(let l of t)this.updateStateForPair(l,a,i,r);return this.simplifyStates(r)}static updateStateForPair(t,a,i,r){let l=t.endBinaryShift(a);if(r.push(l.latchAndAppend(Dn,i)),t.getMode()!==Dn&&r.push(l.shiftAndAppend(Dn,i)),i===3||i===4){let o=l.latchAndAppend(kn,16-i).latchAndAppend(kn,1);r.push(o)}if(t.getBinaryShiftByteCount()>0){let o=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);r.push(o)}}static simplifyStates(t){let a=[];for(const i of t){let r=!0;for(const l of a){if(l.isBetterThanOrEqualTo(i)){r=!1;break}i.isBetterThanOrEqualTo(l)&&(a=a.filter(o=>o!==l))}r&&a.push(i)}return a}}class rt{constructor(){}static encodeBytes(t){return rt.encode(t,rt.DEFAULT_EC_PERCENT,rt.DEFAULT_AZTEC_LAYERS)}static encode(t,a,i){let r=new bi(t).encode(),l=ie.truncDivision(r.getSize()*a,100)+11,o=r.getSize()+l,u,h,m,E,N;if(i!==rt.DEFAULT_AZTEC_LAYERS){if(u=i<0,h=Math.abs(i),h>(u?rt.MAX_NB_BITS_COMPACT:rt.MAX_NB_BITS))throw new z(fe.format("Illegal value %s for layers",i));m=rt.totalBitsInLayer(h,u),E=rt.WORD_SIZE[h];let me=m-m%E;if(N=rt.stuffBits(r,E),N.getSize()+l>me)throw new z("Data to large for user specified layer");if(u&&N.getSize()>E*64)throw new z("Data to large for user specified layer")}else{E=0,N=null;for(let me=0;;me++){if(me>rt.MAX_NB_BITS)throw new z("Data too large for an Aztec code");if(u=me<=3,h=u?me+1:me,m=rt.totalBitsInLayer(h,u),o>m)continue;(N==null||E!==rt.WORD_SIZE[h])&&(E=rt.WORD_SIZE[h],N=rt.stuffBits(r,E));let Ze=m-m%E;if(!(u&&N.getSize()>E*64)&&N.getSize()+l<=Ze)break}}let T=rt.generateCheckWords(N,m,E),D=N.getSize()/E,k=rt.generateModeMessage(u,h,D),U=(u?11:14)+h*4,X=new Int32Array(U),ee;if(u){ee=U;for(let me=0;me<X.length;me++)X[me]=me}else{ee=U+1+2*ie.truncDivision(ie.truncDivision(U,2)-1,15);let me=ie.truncDivision(U,2),Ze=ie.truncDivision(ee,2);for(let Xe=0;Xe<me;Xe++){let vn=Xe+ie.truncDivision(Xe,15);X[me-Xe-1]=Ze-vn-1,X[me+Xe]=Ze+vn+1}}let ye=new Ue(ee);for(let me=0,Ze=0;me<h;me++){let Xe=(h-me)*4+(u?9:12);for(let vn=0;vn<Xe;vn++){let Yn=vn*2;for(let _n=0;_n<2;_n++)T.get(Ze+Yn+_n)&&ye.set(X[me*2+_n],X[me*2+vn]),T.get(Ze+Xe*2+Yn+_n)&&ye.set(X[me*2+vn],X[U-1-me*2-_n]),T.get(Ze+Xe*4+Yn+_n)&&ye.set(X[U-1-me*2-_n],X[U-1-me*2-vn]),T.get(Ze+Xe*6+Yn+_n)&&ye.set(X[U-1-me*2-vn],X[me*2+_n])}Ze+=Xe*8}if(rt.drawModeMessage(ye,u,ee,k),u)rt.drawBullsEye(ye,ie.truncDivision(ee,2),5);else{rt.drawBullsEye(ye,ie.truncDivision(ee,2),7);for(let me=0,Ze=0;me<ie.truncDivision(U,2)-1;me+=15,Ze+=16)for(let Xe=ie.truncDivision(ee,2)&1;Xe<ee;Xe+=2)ye.set(ie.truncDivision(ee,2)-Ze,Xe),ye.set(ie.truncDivision(ee,2)+Ze,Xe),ye.set(Xe,ie.truncDivision(ee,2)-Ze),ye.set(Xe,ie.truncDivision(ee,2)+Ze)}let Ee=new Ar;return Ee.setCompact(u),Ee.setSize(ee),Ee.setLayers(h),Ee.setCodeWords(D),Ee.setMatrix(ye),Ee}static drawBullsEye(t,a,i){for(let r=0;r<i;r+=2)for(let l=a-r;l<=a+r;l++)t.set(l,a-r),t.set(l,a+r),t.set(a-r,l),t.set(a+r,l);t.set(a-i,a-i),t.set(a-i+1,a-i),t.set(a-i,a-i+1),t.set(a+i,a-i),t.set(a+i,a-i+1),t.set(a+i,a+i-1)}static generateModeMessage(t,a,i){let r=new ue;return t?(r.appendBits(a-1,2),r.appendBits(i-1,6),r=rt.generateCheckWords(r,28,4)):(r.appendBits(a-1,5),r.appendBits(i-1,11),r=rt.generateCheckWords(r,40,4)),r}static drawModeMessage(t,a,i,r){let l=ie.truncDivision(i,2);if(a)for(let o=0;o<7;o++){let u=l-3+o;r.get(o)&&t.set(u,l-5),r.get(o+7)&&t.set(l+5,u),r.get(20-o)&&t.set(u,l+5),r.get(27-o)&&t.set(l-5,u)}else for(let o=0;o<10;o++){let u=l-5+o+ie.truncDivision(o,5);r.get(o)&&t.set(u,l-7),r.get(o+10)&&t.set(l+7,u),r.get(29-o)&&t.set(u,l+7),r.get(39-o)&&t.set(l-7,u)}}static generateCheckWords(t,a,i){let r=t.getSize()/i,l=new pr(rt.getGF(i)),o=ie.truncDivision(a,i),u=rt.bitsToWords(t,i,o);l.encode(u,o-r);let h=a%i,m=new ue;m.appendBits(0,h);for(const E of Array.from(u))m.appendBits(E,i);return m}static bitsToWords(t,a,i){let r=new Int32Array(i),l,o;for(l=0,o=t.getSize()/a;l<o;l++){let u=0;for(let h=0;h<a;h++)u|=t.get(l*a+h)?1<<a-h-1:0;r[l]=u}return r}static getGF(t){switch(t){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new z("Unsupported word size "+t)}}static stuffBits(t,a){let i=new ue,r=t.getSize(),l=(1<<a)-2;for(let o=0;o<r;o+=a){let u=0;for(let h=0;h<a;h++)(o+h>=r||t.get(o+h))&&(u|=1<<a-1-h);(u&l)===l?(i.appendBits(u&l,a),o--):(u&l)===0?(i.appendBits(u|1,a),o--):i.appendBits(u,a)}return i}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}rt.DEFAULT_EC_PERCENT=33,rt.DEFAULT_AZTEC_LAYERS=0,rt.MAX_NB_BITS=32,rt.MAX_NB_BITS_COMPACT=4,rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ls{encode(t,a,i,r){return this.encodeWithHints(t,a,i,r,null)}encodeWithHints(t,a,i,r,l){let o=yr.ISO_8859_1,u=rt.DEFAULT_EC_PERCENT,h=rt.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Jt.CHARACTER_SET)&&(o=Ei.forName(l.get(Jt.CHARACTER_SET).toString())),l.has(Jt.ERROR_CORRECTION)&&(u=ie.parseInt(l.get(Jt.ERROR_CORRECTION).toString())),l.has(Jt.AZTEC_LAYERS)&&(h=ie.parseInt(l.get(Jt.AZTEC_LAYERS).toString()))),Ls.encodeLayers(t,a,i,r,o,u,h)}static encodeLayers(t,a,i,r,l,o,u){if(a!==Se.AZTEC)throw new z("Can only encode AZTEC, but got "+a);let h=rt.encode(fe.getBytes(t,l),o,u);return Ls.renderResult(h,i,r)}static renderResult(t,a,i){let r=t.getMatrix();if(r==null)throw new ra;let l=r.getWidth(),o=r.getHeight(),u=Math.max(a,l),h=Math.max(i,o),m=Math.min(u/l,h/o),E=(u-l*m)/2,N=(h-o*m)/2,T=new Ue(u,h);for(let D=0,k=N;D<o;D++,k+=m)for(let U=0,X=E;U<l;U++,X+=m)r.get(U,D)&&T.setRegion(X,k,m,m);return T}}x.AbstractExpandedDecoder=Ji,x.ArgumentException=R,x.ArithmeticException=gi,x.AztecCode=Ar,x.AztecCodeReader=Cs,x.AztecCodeWriter=Ls,x.AztecDecoder=bt,x.AztecDetector=ol,x.AztecDetectorResult=ur,x.AztecEncoder=rt,x.AztecHighLevelEncoder=bi,x.AztecPoint=pt,x.BarcodeFormat=Se,x.Binarizer=V,x.BinaryBitmap=ne,x.BitArray=ue,x.BitMatrix=Ue,x.BitSource=Mn,x.BrowserAztecCodeReader=wc,x.BrowserBarcodeReader=hl,x.BrowserCodeReader=Te,x.BrowserDatamatrixCodeReader=vc,x.BrowserMultiFormatReader=Ic,x.BrowserPDF417Reader=Mc,x.BrowserQRCodeReader=Oc,x.BrowserQRCodeSvgWriter=Wa,x.CharacterSetECI=F,x.ChecksumException=ce,x.Code128Reader=ve,x.Code39Reader=Ot,x.DataMatrixDecodedBitStreamParser=Ma,x.DataMatrixReader=Qn,x.DecodeHintType=Le,x.DecoderResult=zn,x.DefaultGridSampler=In,x.DetectorResult=Es,x.EAN13Reader=qn,x.EncodeHintType=Jt,x.Exception=C,x.FormatException=le,x.GenericGF=lt,x.GenericGFPoly=rn,x.GlobalHistogramBinarizer=G,x.GridSampler=fr,x.GridSamplerInstance=wn,x.HTMLCanvasElementLuminanceSource=L,x.HybridBinarizer=J,x.ITFReader=ft,x.IllegalArgumentException=z,x.IllegalStateException=ra,x.InvertedLuminanceSource=De,x.LuminanceSource=$,x.MathUtils=st,x.MultiFormatOneDReader=Ia,x.MultiFormatReader=pl,x.MultiFormatWriter=_c,x.NotFoundException=j,x.OneDReader=Bt,x.PDF417DecodedBitStreamParser=ae,x.PDF417DecoderErrorCorrection=ts,x.PDF417Reader=fn,x.PDF417ResultMetadata=Ds,x.PerspectiveTransform=Cn,x.PlanarYUVLuminanceSource=ca,x.QRCodeByteMatrix=is,x.QRCodeDataMask=un,x.QRCodeDecodedBitStreamParser=Lt,x.QRCodeDecoderErrorCorrectionLevel=xt,x.QRCodeDecoderFormatInformation=on,x.QRCodeEncoder=Dt,x.QRCodeEncoderQRCode=Ka,x.QRCodeMaskUtil=zt,x.QRCodeMatrixUtil=Pe,x.QRCodeMode=ze,x.QRCodeReader=Aa,x.QRCodeVersion=ke,x.QRCodeWriter=Si,x.RGBLuminanceSource=ss,x.RSS14Reader=dt,x.RSSExpandedReader=he,x.ReaderException=ns,x.ReedSolomonDecoder=Zi,x.ReedSolomonEncoder=pr,x.ReedSolomonException=ba,x.Result=_e,x.ResultMetadataType=Qe,x.ResultPoint=je,x.StringUtils=fe,x.UnsupportedOperationException=se,x.VideoInputDevice=xe,x.WhiteRectangleDetector=ma,x.WriterException=At,x.ZXingArrays=Ce,x.ZXingCharset=Ei,x.ZXingInteger=ie,x.ZXingStandardCharsets=yr,x.ZXingStringBuilder=Me,x.ZXingStringEncoding=ge,x.ZXingSystem=pe,x.createAbstractExpandedDecoder=gr,Object.defineProperty(x,"__esModule",{value:!0})})}(cl,cl.exports)),cl.exports}var kt=zh();const Fh=Tu(kt),Hh=Ch({__proto__:null,default:Fh},[kt]);var H0=function(){function p(y,x,A){if(this.formatMap=new Map([[Re.QR_CODE,kt.BarcodeFormat.QR_CODE],[Re.AZTEC,kt.BarcodeFormat.AZTEC],[Re.CODABAR,kt.BarcodeFormat.CODABAR],[Re.CODE_39,kt.BarcodeFormat.CODE_39],[Re.CODE_93,kt.BarcodeFormat.CODE_93],[Re.CODE_128,kt.BarcodeFormat.CODE_128],[Re.DATA_MATRIX,kt.BarcodeFormat.DATA_MATRIX],[Re.MAXICODE,kt.BarcodeFormat.MAXICODE],[Re.ITF,kt.BarcodeFormat.ITF],[Re.EAN_13,kt.BarcodeFormat.EAN_13],[Re.EAN_8,kt.BarcodeFormat.EAN_8],[Re.PDF_417,kt.BarcodeFormat.PDF_417],[Re.RSS_14,kt.BarcodeFormat.RSS_14],[Re.RSS_EXPANDED,kt.BarcodeFormat.RSS_EXPANDED],[Re.UPC_A,kt.BarcodeFormat.UPC_A],[Re.UPC_E,kt.BarcodeFormat.UPC_E],[Re.UPC_EAN_EXTENSION,kt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Hh)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=x,this.logger=A;var v=this.createZXingFormats(y),S=new Map;S.set(kt.DecodeHintType.POSSIBLE_FORMATS,v),S.set(kt.DecodeHintType.TRY_HARDER,!1),this.hints=S}return p.prototype.decodeAsync=function(y){var x=this;return new Promise(function(A,v){try{A(x.decode(y))}catch(S){v(S)}})},p.prototype.decode=function(y){var x=new kt.MultiFormatReader(this.verbose,this.hints),A=new kt.HTMLCanvasElementLuminanceSource(y),v=new kt.BinaryBitmap(new kt.HybridBinarizer(A)),S=x.decode(v);return{text:S.text,format:ed.create(this.toHtml5QrcodeSupportedFormats(S.format)),debugData:this.createDebugData()}},p.prototype.createReverseFormatMap=function(){var y=new Map;return this.formatMap.forEach(function(x,A,v){y.set(x,A)}),y},p.prototype.toHtml5QrcodeSupportedFormats=function(y){if(!this.reverseFormatMap.has(y))throw"reverseFormatMap doesn't have ".concat(y);return this.reverseFormatMap.get(y)},p.prototype.createZXingFormats=function(y){for(var x=[],A=0,v=y;A<v.length;A++){var S=v[A];this.formatMap.has(S)?x.push(this.formatMap.get(S)):this.logger.logError("".concat(S," is not supported by")+"ZXingHtml5QrcodeShim")}return x},p.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},p}(),Ph=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},Yh=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},P0=function(){function p(y,x,A){if(this.formatMap=new Map([[Re.QR_CODE,"qr_code"],[Re.AZTEC,"aztec"],[Re.CODABAR,"codabar"],[Re.CODE_39,"code_39"],[Re.CODE_93,"code_93"],[Re.CODE_128,"code_128"],[Re.DATA_MATRIX,"data_matrix"],[Re.ITF,"itf"],[Re.EAN_13,"ean_13"],[Re.EAN_8,"ean_8"],[Re.PDF_417,"pdf417"],[Re.UPC_A,"upc_a"],[Re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!p.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=x,this.logger=A;var v=this.createBarcodeDetectorFormats(y);if(this.detector=new BarcodeDetector(v),!this.detector)throw"BarcodeDetector detector not supported"}return p.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var y=new BarcodeDetector({formats:["qr_code"]});return typeof y<"u"},p.prototype.decodeAsync=function(y){return Ph(this,void 0,void 0,function(){var x,A;return Yh(this,function(v){switch(v.label){case 0:return[4,this.detector.detect(y)];case 1:if(x=v.sent(),!x||x.length===0)throw"No barcode or QR code detected.";return A=this.selectLargestBarcode(x),[2,{text:A.rawValue,format:ed.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}]}})})},p.prototype.selectLargestBarcode=function(y){for(var x=null,A=0,v=0,S=y;v<S.length;v++){var M=S[v],H=M.boundingBox.width*M.boundingBox.height;H>A&&(A=H,x=M)}if(!x)throw"No largest barcode found";return x},p.prototype.createBarcodeDetectorFormats=function(y){for(var x=[],A=0,v=y;A<v.length;A++){var S=v[A];this.formatMap.has(S)?x.push(this.formatMap.get(S)):this.logger.warn("".concat(S," is not supported by")+"BarcodeDetectorDelegate")}return{formats:x}},p.prototype.toHtml5QrcodeSupportedFormats=function(y){if(!this.reverseFormatMap.has(y))throw"reverseFormatMap doesn't have ".concat(y);return this.reverseFormatMap.get(y)},p.prototype.createReverseFormatMap=function(){var y=new Map;return this.formatMap.forEach(function(x,A,v){y.set(x,A)}),y},p.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},p}(),Y0=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},G0=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Gh=function(){function p(y,x,A,v){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=A,x&&P0.isSupported()?(this.primaryDecoder=new P0(y,A,v),this.secondaryDecoder=new H0(y,A,v)):this.primaryDecoder=new H0(y,A,v)}return p.prototype.decodeAsync=function(y){return Y0(this,void 0,void 0,function(){var x;return G0(this,function(A){switch(A.label){case 0:x=performance.now(),A.label=1;case 1:return A.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(y)];case 2:return[2,A.sent()];case 3:return this.possiblyLogPerformance(x),[7];case 4:return[2]}})})},p.prototype.decodeRobustlyAsync=function(y){return Y0(this,void 0,void 0,function(){var x,A;return G0(this,function(v){switch(v.label){case 0:x=performance.now(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(y)];case 2:return[2,v.sent()];case 3:if(A=v.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(y)];throw A;case 4:return this.possiblyLogPerformance(x),[7];case 5:return[2]}})})},p.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},p.prototype.possiblyLogPerformance=function(y){if(this.verbose){var x=performance.now()-y;this.executionResults.push(x),this.executions++,this.possiblyFlushPerformanceReport()}},p.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var y=0,x=0,A=this.executionResults;x<A.length;x++){var v=A[x];y+=v}var S=y/this.executionResults.length;console.log("".concat(S," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},p}(),Mu=function(){var p=function(y,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,v){A.__proto__=v}||function(A,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(A[S]=v[S])},p(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(y,x);function A(){this.constructor=y}y.prototype=x===null?Object.create(x):(A.prototype=x.prototype,new A)}}(),Ec=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},Cc=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},id=function(){function p(y,x){this.name=y,this.track=x}return p.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},p.prototype.apply=function(y){var x={};x[this.name]=y;var A={advanced:[x]};return this.track.applyConstraints(A)},p.prototype.value=function(){var y=this.track.getSettings();if(this.name in y){var x=y[this.name];return x}return null},p}(),Vh=function(p){Mu(y,p);function y(x,A){return p.call(this,x,A)||this}return y.prototype.min=function(){return this.getCapabilities().min},y.prototype.max=function(){return this.getCapabilities().max},y.prototype.step=function(){return this.getCapabilities().step},y.prototype.apply=function(x){var A={};A[this.name]=x;var v={advanced:[A]};return this.track.applyConstraints(v)},y.prototype.getCapabilities=function(){this.failIfNotSupported();var x=this.track.getCapabilities(),A=x[this.name];return{min:A.min,max:A.max,step:A.step}},y.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},y}(id),Xh=function(p){Mu(y,p);function y(x){return p.call(this,"zoom",x)||this}return y}(Vh),qh=function(p){Mu(y,p);function y(x){return p.call(this,"torch",x)||this}return y}(id),Zh=function(){function p(y){this.track=y}return p.prototype.zoomFeature=function(){return new Xh(this.track)},p.prototype.torchFeature=function(){return new qh(this.track)},p}(),Qh=function(){function p(y,x,A){this.isClosed=!1,this.parentElement=y,this.mediaStream=x,this.callbacks=A,this.surface=this.createVideoElement(this.parentElement.clientWidth),y.append(this.surface)}return p.prototype.createVideoElement=function(y){var x=document.createElement("video");return x.style.width="".concat(y,"px"),x.style.display="block",x.muted=!0,x.setAttribute("muted","true"),x.playsInline=!0,x},p.prototype.setupSurface=function(){var y=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var x=function(){var A=y.surface.clientWidth,v=y.surface.clientHeight;y.callbacks.onRenderSurfaceReady(A,v),y.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.srcObject=this.mediaStream,this.surface.play()},p.create=function(y,x,A,v){return Ec(this,void 0,void 0,function(){var S,M;return Cc(this,function(H){switch(H.label){case 0:return S=new p(y,x,v),A.aspectRatio?(M={aspectRatio:A.aspectRatio},[4,S.getFirstTrackOrFail().applyConstraints(M)]):[3,2];case 1:H.sent(),H.label=2;case 2:return S.setupSurface(),[2,S]}})})},p.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},p.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},p.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},p.prototype.resume=function(y){this.failIfClosed();var x=this,A=function(){setTimeout(y,200),x.surface.removeEventListener("playing",A)};this.surface.addEventListener("playing",A),this.surface.play()},p.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},p.prototype.getSurface=function(){return this.failIfClosed(),this.surface},p.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},p.prototype.applyVideoConstraints=function(y){return Ec(this,void 0,void 0,function(){return Cc(this,function(x){if("aspectRatio"in y)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(y)]})})},p.prototype.close=function(){if(this.isClosed)return Promise.resolve();var y=this;return new Promise(function(x,A){var v=y.mediaStream.getVideoTracks(),S=v.length,M=0;y.mediaStream.getVideoTracks().forEach(function(H){y.mediaStream.removeTrack(H),H.stop(),++M,M>=S&&(y.isClosed=!0,y.parentElement.removeChild(y.surface),x())})})},p.prototype.getCapabilities=function(){return new Zh(this.getFirstTrackOrFail())},p}(),Kh=function(){function p(y){this.mediaStream=y}return p.prototype.render=function(y,x,A){return Ec(this,void 0,void 0,function(){return Cc(this,function(v){return[2,Qh.create(y,this.mediaStream,x,A)]})})},p.create=function(y){return Ec(this,void 0,void 0,function(){var x,A;return Cc(this,function(v){switch(v.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return x={audio:!1,video:y},[4,navigator.mediaDevices.getUserMedia(x)];case 1:return A=v.sent(),[2,new p(A)]}})})},p}(),V0=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},X0=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Wh=function(){function p(){}return p.failIfNotSupported=function(){return V0(this,void 0,void 0,function(){return X0(this,function(y){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new p]})})},p.prototype.create=function(y){return V0(this,void 0,void 0,function(){return X0(this,function(x){return[2,Kh.create(y)]})})},p}(),Jh=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},$h=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},eg=function(){function p(){}return p.retrieve=function(){if(navigator.mediaDevices)return p.getCamerasFromMediaDevices();var y=MediaStreamTrack;return MediaStreamTrack&&y.getSources?p.getCamerasFromMediaStreamTrack():p.rejectWithError()},p.rejectWithError=function(){var y=or.unableToQuerySupportedDevices();return p.isHttpsOrLocalhost()||(y=or.insecureContextCameraQueryError()),Promise.reject(y)},p.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var y=location.host.split(":")[0];return y==="127.0.0.1"||y==="localhost"},p.getCamerasFromMediaDevices=function(){return Jh(this,void 0,void 0,function(){var y,x,A,v,S,M,H;return $h(this,function(_){switch(_.label){case 0:return y=function(C){for(var R=C.getVideoTracks(),z=0,ne=R;z<ne.length;z++){var ce=ne[z];ce.enabled=!1,ce.stop(),C.removeTrack(ce)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return x=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(A=_.sent(),v=[],S=0,M=A;S<M.length;S++)H=M[S],H.kind==="videoinput"&&v.push({id:H.deviceId,label:H.label});return y(x),[2,v]}})})},p.getCamerasFromMediaStreamTrack=function(){return new Promise(function(y,x){var A=function(S){for(var M=[],H=0,_=S;H<_.length;H++){var C=_[H];C.kind==="video"&&M.push({id:C.id,label:C.label})}y(M)},v=MediaStreamTrack;v.getSources(A)})},p}(),Zt;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.NOT_STARTED=1]="NOT_STARTED",p[p.SCANNING=2]="SCANNING",p[p.PAUSED=3]="PAUSED"})(Zt||(Zt={}));var tg=function(){function p(){this.state=Zt.NOT_STARTED,this.onGoingTransactionNewState=Zt.UNKNOWN}return p.prototype.directTransition=function(y){this.failIfTransitionOngoing(),this.validateTransition(y),this.state=y},p.prototype.startTransition=function(y){return this.failIfTransitionOngoing(),this.validateTransition(y),this.onGoingTransactionNewState=y,this},p.prototype.execute=function(){if(this.onGoingTransactionNewState===Zt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var y=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Zt.UNKNOWN,this.directTransition(y)},p.prototype.cancel=function(){if(this.onGoingTransactionNewState===Zt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Zt.UNKNOWN},p.prototype.getState=function(){return this.state},p.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Zt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},p.prototype.validateTransition=function(y){switch(this.state){case Zt.UNKNOWN:throw"Transition from unknown is not allowed";case Zt.NOT_STARTED:this.failIfNewStateIs(y,[Zt.PAUSED]);break;case Zt.SCANNING:break;case Zt.PAUSED:break}},p.prototype.failIfNewStateIs=function(y,x){for(var A=0,v=x;A<v.length;A++){var S=v[A];if(y===S)throw"Cannot transition from ".concat(this.state," to ").concat(y)}},p}(),ng=function(){function p(y){this.stateManager=y}return p.prototype.startTransition=function(y){return this.stateManager.startTransition(y)},p.prototype.directTransition=function(y){this.stateManager.directTransition(y)},p.prototype.getState=function(){return this.stateManager.getState()},p.prototype.canScanFile=function(){return this.stateManager.getState()===Zt.NOT_STARTED},p.prototype.isScanning=function(){return this.stateManager.getState()!==Zt.NOT_STARTED},p.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Zt.SCANNING},p.prototype.isPaused=function(){return this.stateManager.getState()===Zt.PAUSED},p}(),ag=function(){function p(){}return p.create=function(){return new ng(new tg)},p}(),ig=function(){var p=function(y,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,v){A.__proto__=v}||function(A,v){for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(A[S]=v[S])},p(y,x)};return function(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(y,x);function A(){this.constructor=y}y.prototype=x===null?Object.create(x):(A.prototype=x.prototype,new A)}}(),aa=function(p){ig(y,p);function y(){return p!==null&&p.apply(this,arguments)||this}return y.DEFAULT_WIDTH=300,y.DEFAULT_WIDTH_OFFSET=2,y.FILE_SCAN_MIN_HEIGHT=300,y.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,y.MIN_QR_BOX_SIZE=50,y.SHADED_LEFT=1,y.SHADED_RIGHT=2,y.SHADED_TOP=3,y.SHADED_BOTTOM=4,y.SHADED_REGION_ELEMENT_ID="qr-shaded-region",y.VERBOSE=!1,y.BORDER_SHADER_DEFAULT_COLOR="#ffffff",y.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",y}(va),sg=function(){function p(y,x){this.logger=x,this.fps=aa.SCAN_DEFAULT_FPS,y?(y.fps&&(this.fps=y.fps),this.disableFlip=y.disableFlip===!0,this.qrbox=y.qrbox,this.aspectRatio=y.aspectRatio,this.videoConstraints=y.videoConstraints):this.disableFlip=aa.DEFAULT_DISABLE_FLIP}return p.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ad.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},p.prototype.isShadedBoxEnabled=function(){return!Ga(this.qrbox)},p.create=function(y,x){return new p(y,x)},p}(),q0=function(){function p(y,x){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(y))throw"HTML Element with id=".concat(y," not found");this.elementId=y,this.verbose=!1;var A;typeof x=="boolean"?this.verbose=x===!0:x&&(A=x,this.verbose=A.verbose===!0,A.experimentalFeatures),this.logger=new nd(this.verbose),this.qrcode=new Gh(this.getSupportedFormats(x),this.getUseBarCodeDetectorIfSupported(A),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ag.create()}return p.prototype.start=function(y,x,A,v){var S=this;if(!y)throw"cameraIdOrConfig is required";if(!A||typeof A!="function")throw"qrCodeSuccessCallback is required and should be a function.";var M;v?M=v:M=this.verbose?this.logger.log:function(){};var H=sg.create(x,this.logger);this.clearElement();var _=!1;H.videoConstraints&&(H.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=_,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:aa.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var z=this,ne=this.stateManagerProxy.startTransition(Zt.SCANNING);return new Promise(function(ce,V){var pe=C?H.videoConstraints:z.createVideoConstraints(y);if(!pe){ne.cancel(),V("videoConstraints should be defined");return}var Ne={};(!C||H.aspectRatio)&&(Ne.aspectRatio=H.aspectRatio);var we={onRenderSurfaceReady:function(Ce,ie){z.setupUi(Ce,ie,H),z.isScanning=!0,z.foreverScan(H,A,M)}};Wh.failIfNotSupported().then(function(Ce){Ce.create(pe).then(function(ie){return ie.render(S.element,Ne,we).then(function(ue){z.renderedCamera=ue,ne.execute(),ce(null)}).catch(function(ue){ne.cancel(),V(ue)})}).catch(function(ie){ne.cancel(),V(or.errorGettingUserMedia(ie))})}).catch(function(Ce){ne.cancel(),V(or.cameraStreamingNotSupported())})})},p.prototype.pause=function(y){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Zt.PAUSED),this.showPausedState(),(Ga(y)||y!==!0)&&(y=!1),y&&this.renderedCamera&&this.renderedCamera.pause()},p.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var y=this,x=function(){y.stateManagerProxy.directTransition(Zt.SCANNING),y.hidePausedState()};if(!this.renderedCamera.isPaused()){x();return}this.renderedCamera.resume(function(){x()})},p.prototype.getState=function(){return this.stateManagerProxy.getState()},p.prototype.stop=function(){var y=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var x=this.stateManagerProxy.startTransition(Zt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var A=function(){if(y.element){var S=document.getElementById(aa.SHADED_REGION_ELEMENT_ID);S&&y.element.removeChild(S)}},v=this;return this.renderedCamera.close().then(function(){return v.renderedCamera=null,v.element&&(v.element.removeChild(v.canvasElement),v.canvasElement=null),A(),v.qrRegion&&(v.qrRegion=null),v.context&&(v.context=null),x.execute(),v.hidePausedState(),v.isScanning=!1,Promise.resolve()})},p.prototype.scanFile=function(y,x){return this.scanFileV2(y,x).then(function(A){return A.decodedText})},p.prototype.scanFileV2=function(y,x){var A=this;if(!y||!(y instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ga(x)&&(x=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(v,S){A.possiblyCloseLastScanImageFile(),A.clearElement(),A.lastScanImageFile=URL.createObjectURL(y);var M=new Image;M.onload=function(){var H=M.width,_=M.height,C=document.getElementById(A.elementId),R=C.clientWidth?C.clientWidth:aa.DEFAULT_WIDTH,z=Math.max(C.clientHeight?C.clientHeight:_,aa.FILE_SCAN_MIN_HEIGHT),ne=A.computeCanvasDrawConfig(H,_,R,z);if(x){var ce=A.createCanvasElement(R,z,"qr-canvas-visible");ce.style.display="inline-block",C.appendChild(ce);var V=ce.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=R,V.canvas.height=z,V.drawImage(M,0,0,H,_,ne.x,ne.y,ne.width,ne.height)}var pe=aa.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ne=Math.max(M.width,ne.width),we=Math.max(M.height,ne.height),Ce=Ne+2*pe,ie=we+2*pe,ue=A.createCanvasElement(Ce,ie);C.appendChild(ue);var Ie=ue.getContext("2d");if(!Ie)throw"Unable to get 2d context from canvas";Ie.canvas.width=Ce,Ie.canvas.height=ie,Ie.drawImage(M,0,0,H,_,pe,pe,Ne,we);try{A.qrcode.decodeRobustlyAsync(ue).then(function(Le){v(U0.createFromQrcodeResult(Le))}).catch(S)}catch(Le){S("QR code parse error, error = ".concat(Le))}},M.onerror=S,M.onabort=S,M.onstalled=S,M.onsuspend=S,M.src=URL.createObjectURL(y)})},p.prototype.clear=function(){this.clearElement()},p.getCameras=function(){return eg.retrieve()},p.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},p.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},p.prototype.applyVideoConstraints=function(y){if(y){if(!ad.isMediaStreamConstraintsValid(y,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(y)},p.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},p.prototype.getSupportedFormats=function(y){var x=[Re.QR_CODE,Re.AZTEC,Re.CODABAR,Re.CODE_39,Re.CODE_93,Re.CODE_128,Re.DATA_MATRIX,Re.MAXICODE,Re.ITF,Re.EAN_13,Re.EAN_8,Re.PDF_417,Re.RSS_14,Re.RSS_EXPANDED,Re.UPC_A,Re.UPC_E,Re.UPC_EAN_EXTENSION];if(!y||typeof y=="boolean"||!y.formatsToSupport)return x;if(!Array.isArray(y.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(y.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var A=[],v=0,S=y.formatsToSupport;v<S.length;v++){var M=S[v];Lh(M)?A.push(M):this.logger.warn("Invalid format: ".concat(M," passed in config, ignoring."))}if(A.length===0)throw"None of formatsToSupport match supported values.";return A},p.prototype.getUseBarCodeDetectorIfSupported=function(y){if(Ga(y))return!0;if(!Ga(y.useBarCodeDetectorIfSupported))return y.useBarCodeDetectorIfSupported!==!1;if(Ga(y.experimentalFeatures))return!0;var x=y.experimentalFeatures;return Ga(x.useBarCodeDetectorIfSupported)?!0:x.useBarCodeDetectorIfSupported!==!1},p.prototype.validateQrboxSize=function(y,x,A){var v=this,S=A.qrbox;this.validateQrboxConfig(S);var M=this.toQrdimensions(y,x,S),H=function(C){if(C<aa.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(aa.MIN_QR_BOX_SIZE,"px.")},_=function(C){return C>y&&(v.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=y),C};H(M.width),H(M.height),M.width=_(M.width)},p.prototype.validateQrboxConfig=function(y){if(typeof y!="number"&&typeof y!="function"&&(y.width===void 0||y.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},p.prototype.toQrdimensions=function(y,x,A){if(typeof A=="number")return{width:A,height:A};if(typeof A=="function")try{return A(y,x)}catch(v){throw new Error("qrbox config was passed as a function but it failed with unknown error"+v)}return A},p.prototype.setupUi=function(y,x,A){A.isShadedBoxEnabled()&&this.validateQrboxSize(y,x,A);var v=Ga(A.qrbox)?{width:y,height:x}:A.qrbox;this.validateQrboxConfig(v);var S=this.toQrdimensions(y,x,v);S.height>x&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var M=A.isShadedBoxEnabled()&&S.height<=x,H={x:0,y:0,width:y,height:x},_=M?this.getShadedRegionBounds(y,x,S):H,C=this.createCanvasElement(_.width,_.height),R={willReadFrequently:!0},z=C.getContext("2d",R);z.canvas.width=_.width,z.canvas.height=_.height,this.element.append(C),M&&this.possiblyInsertShadingElement(this.element,y,x,S),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=z,this.canvasElement=C},p.prototype.createScannerPausedUiElement=function(y){var x=document.createElement("div");x.innerText=or.scannerPaused(),x.style.display="none",x.style.position="absolute",x.style.top="0px",x.style.zIndex="1",x.style.background="rgba(9, 9, 9, 0.46)",x.style.color="#FFECEC",x.style.textAlign="center",x.style.width="100%",y.appendChild(x),this.scannerPausedUiElement=x},p.prototype.scanContext=function(y,x){var A=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(v){return y(v.text,U0.createFromQrcodeResult(v)),A.possiblyUpdateShaders(!0),!0}).catch(function(v){A.possiblyUpdateShaders(!1);var S=or.codeParseError(v);return x(S,td.createFrom(S)),!1})},p.prototype.foreverScan=function(y,x,A){var v=this;if(this.shouldScan&&this.renderedCamera){var S=this.renderedCamera.getSurface(),M=S.videoWidth/S.clientWidth,H=S.videoHeight/S.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*M,C=this.qrRegion.height*H,R=this.qrRegion.x*M,z=this.qrRegion.y*H;this.context.drawImage(S,R,z,_,C,0,0,this.qrRegion.width,this.qrRegion.height);var ne=function(){v.foreverScanTimeout=setTimeout(function(){v.foreverScan(y,x,A)},v.getTimeoutFps(y.fps))};this.scanContext(x,A).then(function(ce){!ce&&y.disableFlip!==!0?(v.context.translate(v.context.canvas.width,0),v.context.scale(-1,1),v.scanContext(x,A).finally(function(){ne()})):ne()}).catch(function(ce){v.logger.logError("Error happend while scanning context",ce),ne()})}},p.prototype.createVideoConstraints=function(y){if(typeof y=="string")return{deviceId:{exact:y}};if(typeof y=="object"){var x="facingMode",A="deviceId",v={user:!0,environment:!0},S="exact",M=function(V){if(V in v)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(V,"'")},H=Object.keys(y);if(H.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(H.length," keys");var _=Object.keys(y)[0];if(_!==x&&_!==A)throw"Only '".concat(x,"' and '").concat(A,"' ")+" are supported for 'cameraIdOrConfig'";if(_===x){var C=y.facingMode;if(typeof C=="string"){if(M(C))return{facingMode:C}}else if(typeof C=="object")if(S in C){if(M(C["".concat(S)]))return{facingMode:{exact:C["".concat(S)]}}}else throw"'facingMode' should be string or object with"+" ".concat(S," as key.");else{var R=typeof C;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var z=y.deviceId;if(typeof z=="string")return{deviceId:z};if(typeof z=="object"){if(S in z)return{deviceId:{exact:z["".concat(S)]}};throw"'deviceId' should be string or object with"+" ".concat(S," as key.")}else{var ne=typeof z;throw"Invalid type of 'deviceId' = ".concat(ne)}}}var ce=typeof y;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ce)},p.prototype.computeCanvasDrawConfig=function(y,x,A,v){if(y<=A&&x<=v){var S=(A-y)/2,M=(v-x)/2;return{x:S,y:M,width:y,height:x}}else{var H=y,_=x;return y>A&&(x=A/y*x,y=A),x>v&&(y=v/x*y,x=v),this.logger.log("Image downsampled from "+"".concat(H,"X").concat(_)+" to ".concat(y,"X").concat(x,".")),this.computeCanvasDrawConfig(y,x,A,v)}},p.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var y=document.getElementById(this.elementId);y&&(y.innerHTML="")},p.prototype.possiblyUpdateShaders=function(y){this.qrMatch!==y&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(x){x.style.backgroundColor=y?aa.BORDER_SHADER_MATCH_COLOR:aa.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=y)},p.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},p.prototype.createCanvasElement=function(y,x,A){var v=y,S=x,M=document.createElement("canvas");return M.style.width="".concat(v,"px"),M.style.height="".concat(S,"px"),M.style.display="none",M.id=Ga(A)?"qr-canvas":A,M},p.prototype.getShadedRegionBounds=function(y,x,A){if(A.width>y||A.height>x)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(y-A.width)/2,y:(x-A.height)/2,width:A.width,height:A.height}},p.prototype.possiblyInsertShadingElement=function(y,x,A,v){if(!(x-v.width<1||A-v.height<1)){var S=document.createElement("div");S.style.position="absolute";var M=(x-v.width)/2,H=(A-v.height)/2;if(S.style.borderLeft="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),S.style.borderRight="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),S.style.borderTop="".concat(H,"px solid rgba(0, 0, 0, 0.48)"),S.style.borderBottom="".concat(H,"px solid rgba(0, 0, 0, 0.48)"),S.style.boxSizing="border-box",S.style.top="0px",S.style.bottom="0px",S.style.left="0px",S.style.right="0px",S.id="".concat(aa.SHADED_REGION_ELEMENT_ID),x-v.width<11||A-v.height<11)this.hasBorderShaders=!1;else{var _=5,C=40;this.insertShaderBorders(S,C,_,-_,null,0,!0),this.insertShaderBorders(S,C,_,-_,null,0,!1),this.insertShaderBorders(S,C,_,null,-_,0,!0),this.insertShaderBorders(S,C,_,null,-_,0,!1),this.insertShaderBorders(S,_,C+_,-_,null,-_,!0),this.insertShaderBorders(S,_,C+_,null,-_,-_,!0),this.insertShaderBorders(S,_,C+_,-_,null,-_,!1),this.insertShaderBorders(S,_,C+_,null,-_,-_,!1),this.hasBorderShaders=!0}y.append(S)}},p.prototype.insertShaderBorders=function(y,x,A,v,S,M,H){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=aa.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(x,"px"),_.style.height="".concat(A,"px"),v!==null&&(_.style.top="".concat(v,"px")),S!==null&&(_.style.bottom="".concat(S,"px")),H?_.style.left="".concat(M,"px"):_.style.right="".concat(M,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),y.appendChild(_)},p.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},p.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},p.prototype.getTimeoutFps=function(y){return 1e3/y},p}(),Ou="data:image/svg+xml;base64,",rg=Ou+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",lg=Ou+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Z0=Ou+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",cg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Q0=function(){function p(){}return p.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},p}(),og=function(){function p(){this.data=Q0.createDefault();var y=localStorage.getItem(p.LOCAL_STORAGE_KEY);y?this.data=JSON.parse(y):this.reset()}return p.prototype.hasCameraPermissions=function(){return this.data.hasPermission},p.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},p.prototype.setHasPermission=function(y){this.data.hasPermission=y,this.flush()},p.prototype.setLastUsedCameraId=function(y){this.data.lastUsedCameraId=y,this.flush()},p.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},p.prototype.reset=function(){this.data=Q0.createDefault(),this.flush()},p.prototype.flush=function(){localStorage.setItem(p.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},p.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",p}(),ug=function(){function p(){this.infoDiv=document.createElement("div")}return p.prototype.renderInto=function(y){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=z0.poweredBy();var x=document.createElement("a");x.innerText="ScanApp",x.href="https://scanapp.org",x.target="new",x.style.color="white",this.infoDiv.appendChild(x);var A=document.createElement("br"),v=document.createElement("br");this.infoDiv.appendChild(A),this.infoDiv.appendChild(v);var S=document.createElement("a");S.innerText=z0.reportIssues(),S.href="https://github.com/mebjas/html5-qrcode/issues",S.target="new",S.style.color="white",this.infoDiv.appendChild(S),y.appendChild(this.infoDiv)},p.prototype.show=function(){this.infoDiv.style.display="block"},p.prototype.hide=function(){this.infoDiv.style.display="none"},p}(),fg=function(){function p(y,x){this.isShowingInfoIcon=!0,this.onTapIn=y,this.onTapOut=x,this.infoIcon=document.createElement("img")}return p.prototype.renderInto=function(y){var x=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Z0,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(A){return x.onHoverIn()},this.infoIcon.onmouseout=function(A){return x.onHoverOut()},this.infoIcon.onclick=function(A){return x.onClick()},y.appendChild(this.infoIcon)},p.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},p.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},p.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=cg,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Z0,this.infoIcon.style.opacity="0.6")},p}(),dg=function(){function p(){var y=this;this.infoDiv=new ug,this.infoIcon=new fg(function(){y.infoDiv.show()},function(){y.infoDiv.hide()})}return p.prototype.renderInto=function(y){this.infoDiv.renderInto(y),this.infoIcon.renderInto(y)},p}(),hg=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},gg=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},K0=function(){function p(){}return p.hasPermissions=function(){return hg(this,void 0,void 0,function(){var y,x,A,v;return gg(this,function(S){switch(S.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(y=S.sent(),x=0,A=y;x<A.length;x++)if(v=A[x],v.kind==="videoinput"&&v.label)return[2,!0];return[2,!1]}})})},p}(),qi=function(){function p(y){this.supportedScanTypes=this.validateAndReturnScanTypes(y)}return p.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},p.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},p.prototype.isCameraScanRequired=function(){for(var y=0,x=this.supportedScanTypes;y<x.length;y++){var A=x[y];if(p.isCameraScanType(A))return!0}return!1},p.isCameraScanType=function(y){return y===Va.SCAN_TYPE_CAMERA},p.isFileScanType=function(y){return y===Va.SCAN_TYPE_FILE},p.prototype.validateAndReturnScanTypes=function(y){if(!y||y.length===0)return va.DEFAULT_SUPPORTED_SCAN_TYPE;var x=va.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(y.length>x)throw"Max ".concat(x," values expected for ")+"supportedScanTypes";for(var A=0,v=y;A<v.length;A++){var S=v[A];if(!va.DEFAULT_SUPPORTED_SCAN_TYPE.includes(S))throw"Unsupported scan type ".concat(S)}return y},p}(),sa=function(){function p(){}return p.ALL_ELEMENT_CLASS="html5-qrcode-element",p.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",p.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",p.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",p.TORCH_BUTTON_ID="html5-qrcode-button-torch",p.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",p.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",p.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",p.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",p.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",p.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",p}(),hi=function(){function p(){}return p.createElement=function(y,x){var A=document.createElement(y);return A.id=x,A.classList.add(sa.ALL_ELEMENT_CLASS),y==="button"&&A.setAttribute("type","button"),A},p}(),sd=function(p,y,x,A){function v(S){return S instanceof x?S:new x(function(M){M(S)})}return new(x||(x=Promise))(function(S,M){function H(R){try{C(A.next(R))}catch(z){M(z)}}function _(R){try{C(A.throw(R))}catch(z){M(z)}}function C(R){R.done?S(R.value):v(R.value).then(H,_)}C((A=A.apply(p,y||[])).next())})},rd=function(p,y){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},A,v,S,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(C){return function(R){return _([C,R])}}function _(C){if(A)throw new TypeError("Generator is already executing.");for(;M&&(M=0,C[0]&&(x=0)),x;)try{if(A=1,v&&(S=C[0]&2?v.return:C[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,C[1])).done)return S;switch(v=0,S&&(C=[C[0]&2,S.value]),C[0]){case 0:case 1:S=C;break;case 4:return x.label++,{value:C[1],done:!1};case 5:x.label++,v=C[1],C=[0];continue;case 7:C=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(C[0]===6||C[0]===2)){x=0;continue}if(C[0]===3&&(!S||C[1]>S[0]&&C[1]<S[3])){x.label=C[1];break}if(C[0]===6&&x.label<S[1]){x.label=S[1],S=C;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(C);break}S[2]&&x.ops.pop(),x.trys.pop();continue}C=y.call(p,x)}catch(R){C=[6,R],v=0}finally{A=S=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},W0=function(){function p(y,x,A){this.isTorchOn=!1,this.torchCapability=y,this.buttonController=x,this.onTorchActionFailureCallback=A}return p.prototype.isTorchEnabled=function(){return this.isTorchOn},p.prototype.flipState=function(){return sd(this,void 0,void 0,function(){var y,x;return rd(this,function(A){switch(A.label){case 0:this.buttonController.disable(),y=!this.isTorchOn,A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.torchCapability.apply(y)];case 2:return A.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),y),[3,4];case 3:return x=A.sent(),this.propagateFailure(y,x),this.buttonController.enable(),[3,4];case 4:return[2]}})})},p.prototype.updateUiBasedOnLatestSettings=function(y,x){y===x?(this.buttonController.setText(x?wt.torchOffButton():wt.torchOnButton()),this.isTorchOn=x):this.propagateFailure(x),this.buttonController.enable()},p.prototype.propagateFailure=function(y,x){var A=y?wt.torchOnFailedMessage():wt.torchOffFailedMessage();x&&(A+="; Error = "+x),this.onTorchActionFailureCallback(A)},p.prototype.reset=function(){this.isTorchOn=!1},p}(),xg=function(){function p(y,x){this.onTorchActionFailureCallback=x,this.torchButton=hi.createElement("button",sa.TORCH_BUTTON_ID),this.torchController=new W0(y,this,x)}return p.prototype.render=function(y,x){var A=this;this.torchButton.innerText=wt.torchOnButton(),this.torchButton.style.display=x.display,this.torchButton.style.marginLeft=x.marginLeft;var v=this;this.torchButton.addEventListener("click",function(S){return sd(A,void 0,void 0,function(){return rd(this,function(M){switch(M.label){case 0:return[4,v.torchController.flipState()];case 1:return M.sent(),v.torchController.isTorchEnabled()?(v.torchButton.classList.remove(sa.TORCH_BUTTON_CLASS_TORCH_OFF),v.torchButton.classList.add(sa.TORCH_BUTTON_CLASS_TORCH_ON)):(v.torchButton.classList.remove(sa.TORCH_BUTTON_CLASS_TORCH_ON),v.torchButton.classList.add(sa.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),y.appendChild(this.torchButton)},p.prototype.updateTorchCapability=function(y){this.torchController=new W0(y,this,this.onTorchActionFailureCallback)},p.prototype.getTorchButton=function(){return this.torchButton},p.prototype.hide=function(){this.torchButton.style.display="none"},p.prototype.show=function(){this.torchButton.style.display="inline-block"},p.prototype.disable=function(){this.torchButton.disabled=!0},p.prototype.enable=function(){this.torchButton.disabled=!1},p.prototype.setText=function(y){this.torchButton.innerText=y},p.prototype.reset=function(){this.torchButton.innerText=wt.torchOnButton(),this.torchController.reset()},p.create=function(y,x,A,v){var S=new p(x,v);return S.render(y,A),S},p}(),mg=function(){function p(y,x,A){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=x?"block":"none",y.appendChild(this.fileBasedScanRegion);var v=document.createElement("label");v.setAttribute("for",this.getFileScanInputId()),v.style.display="inline-block",this.fileBasedScanRegion.appendChild(v),this.fileSelectionButton=hi.createElement("button",sa.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(H){v.click()}),v.append(this.fileSelectionButton),this.fileScanInput=hi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",v.appendChild(this.fileScanInput);var S=this;this.fileScanInput.addEventListener("change",function(H){if(!(H==null||H.target==null)){var _=H.target;if(!(_.files&&_.files.length===0)){var C=_.files,R=C[0],z=R.name;S.setImageNameToButton(z),A(R)}}});var M=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(M),this.fileBasedScanRegion.addEventListener("dragenter",function(H){S.fileBasedScanRegion.style.border=S.fileBasedScanRegionActiveBorder(),H.stopPropagation(),H.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(H){S.fileBasedScanRegion.style.border=S.fileBasedScanRegionDefaultBorder(),H.stopPropagation(),H.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(H){S.fileBasedScanRegion.style.border=S.fileBasedScanRegionActiveBorder(),H.stopPropagation(),H.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(H){H.stopPropagation(),H.preventDefault(),S.fileBasedScanRegion.style.border=S.fileBasedScanRegionDefaultBorder();var _=H.dataTransfer;if(_){var C=_.files;if(!C||C.length===0)return;for(var R=!1,z=0;z<C.length;++z){var ne=C.item(z);if(ne){var ce=/image.*/;if(ne.type.match(ce)){R=!0;var V=ne.name;S.setImageNameToButton(V),A(ne),M.innerText=wt.dragAndDropMessage();break}}}R||(M.innerText=wt.dragAndDropMessageOnlyImages())}})}return p.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},p.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},p.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},p.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},p.prototype.createFileBasedScanRegion=function(){var y=document.createElement("div");return y.style.textAlign="center",y.style.margin="auto",y.style.width="80%",y.style.maxWidth="600px",y.style.border=this.fileBasedScanRegionDefaultBorder(),y.style.padding="10px",y.style.marginBottom="10px",y},p.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},p.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},p.prototype.createDragAndDropMessage=function(){var y=document.createElement("div");return y.innerText=wt.dragAndDropMessage(),y.style.fontWeight="400",y},p.prototype.setImageNameToButton=function(y){var x=20;if(y.length>x){var A=y.substring(0,8),v=y.length,S=y.substring(v-8,v);y="".concat(A,"....").concat(S)}var M=wt.fileSelectionChooseAnother()+" - "+y;this.fileSelectionButton.innerText=M},p.prototype.setInitialValueToButton=function(){var y=wt.fileSelectionChooseImage()+" - "+wt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=y},p.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},p.create=function(y,x,A){var v=new p(y,x,A);return v},p}(),pg=function(){function p(y){this.selectElement=hi.createElement("select",sa.CAMERA_SELECTION_SELECT_ID),this.cameras=y,this.options=[]}return p.prototype.render=function(y){var x=document.createElement("span");x.style.marginRight="10px";var A=this.cameras.length;if(A===0)throw new Error("No cameras found");if(A===1)x.style.display="none";else{var v=wt.selectCamera();x.innerText="".concat(v," (").concat(this.cameras.length,")  ")}for(var S=1,M=0,H=this.cameras;M<H.length;M++){var _=H[M],C=_.id,R=_.label==null?C:_.label;(!R||R==="")&&(R=[wt.anonymousCameraPrefix(),S++].join(" "));var z=document.createElement("option");z.value=C,z.innerText=R,this.options.push(z),this.selectElement.appendChild(z)}x.appendChild(this.selectElement),y.appendChild(x)},p.prototype.disable=function(){this.selectElement.disabled=!0},p.prototype.isDisabled=function(){return this.selectElement.disabled===!0},p.prototype.enable=function(){this.selectElement.disabled=!1},p.prototype.getValue=function(){return this.selectElement.value},p.prototype.hasValue=function(y){for(var x=0,A=this.options;x<A.length;x++){var v=A[x];if(v.value===y)return!0}return!1},p.prototype.setValue=function(y){if(!this.hasValue(y))throw new Error("".concat(y," is not present in the camera list."));this.selectElement.value=y},p.prototype.hasSingleItem=function(){return this.cameras.length===1},p.prototype.numCameras=function(){return this.cameras.length},p.create=function(y,x){var A=new p(x);return A.render(y),A},p}(),yg=function(){function p(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=hi.createElement("input",sa.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return p.prototype.render=function(y,x){this.zoomElementContainer.style.display=x?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",y.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var A=wt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(A),this.rangeText.style.marginRight="10px";var v=this;this.rangeInput.addEventListener("input",function(){return v.onValueChange()}),this.rangeInput.addEventListener("change",function(){return v.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},p.prototype.onValueChange=function(){var y=wt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(y),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},p.prototype.setValues=function(y,x,A,v){this.rangeInput.min=y.toString(),this.rangeInput.max=x.toString(),this.rangeInput.step=v.toString(),this.rangeInput.value=A.toString(),this.onValueChange()},p.prototype.show=function(){this.zoomElementContainer.style.display="block"},p.prototype.hide=function(){this.zoomElementContainer.style.display="none"},p.prototype.setOnCameraZoomValueChangeCallback=function(y){this.onChangeCallback=y},p.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},p.create=function(y,x){var A=new p;return A.render(y,x),A},p}(),ia;(function(p){p[p.STATUS_DEFAULT=0]="STATUS_DEFAULT",p[p.STATUS_SUCCESS=1]="STATUS_SUCCESS",p[p.STATUS_WARNING=2]="STATUS_WARNING",p[p.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ia||(ia={}));function Ag(p){return{fps:p.fps,qrbox:p.qrbox,aspectRatio:p.aspectRatio,disableFlip:p.disableFlip,videoConstraints:p.videoConstraints}}function Sg(p,y){return{formatsToSupport:p.formatsToSupport,useBarCodeDetectorIfSupported:p.useBarCodeDetectorIfSupported,experimentalFeatures:p.experimentalFeatures,verbose:y}}var Eg=function(){function p(y,x,A){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=y,this.config=this.createConfig(x),this.verbose=A===!0,!document.getElementById(y))throw"HTML Element with id=".concat(y," not found");this.scanTypeSelector=new qi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new nd(this.verbose),this.persistedDataManager=new og,x.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return p.prototype.render=function(y,x){var A=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(S,M){if(y)y(S,M);else{if(A.lastMatchFound===S)return;A.lastMatchFound=S,A.setHeaderMessage(wt.lastMatch(S),ia.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(S,M){x&&x(S,M)};var v=document.getElementById(this.elementId);if(!v)throw"HTML Element with id=".concat(this.elementId," not found");v.innerHTML="",this.createBasicLayout(v),this.html5Qrcode=new q0(this.getScanRegionId(),Sg(this.config,this.verbose))},p.prototype.pause=function(y){(Ga(y)||y!==!0)&&(y=!1),this.getHtml5QrcodeOrFail().pause(y)},p.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},p.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},p.prototype.clear=function(){var y=this,x=function(){var A=document.getElementById(y.elementId);A&&(A.innerHTML="",y.resetBasicLayout(A))};return this.html5Qrcode?new Promise(function(A,v){if(!y.html5Qrcode){A();return}y.html5Qrcode.isScanning?y.html5Qrcode.stop().then(function(S){if(!y.html5Qrcode){A();return}y.html5Qrcode.clear(),x(),A()}).catch(function(S){y.verbose&&y.logger.logError("Unable to stop qrcode scanner",S),v(S)}):(y.html5Qrcode.clear(),x(),A())}):Promise.resolve()},p.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},p.prototype.applyVideoConstraints=function(y){return this.getHtml5QrcodeOrFail().applyVideoConstraints(y)},p.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},p.prototype.createConfig=function(y){return y?(y.fps||(y.fps=va.SCAN_DEFAULT_FPS),y.rememberLastUsedCamera!==!va.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(y.rememberLastUsedCamera=va.DEFAULT_REMEMBER_LAST_CAMERA_USED),y.supportedScanTypes||(y.supportedScanTypes=va.DEFAULT_SUPPORTED_SCAN_TYPE),y):{fps:va.SCAN_DEFAULT_FPS,rememberLastUsedCamera:va.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:va.DEFAULT_SUPPORTED_SCAN_TYPE}},p.prototype.createBasicLayout=function(y){y.style.position="relative",y.style.padding="0px",y.style.border="1px solid silver",this.createHeader(y);var x=document.createElement("div"),A=this.getScanRegionId();x.id=A,x.style.width="100%",x.style.minHeight="100px",x.style.textAlign="center",y.appendChild(x),qi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var v=document.createElement("div"),S=this.getDashboardId();v.id=S,v.style.width="100%",y.appendChild(v),this.setupInitialDashboard(v)},p.prototype.resetBasicLayout=function(y){y.style.border="none"},p.prototype.setupInitialDashboard=function(y){this.createSection(y),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},p.prototype.createHeader=function(y){var x=document.createElement("div");x.style.textAlign="left",x.style.margin="0px",y.appendChild(x);var A=new dg;A.renderInto(x);var v=document.createElement("div");v.id=this.getHeaderMessageContainerId(),v.style.display="none",v.style.textAlign="center",v.style.fontSize="14px",v.style.padding="2px 10px",v.style.margin="4px",v.style.borderTop="1px solid #f6f6f6",x.appendChild(v)},p.prototype.createSection=function(y){var x=document.createElement("div");x.id=this.getDashboardSectionId(),x.style.width="100%",x.style.padding="10px 0px 10px 0px",x.style.textAlign="left",y.appendChild(x)},p.prototype.createCameraListUi=function(y,x,A){var v=this;v.showHideScanTypeSwapLink(!1),v.setHeaderMessage(wt.cameraPermissionRequesting());var S=function(){A||v.createPermissionButton(y,x)};q0.getCameras().then(function(M){v.persistedDataManager.setHasPermission(!0),v.showHideScanTypeSwapLink(!0),v.resetHeaderMessage(),M&&M.length>0?(y.removeChild(x),v.renderCameraSelection(M)):(v.setHeaderMessage(wt.noCameraFound(),ia.STATUS_WARNING),S())}).catch(function(M){v.persistedDataManager.setHasPermission(!1),A?A.disabled=!1:S(),v.setHeaderMessage(M,ia.STATUS_WARNING),v.showHideScanTypeSwapLink(!0)})},p.prototype.createPermissionButton=function(y,x){var A=this,v=hi.createElement("button",this.getCameraPermissionButtonId());v.innerText=wt.cameraPermissionTitle(),v.addEventListener("click",function(){v.disabled=!0,A.createCameraListUi(y,x,v)}),x.appendChild(v)},p.prototype.createPermissionsUi=function(y,x){var A=this;if(qi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){K0.hasPermissions().then(function(v){v?A.createCameraListUi(y,x):(A.persistedDataManager.setHasPermission(!1),A.createPermissionButton(y,x))}).catch(function(v){A.persistedDataManager.setHasPermission(!1),A.createPermissionButton(y,x)});return}this.createPermissionButton(y,x)},p.prototype.createSectionControlPanel=function(){var y=document.getElementById(this.getDashboardSectionId()),x=document.createElement("div");y.appendChild(x);var A=document.createElement("div");A.id=this.getDashboardSectionCameraScanRegionId(),A.style.display=qi.isCameraScanType(this.currentScanType)?"block":"none",x.appendChild(A);var v=document.createElement("div");v.style.textAlign="center",A.appendChild(v),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(A,v),this.renderFileScanUi(x)},p.prototype.renderFileScanUi=function(y){var x=qi.isFileScanType(this.currentScanType),A=this,v=function(S){if(!A.html5Qrcode)throw"html5Qrcode not defined";qi.isFileScanType(A.currentScanType)&&(A.setHeaderMessage(wt.loadingImage()),A.html5Qrcode.scanFileV2(S,!0).then(function(M){A.resetHeaderMessage(),A.qrCodeSuccessCallback(M.decodedText,M)}).catch(function(M){A.setHeaderMessage(M,ia.STATUS_WARNING),A.qrCodeErrorCallback(M,td.createFrom(M))}))};this.fileSelectionUi=mg.create(y,x,v)},p.prototype.renderCameraSelection=function(y){var x=this,A=this,v=document.getElementById(this.getDashboardSectionCameraScanRegionId());v.style.textAlign="center";var S=yg.create(v,!1),M=function(pe){var Ne=pe.zoomFeature();if(Ne.isSupported()){S.setOnCameraZoomValueChangeCallback(function(Ce){Ne.apply(Ce)});var we=1;x.config.defaultZoomValueIfSupported&&(we=x.config.defaultZoomValueIfSupported),we=kh(we,Ne.min(),Ne.max()),S.setValues(Ne.min(),Ne.max(),we,Ne.step()),S.show()}},H=pg.create(v,y),_=document.createElement("span"),C=hi.createElement("button",sa.CAMERA_START_BUTTON_ID);C.innerText=wt.scanButtonStartScanningText(),_.appendChild(C);var R=hi.createElement("button",sa.CAMERA_STOP_BUTTON_ID);R.innerText=wt.scanButtonStopScanningText(),R.style.display="none",R.disabled=!0,_.appendChild(R);var z,ne=function(pe){if(!pe.torchFeature().isSupported()){z&&z.hide();return}z?z.updateTorchCapability(pe.torchFeature()):z=xg.create(_,pe.torchFeature(),{display:"none",marginLeft:"5px"},function(Ne){A.setHeaderMessage(Ne,ia.STATUS_WARNING)}),z.show()};v.appendChild(_);var ce=function(pe){pe||(C.style.display="none"),C.innerText=wt.scanButtonStartScanningText(),C.style.opacity="1",C.disabled=!1,pe&&(C.style.display="inline-block")};if(C.addEventListener("click",function(pe){C.innerText=wt.scanButtonScanningStarting(),H.disable(),C.disabled=!0,C.style.opacity="0.5",x.scanTypeSelector.hasMoreThanOneScanType()&&A.showHideScanTypeSwapLink(!1),A.resetHeaderMessage();var Ne=H.getValue();A.persistedDataManager.setLastUsedCameraId(Ne),A.html5Qrcode.start(Ne,Ag(A.config),A.qrCodeSuccessCallback,A.qrCodeErrorCallback).then(function(we){R.disabled=!1,R.style.display="inline-block",ce(!1);var Ce=A.html5Qrcode.getRunningTrackCameraCapabilities();x.config.showTorchButtonIfSupported===!0&&ne(Ce),x.config.showZoomSliderIfSupported===!0&&M(Ce)}).catch(function(we){A.showHideScanTypeSwapLink(!0),H.enable(),ce(!0),A.setHeaderMessage(we,ia.STATUS_WARNING)})}),H.hasSingleItem()&&C.click(),R.addEventListener("click",function(pe){if(!A.html5Qrcode)throw"html5Qrcode not defined";R.disabled=!0,A.html5Qrcode.stop().then(function(Ne){x.scanTypeSelector.hasMoreThanOneScanType()&&A.showHideScanTypeSwapLink(!0),H.enable(),C.disabled=!1,R.style.display="none",C.style.display="inline-block",z&&(z.reset(),z.hide()),S.removeOnCameraZoomValueChangeCallback(),S.hide(),A.insertCameraScanImageToScanRegion()}).catch(function(Ne){R.disabled=!1,A.setHeaderMessage(Ne,ia.STATUS_WARNING)})}),A.persistedDataManager.getLastUsedCameraId()){var V=A.persistedDataManager.getLastUsedCameraId();H.hasValue(V)?(H.setValue(V),C.click()):A.persistedDataManager.resetLastUsedCameraId()}},p.prototype.createSectionSwap=function(){var y=this,x=wt.textIfCameraScanSelected(),A=wt.textIfFileScanSelected(),v=document.getElementById(this.getDashboardSectionId()),S=document.createElement("div");S.style.textAlign="center";var M=hi.createElement("span",this.getDashboardSectionSwapLinkId());M.style.textDecoration="underline",M.style.cursor="pointer",M.innerText=qi.isCameraScanType(this.currentScanType)?x:A,M.addEventListener("click",function(){if(!y.sectionSwapAllowed){y.verbose&&y.logger.logError("Section swap called when not allowed");return}y.resetHeaderMessage(),y.fileSelectionUi.resetValue(),y.sectionSwapAllowed=!1,qi.isCameraScanType(y.currentScanType)?(y.clearScanRegion(),y.getCameraScanRegion().style.display="none",y.fileSelectionUi.show(),M.innerText=A,y.currentScanType=Va.SCAN_TYPE_FILE,y.insertFileScanImageToScanRegion()):(y.clearScanRegion(),y.getCameraScanRegion().style.display="block",y.fileSelectionUi.hide(),M.innerText=x,y.currentScanType=Va.SCAN_TYPE_CAMERA,y.insertCameraScanImageToScanRegion(),y.startCameraScanIfPermissionExistsOnSwap()),y.sectionSwapAllowed=!0}),S.appendChild(M),v.appendChild(S)},p.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var y=this,x=this;if(this.persistedDataManager.hasCameraPermissions()){K0.hasPermissions().then(function(A){if(A){var v=document.getElementById(x.getCameraPermissionButtonId());if(!v)throw y.logger.logError("Permission button not found, fail;"),"Permission button not found";v.click()}else x.persistedDataManager.setHasPermission(!1)}).catch(function(A){x.persistedDataManager.setHasPermission(!1)});return}},p.prototype.resetHeaderMessage=function(){var y=document.getElementById(this.getHeaderMessageContainerId());y.style.display="none"},p.prototype.setHeaderMessage=function(y,x){x||(x=ia.STATUS_DEFAULT);var A=this.getHeaderMessageDiv();switch(A.innerText=y,A.style.display="block",x){case ia.STATUS_SUCCESS:A.style.background="rgba(106, 175, 80, 0.26)",A.style.color="#477735";break;case ia.STATUS_WARNING:A.style.background="rgba(203, 36, 49, 0.14)",A.style.color="#cb2431";break;case ia.STATUS_DEFAULT:default:A.style.background="rgba(0, 0, 0, 0)",A.style.color="rgb(17, 17, 17)";break}},p.prototype.showHideScanTypeSwapLink=function(y){this.scanTypeSelector.hasMoreThanOneScanType()&&(y!==!0&&(y=!1),this.sectionSwapAllowed=y,this.getDashboardSectionSwapLink().style.display=y?"inline-block":"none")},p.prototype.insertCameraScanImageToScanRegion=function(){var y=this,x=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){x.innerHTML="<br>",x.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(A){x.innerHTML="<br>",x.appendChild(y.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=rg,this.cameraScanImage.alt=wt.cameraScanAltText()},p.prototype.insertFileScanImageToScanRegion=function(){var y=this,x=document.getElementById(this.getScanRegionId());if(this.fileScanImage){x.innerHTML="<br>",x.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(A){x.innerHTML="<br>",x.appendChild(y.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=lg,this.fileScanImage.alt=wt.fileScanAltText()},p.prototype.clearScanRegion=function(){var y=document.getElementById(this.getScanRegionId());y.innerHTML=""},p.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},p.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},p.prototype.getDashboardSectionSwapLinkId=function(){return sa.SCAN_TYPE_CHANGE_ANCHOR_ID},p.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},p.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},p.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},p.prototype.getCameraPermissionButtonId=function(){return sa.CAMERA_PERMISSION_BUTTON_ID},p.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},p.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},p.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},p}();const Cg=({onScan:p,onClose:y})=>{const[x,A]=Ae.useState(!1),[v,S]=Ae.useState([]),[M,H]=Ae.useState(""),_=Ae.useRef(null),C=Ae.useRef(null);Ae.useEffect(()=>(x?R():z(),()=>{z()}),[x]);const R=()=>{C.current||(C.current=new Eg("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,supportedScanTypes:[Va.SCAN_TYPE_CAMERA,Va.SCAN_TYPE_FILE]},!1),C.current.render(ne,ce))},z=()=>{C.current&&(C.current.clear(),C.current=null)},ne=(ie,ue)=>{const Ie={code:ie,type:ue.result.format.formatName,timestamp:new Date().toLocaleString("az-AZ"),id:Date.now()};S(Le=>[Ie,...Le]),p&&p(Ie),V()},ce=ie=>{console.log("Scan failed:",ie)},V=()=>{try{const ie=new(window.AudioContext||window.webkitAudioContext),ue=ie.createOscillator(),Ie=ie.createGain();ue.connect(Ie),Ie.connect(ie.destination),ue.frequency.value=800,ue.type="sine",Ie.gain.setValueAtTime(.3,ie.currentTime),Ie.gain.exponentialRampToValueAtTime(.01,ie.currentTime+.1),ue.start(ie.currentTime),ue.stop(ie.currentTime+.1)}catch(ie){console.log("Audio not supported:",ie)}},pe=ie=>{if(ie.preventDefault(),M.trim()){const ue={code:M.trim(),type:"Manual Entry",timestamp:new Date().toLocaleString("az-AZ"),id:Date.now()};S(Ie=>[ue,...Ie]),p&&p(ue),H(""),V()}},Ne=async ie=>{try{await navigator.clipboard.writeText(ie),we("Kopyalandı!")}catch(ue){console.log("Clipboard not supported:",ue)}},we=ie=>{const ue=document.createElement("div");ue.className="copy-notification",ue.textContent=ie,document.body.appendChild(ue),setTimeout(()=>{document.body.contains(ue)&&document.body.removeChild(ue)},2e3)},Ce=()=>{S([])};return f.jsx("div",{className:"barcode-scanner-overlay",children:f.jsxs("div",{className:"barcode-scanner-modal",children:[f.jsxs("div",{className:"scanner-header",children:[f.jsx("h2",{children:"📱 Barkod Scanner"}),f.jsx("button",{className:"close-btn",onClick:y,children:"✕"})]}),f.jsxs("div",{className:"scanner-controls",children:[f.jsx("button",{className:`scan-btn ${x?"scanning":""}`,onClick:()=>A(!x),children:x?"🛑 Scanner Dayandır":"📷 Scanner Başlat"}),f.jsx("button",{className:"clear-btn",onClick:Ce,children:"🗑️ Tarixçəni Təmizlə"})]}),f.jsx("div",{className:"scanner-container",children:x?f.jsxs("div",{className:"scanner-view",children:[f.jsx("div",{id:"reader",ref:_}),f.jsx("div",{className:"scanner-overlay-text",children:"Barkodu kameraya tutun"})]}):f.jsxs("div",{className:"scanner-placeholder",children:[f.jsx("div",{className:"placeholder-icon",children:"📷"}),f.jsx("p",{children:"Scanner başlatmaq üçün düyməyə basın"})]})}),f.jsxs("div",{className:"manual-entry",children:[f.jsx("h3",{children:"✏️ Manual Daxil Etmə"}),f.jsxs("form",{onSubmit:pe,className:"manual-form",children:[f.jsx("input",{type:"text",value:M,onChange:ie=>H(ie.target.value),placeholder:"Barkod kodunu daxil edin...",className:"manual-input"}),f.jsx("button",{type:"submit",className:"manual-submit",children:"➕ Əlavə Et"})]})]}),f.jsxs("div",{className:"scan-history",children:[f.jsxs("h3",{children:["📋 Tarixçə (",v.length,")"]}),f.jsx("div",{className:"history-list",children:v.length===0?f.jsx("div",{className:"empty-history",children:f.jsx("p",{children:"Hələ heç bir barkod skan edilməyib"})}):v.map(ie=>f.jsxs("div",{className:"history-item",children:[f.jsxs("div",{className:"history-content",children:[f.jsxs("div",{className:"code-info",children:[f.jsx("span",{className:"code-text",children:ie.code}),f.jsx("span",{className:"code-type",children:ie.type})]}),f.jsx("div",{className:"code-time",children:ie.timestamp})]}),f.jsxs("div",{className:"history-actions",children:[f.jsx("button",{className:"copy-btn",onClick:()=>Ne(ie.code),title:"Kopyala",children:"📋"}),f.jsx("button",{className:"use-btn",onClick:()=>p&&p(ie),title:"İstifadə Et",children:"✅"})]})]},ie.id))})]})]})})},wg=({sale:p,onClose:y})=>{const x=()=>{const A=window.open("","_blank"),v=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Satış Qəbzi</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              margin: 0;
              padding: 20px;
              font-size: 12px;
              line-height: 1.4;
            }
            .receipt {
              max-width: 300px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 1px dashed #000;
              padding-bottom: 10px;
              margin-bottom: 10px;
            }
            .title {
              font-size: 16px;
              font-weight: bold;
              margin: 0;
            }
            .subtitle {
              font-size: 10px;
              margin: 5px 0;
            }
            .items {
              margin: 15px 0;
            }
            .item {
              display: flex;
              justify-content: space-between;
              margin: 5px 0;
            }
            .item-name {
              flex: 1;
            }
            .item-price {
              text-align: right;
              margin-left: 10px;
            }
            .total {
              border-top: 1px dashed #000;
              padding-top: 10px;
              margin-top: 10px;
              font-weight: bold;
              text-align: right;
            }
            .footer {
              text-align: center;
              margin-top: 20px;
              font-size: 10px;
            }
            @media print {
              body { margin: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h1 class="title">POS SİSTEM</h1>
              <p class="subtitle">Satış Qəbzi</p>
              <p class="subtitle">Tarix: ${new Date(p.date).toLocaleString("az-AZ")}</p>
              <p class="subtitle">Qəbz №: ${p.id}</p>
              <p class="subtitle">Kassir: ${p.cashier}</p>
              <p class="subtitle">Müştəri: ${p.customerName}</p>
            </div>
            
            <div class="items">
              ${p.items.map(S=>`
                <div class="item">
                  <span class="item-name">${S.name} x${S.quantity}</span>
                  <span class="item-price">${(S.price*S.quantity).toFixed(2)} AZN</span>
                </div>
              `).join("")}
            </div>
            
            <div class="total">
              <div>Ümumi: ${p.total.toFixed(2)} AZN</div>
              <div>Ödəniş: ${p.paymentMethod==="cash"?"Nağd":p.paymentMethod==="card"?"Kart":"Köçürmə"}</div>
            </div>
            
            <div class="footer">
              <p>Təşəkkür edirik!</p>
              <p>Yenidən gözləyirik!</p>
            </div>
          </div>
        </body>
      </html>
    `;A.document.write(v),A.document.close(),A.print(),A.close()};return f.jsx("div",{className:"print-receipt-overlay",children:f.jsxs("div",{className:"print-receipt-modal",children:[f.jsxs("div",{className:"print-header",children:[f.jsx("h2",{children:"🖨️ Satış Qəbzi"}),f.jsx("button",{onClick:y,className:"close-btn",children:"✕"})]}),f.jsx("div",{className:"receipt-preview",children:f.jsxs("div",{className:"receipt-content",children:[f.jsxs("div",{className:"receipt-header",children:[f.jsx("h3",{children:"POS SİSTEM"}),f.jsx("p",{children:"Satış Qəbzi"}),f.jsxs("p",{children:["Tarix: ",new Date(p.date).toLocaleString("az-AZ")]}),f.jsxs("p",{children:["Qəbz №: ",p.id]}),f.jsxs("p",{children:["Kassir: ",p.cashier]}),f.jsxs("p",{children:["Müştəri: ",p.customerName]})]}),f.jsx("div",{className:"receipt-items",children:p.items.map((A,v)=>f.jsxs("div",{className:"receipt-item",children:[f.jsxs("span",{className:"item-name",children:[A.name," x",A.quantity]}),f.jsxs("span",{className:"item-price",children:[(A.price*A.quantity).toFixed(2)," AZN"]})]},v))}),f.jsxs("div",{className:"receipt-total",children:[f.jsxs("div",{children:["Ümumi: ",p.total.toFixed(2)," AZN"]}),f.jsxs("div",{children:["Ödəniş: ",p.paymentMethod==="cash"?"Nağd":p.paymentMethod==="card"?"Kart":"Köçürmə"]})]}),f.jsxs("div",{className:"receipt-footer",children:[f.jsx("p",{children:"Təşəkkür edirik!"}),f.jsx("p",{children:"Yenidən gözləyirik!"})]})]})}),f.jsxs("div",{className:"print-actions",children:[f.jsx("button",{onClick:x,className:"print-btn",children:"🖨️ Çap Et"}),f.jsx("button",{onClick:y,className:"cancel-btn",children:"Bağla"})]})]})})},vg=({user:p,onLogout:y,onViewChange:x})=>{const[A,v]=Ae.useState([]),[S,M]=Ae.useState([]),[H,_]=Ae.useState([]),[C,R]=Ae.useState(""),[z,ne]=Ae.useState("cash"),[ce,V]=Ae.useState(""),[pe,Ne]=Ae.useState(!1),[we,Ce]=Ae.useState(!1),[ie,ue]=Ae.useState(null);Ae.useEffect(()=>{Ie()},[]);const Ie=()=>{Le(),le()},Le=()=>{const $=JSON.parse(localStorage.getItem("inventory")||"[]");v($)},le=()=>{const $=JSON.parse(localStorage.getItem("customers")||"[]");_($)},K=$=>A.find(De=>De.id.toString()===$||De.barcode===$||De.name.toLowerCase().includes($.toLowerCase())),F=$=>{const De=K($.code);De?(se(De),Ne(!1)):alert("Məhsul tapılmadı! Barkod: "+$.code)},se=$=>{const De=S.find(L=>L.id===$.id);M(De?S.map(L=>L.id===$.id?{...L,quantity:L.quantity+1}:L):[...S,{...$,quantity:1}])},ge=$=>{M(S.filter(De=>De.id!==$))},fe=($,De)=>{De<=0?ge($):M(S.map(L=>L.id===$?{...L,quantity:parseInt(De)}:L))},Me=()=>S.reduce(($,De)=>$+De.price*De.quantity,0),Ue=$=>{const De=JSON.parse(localStorage.getItem("users")||"[]"),L=De.findIndex(xe=>xe.id===p.id);L!==-1&&(De[L].sales||(De[L].sales=[]),De[L].sales.push($),localStorage.setItem("users",JSON.stringify(De)))},j=()=>{const $=JSON.parse(localStorage.getItem("inventory")||"[]");S.forEach(De=>{const L=$.findIndex(xe=>xe.id===De.id);L!==-1&&($[L].quantity-=De.quantity)}),localStorage.setItem("inventory",JSON.stringify($))},G=()=>{if(S.length===0){alert("Səbət boşdur!");return}const $={id:Date.now(),customerName:C||"Ümumi Müştəri",items:S,total:Me(),paymentMethod:z,date:new Date().toISOString(),cashier:p.name,userId:p.id};Ue($),j(),ue($),Ce(!0),M([]),R(""),ne("cash"),Le()},J=A.filter($=>$.name.toLowerCase().includes(ce.toLowerCase())||$.category.toLowerCase().includes(ce.toLowerCase())||$.barcode&&$.barcode.toLowerCase().includes(ce.toLowerCase()));return f.jsxs("div",{className:"cash-register",children:[f.jsx("header",{className:"cash-header",children:f.jsxs("div",{className:"header-content",children:[f.jsx("h1",{children:"Kassa və Satışlar"}),f.jsxs("div",{className:"user-info",children:[f.jsxs("span",{children:["Kassir: ",p.name]}),f.jsx("button",{onClick:y,className:"logout-btn",children:"Çıxış"})]})]})}),f.jsx("div",{className:"cash-content",children:f.jsxs("div",{className:"cash-layout",children:[f.jsxs("div",{className:"products-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h2",{children:"Məhsullar"}),f.jsxs("div",{className:"search-container",children:[f.jsx("input",{type:"text",placeholder:"Məhsul, kateqoriya və ya barkod axtar...",value:ce,onChange:$=>V($.target.value),className:"search-input"}),f.jsx("button",{className:"barcode-btn",onClick:()=>Ne(!0),title:"Barkod Scanner",children:"📱 Barkod"})]})]}),f.jsx("div",{className:"products-grid",children:J.map($=>f.jsxs("div",{className:"product-card",onClick:()=>se($),children:[f.jsx("div",{className:"product-image",children:$.image?f.jsx("img",{src:$.image,alt:$.name}):f.jsx("div",{className:"product-placeholder",children:"📦"})}),f.jsxs("div",{className:"product-info",children:[f.jsx("h3",{children:$.name}),f.jsx("p",{className:"product-category",children:$.category}),f.jsxs("p",{className:"product-price",children:[$.price," AZN"]}),f.jsxs("p",{className:"product-stock",children:["Stok: ",$.quantity]}),$.barcode&&f.jsxs("p",{className:"product-barcode",children:["📱 ",$.barcode]})]})]},$.id))})]}),f.jsxs("div",{className:"cart-section",children:[f.jsxs("div",{className:"cart-header",children:[f.jsxs("h2",{children:["Səbət (",S.length," məhsul)"]}),f.jsx("button",{onClick:()=>M([]),className:"clear-cart-btn",disabled:S.length===0,children:"Təmizlə"})]}),f.jsx("div",{className:"cart-items",children:S.length===0?f.jsxs("div",{className:"empty-cart",children:[f.jsx("p",{children:"🛒 Səbət boşdur"}),f.jsx("small",{children:"Məhsul seçmək üçün yuxarıdakı siyahıdan seçin"})]}):S.map($=>f.jsxs("div",{className:"cart-item",children:[f.jsxs("div",{className:"item-info",children:[f.jsx("h4",{children:$.name}),f.jsxs("p",{children:[$.price," AZN"]})]}),f.jsxs("div",{className:"item-controls",children:[f.jsx("button",{onClick:()=>fe($.id,$.quantity-1),className:"quantity-btn",children:"-"}),f.jsx("span",{className:"quantity",children:$.quantity}),f.jsx("button",{onClick:()=>fe($.id,$.quantity+1),className:"quantity-btn",children:"+"}),f.jsx("button",{onClick:()=>ge($.id),className:"remove-btn",children:"✕"})]})]},$.id))}),f.jsxs("div",{className:"cart-summary",children:[f.jsx("div",{className:"total",children:f.jsxs("h3",{children:["Ümumi: ",Me().toFixed(2)," AZN"]})}),f.jsxs("div",{className:"checkout-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Müştəri:"}),f.jsxs("select",{value:C,onChange:$=>R($.target.value),children:[f.jsx("option",{value:"",children:"Ümumi Müştəri"}),H.map($=>f.jsx("option",{value:$.name,children:$.name},$.id))]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ödəniş Növü:"}),f.jsxs("select",{value:z,onChange:$=>ne($.target.value),children:[f.jsx("option",{value:"cash",children:"Nağd"}),f.jsx("option",{value:"card",children:"Kart"}),f.jsx("option",{value:"transfer",children:"Köçürmə"})]})]}),f.jsx("button",{onClick:G,className:"checkout-btn",disabled:S.length===0,children:"Satışı Tamamla"})]})]})]})]})}),pe&&f.jsx(Cg,{onScan:F,onClose:()=>Ne(!1)}),we&&ie&&f.jsx(wg,{sale:ie,onClose:()=>Ce(!1)})]})},J0=({product:p,onSubmit:y,onCancel:x,title:A,submitText:v})=>{const[S,M]=Ae.useState({name:p?.name||"",category:p?.category||"",price:p?.price||"",quantity:p?.quantity||"",description:p?.description||"",supplier:p?.supplier||"",minStock:p?.minStock||"",barcode:p?.barcode||""}),H=C=>{C.preventDefault(),y(S)},_=(C,R)=>{M(z=>({...z,[C]:R}))};return f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:A}),f.jsx("button",{onClick:x,className:"close-btn",children:"✕"})]}),f.jsxs("form",{onSubmit:H,className:"product-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Məhsul Adı:"}),f.jsx("input",{type:"text",value:S.name,onChange:C=>_("name",C.target.value),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Kateqoriya:"}),f.jsx("input",{type:"text",value:S.category,onChange:C=>_("category",C.target.value),required:!0})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Qiymət (AZN):"}),f.jsx("input",{type:"number",step:"0.01",value:S.price,onChange:C=>_("price",C.target.value),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Stok Miqdarı:"}),f.jsx("input",{type:"number",value:S.quantity,onChange:C=>_("quantity",C.target.value),required:!0})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Min. Stok:"}),f.jsx("input",{type:"number",value:S.minStock,onChange:C=>_("minStock",C.target.value),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Təchizatçı:"}),f.jsx("input",{type:"text",value:S.supplier,onChange:C=>_("supplier",C.target.value)})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"📱 Barkod:"}),f.jsx("input",{type:"text",placeholder:"Barkod kodunu daxil edin...",value:S.barcode,onChange:C=>_("barcode",C.target.value)})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"📝 Təsvir:"}),f.jsx("textarea",{value:S.description,onChange:C=>_("description",C.target.value),rows:"3",placeholder:"Məhsul haqqında ətraflı məlumat..."})]})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-btn",children:v}),f.jsx("button",{type:"button",onClick:x,className:"cancel-btn",children:"Ləğv Et"})]})]})]})})},bg=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState(!1),[M,H]=Ae.useState(null),[_,C]=Ae.useState(""),[R,z]=Ae.useState("all"),[ne,ce]=Ae.useState({min:"",max:""}),[V,pe]=Ae.useState("all"),[Ne,we]=Ae.useState("name"),[Ce,ie]=Ae.useState("asc"),[ue,Ie]=Ae.useState("grid");Ae.useEffect(()=>{Le()},[]),Ae.useEffect(()=>{localStorage.getItem("openAddProduct")==="1"&&(S(!0),localStorage.removeItem("openAddProduct"))},[]);const Le=()=>{const j=JSON.parse(localStorage.getItem("inventory")||"[]");A(j)},le=j=>{const G={id:Date.now(),...j,price:parseFloat(j.price),quantity:parseInt(j.quantity),minStock:parseInt(j.minStock),createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()},J=[...x,G];localStorage.setItem("inventory",JSON.stringify(J)),A(J),S(!1)},K=j=>{const G=x.map(J=>J.id===M.id?{...M,...j,price:parseFloat(j.price),quantity:parseInt(j.quantity),minStock:parseInt(j.minStock),lastUpdated:new Date().toISOString()}:J);localStorage.setItem("inventory",JSON.stringify(G)),A(G),H(null)},F=j=>{if(window.confirm("Bu məhsulu silmək istədiyinizə əminsiniz?")){const G=x.filter(J=>J.id!==j);localStorage.setItem("inventory",JSON.stringify(G)),A(G)}},se=(j,G)=>{const J=x.map($=>$.id===j?{...$,quantity:Math.max(0,$.quantity+G),lastUpdated:new Date().toISOString()}:$);localStorage.setItem("inventory",JSON.stringify(J)),A(J)},ge=()=>[...new Set(x.map(j=>j.category))],Me=[...x.filter(j=>{const G=j.name.toLowerCase().includes(_.toLowerCase())||j.description.toLowerCase().includes(_.toLowerCase())||j.supplier.toLowerCase().includes(_.toLowerCase())||j.barcode&&j.barcode.toLowerCase().includes(_.toLowerCase()),J=R==="all"||j.category===R,$=(!ne.min||j.price>=parseFloat(ne.min))&&(!ne.max||j.price<=parseFloat(ne.max)),De=V==="all"||V==="low"&&j.quantity<=j.minStock||V==="out"&&j.quantity===0||V==="in"&&j.quantity>j.minStock;return G&&J&&$&&De})].sort((j,G)=>{let J,$;switch(Ne){case"name":J=j.name.toLowerCase(),$=G.name.toLowerCase();break;case"price":J=j.price,$=G.price;break;case"quantity":J=j.quantity,$=G.quantity;break;case"category":J=j.category.toLowerCase(),$=G.category.toLowerCase();break;case"date":J=new Date(j.createdAt),$=new Date(G.createdAt);break;default:J=j.name.toLowerCase(),$=G.name.toLowerCase()}return Ce==="asc"?J>$?1:-1:J<$?1:-1}),Ue=x.filter(j=>j.quantity<=j.minStock);return f.jsxs("div",{className:"inventory",children:[f.jsx("header",{className:"inventory-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"Anbar Uçotu"})]}),f.jsx("div",{className:"header-right",children:f.jsx("button",{onClick:()=>S(!0),className:"add-btn",children:"+ Məhsul Əlavə Et"})})]})}),f.jsxs("div",{className:"inventory-content",children:[f.jsxs("div",{className:"stats-grid",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"📦"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Məhsul"}),f.jsxs("p",{children:[x.length," ədəd"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"💰"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Dəyər"}),f.jsxs("p",{children:[x.reduce((j,G)=>j+G.price*G.quantity,0).toFixed(2)," AZN"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"⚠️"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Aşağı Stok"}),f.jsxs("p",{children:[Ue.length," məhsul"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"📊"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Kateqoriya"}),f.jsxs("p",{children:[ge().length," növ"]})]})]})]}),f.jsxs("div",{className:"advanced-filters",children:[f.jsxs("div",{className:"filter-row",children:[f.jsx("div",{className:"filter-group",children:f.jsx("input",{type:"text",placeholder:"🔍 Məhsul, təsvir, barkod və ya təchizatçı axtar...",value:_,onChange:j=>C(j.target.value),className:"search-input"})}),f.jsx("div",{className:"filter-group",children:f.jsxs("select",{value:R,onChange:j=>z(j.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"📂 Bütün Kateqoriyalar"}),ge().map(j=>f.jsx("option",{value:j,children:j},j))]})}),f.jsx("div",{className:"filter-group",children:f.jsxs("select",{value:V,onChange:j=>pe(j.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"📦 Bütün Stoklar"}),f.jsx("option",{value:"low",children:"⚠️ Aşağı Stok"}),f.jsx("option",{value:"out",children:"❌ Stok Bitdi"}),f.jsx("option",{value:"in",children:"✅ Yaxşı Stok"})]})})]}),f.jsxs("div",{className:"filter-row",children:[f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"💰 Qiymət Aralığı:"}),f.jsxs("div",{className:"price-range",children:[f.jsx("input",{type:"number",placeholder:"Min",value:ne.min,onChange:j=>ce({...ne,min:j.target.value}),className:"price-input"}),f.jsx("span",{children:"-"}),f.jsx("input",{type:"number",placeholder:"Max",value:ne.max,onChange:j=>ce({...ne,max:j.target.value}),className:"price-input"})]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"📊 Sıralama:"}),f.jsxs("div",{className:"sort-controls",children:[f.jsxs("select",{value:Ne,onChange:j=>we(j.target.value),className:"filter-select",children:[f.jsx("option",{value:"name",children:"Ad"}),f.jsx("option",{value:"price",children:"Qiymət"}),f.jsx("option",{value:"quantity",children:"Stok"}),f.jsx("option",{value:"category",children:"Kateqoriya"}),f.jsx("option",{value:"date",children:"Tarix"})]}),f.jsx("button",{onClick:()=>ie(Ce==="asc"?"desc":"asc"),className:"sort-btn",children:Ce==="asc"?"↑":"↓"})]})]}),f.jsxs("div",{className:"filter-group",children:[f.jsx("label",{children:"👁️ Görünüş:"}),f.jsxs("div",{className:"view-controls",children:[f.jsx("button",{onClick:()=>Ie("grid"),className:`view-btn ${ue==="grid"?"active":""}`,children:"⊞"}),f.jsx("button",{onClick:()=>Ie("list"),className:`view-btn ${ue==="list"?"active":""}`,children:"☰"})]})]})]})]}),Ue.length>0&&f.jsxs("div",{className:"low-stock-alert",children:[f.jsx("h3",{children:"⚠️ Aşağı Stok Xəbərdarlığı"}),f.jsx("div",{className:"low-stock-list",children:Ue.map(j=>f.jsxs("span",{className:"low-stock-item",children:[j.name," (",j.quantity," qaldı)"]},j.id))})]}),f.jsx("div",{className:"inventory-table",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Məhsul Adı"}),f.jsx("th",{children:"Kateqoriya"}),f.jsx("th",{children:"Qiymət"}),f.jsx("th",{children:"Stok"}),f.jsx("th",{children:"Min. Stok"}),f.jsx("th",{children:"📱 Barkod"}),f.jsx("th",{children:"Təchizatçı"}),f.jsx("th",{children:"Son Yenilənmə"}),f.jsx("th",{children:"Əməliyyatlar"})]})}),f.jsx("tbody",{children:Me.map(j=>f.jsxs("tr",{className:j.quantity<=j.minStock?"low-stock-row":"",children:[f.jsx("td",{children:f.jsxs("div",{className:"product-info",children:[f.jsx("strong",{children:j.name}),j.description&&f.jsx("small",{children:j.description})]})}),f.jsx("td",{children:j.category}),f.jsxs("td",{children:[j.price," AZN"]}),f.jsx("td",{children:f.jsxs("div",{className:"stock-controls",children:[f.jsx("button",{onClick:()=>se(j.id,-1),className:"stock-btn",children:"-"}),f.jsx("span",{className:j.quantity<=j.minStock?"low-stock":"",children:j.quantity}),f.jsx("button",{onClick:()=>se(j.id,1),className:"stock-btn",children:"+"})]})}),f.jsx("td",{children:j.minStock}),f.jsx("td",{children:j.barcode?f.jsxs("span",{className:"barcode-display",title:`Barkod: ${j.barcode}`,children:["📱 ",j.barcode]}):f.jsx("span",{className:"no-barcode",children:"—"})}),f.jsx("td",{children:j.supplier}),f.jsx("td",{children:new Date(j.lastUpdated).toLocaleDateString("az-AZ")}),f.jsx("td",{children:f.jsxs("div",{className:"action-buttons",children:[f.jsx("button",{onClick:()=>H(j),className:"edit-btn",children:"Düzənlə"}),f.jsx("button",{onClick:()=>F(j.id),className:"delete-btn",children:"Sil"})]})})]},j.id))})]})})]}),v&&f.jsx(J0,{product:null,onSubmit:le,onCancel:()=>S(!1),title:"Yeni Məhsul Əlavə Et",submitText:"Əlavə Et"}),M&&f.jsx(J0,{product:M,onSubmit:K,onCancel:()=>H(null),title:"Məhsulu Düzənlə",submitText:"Yadda Saxla"})]})},Ng=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState([]),[M,H]=Ae.useState([]),[_,C]=Ae.useState("sales"),[R,z]=Ae.useState("today"),[ne,ce]=Ae.useState(""),[V,pe]=Ae.useState("");Ae.useEffect(()=>{Ne()},[]);const Ne=()=>{const F=JSON.parse(localStorage.getItem("users")||"[]"),se=[];F.forEach(fe=>{fe.sales&&se.push(...fe.sales)}),A(se),H(F);const ge=JSON.parse(localStorage.getItem("inventory")||"[]");S(ge)},we=()=>{const F=new Date;let se,ge;switch(R){case"today":se=new Date(F.getFullYear(),F.getMonth(),F.getDate()),ge=new Date(F.getFullYear(),F.getMonth(),F.getDate(),23,59,59);break;case"week":se=new Date(F.getFullYear(),F.getMonth(),F.getDate()-7),ge=F;break;case"month":se=new Date(F.getFullYear(),F.getMonth()-1,F.getDate()),ge=F;break;case"year":se=new Date(F.getFullYear()-1,F.getMonth(),F.getDate()),ge=F;break;case"custom":se=ne?new Date(ne):new Date(0),ge=V?new Date(V):F;break;default:se=new Date(0),ge=F}return{start:se,end:ge}},Ce=F=>{const{start:se,end:ge}=we();return F.filter(fe=>{const Me=new Date(fe.date);return Me>=se&&Me<=ge})},ie=()=>{const F=Ce(x),se=F.reduce((G,J)=>G+J.total,0),ge=F.length,fe=ge>0?se/ge:0,Me=F.reduce((G,J)=>(G[J.paymentMethod]=(G[J.paymentMethod]||0)+J.total,G),{}),Ue={};F.forEach(G=>{G.items.forEach(J=>{Ue[J.name]=(Ue[J.name]||0)+J.quantity})});const j=Object.entries(Ue).sort(([,G],[,J])=>J-G).slice(0,5);return{totalRevenue:se,totalSales:ge,averageOrderValue:fe,salesByPaymentMethod:Me,topProducts:j,sales:F}},ue=()=>{const F=v.length,se=v.reduce((Ue,j)=>Ue+j.price*j.quantity,0),ge=v.filter(Ue=>Ue.quantity<=Ue.minStock),fe=v.filter(Ue=>Ue.quantity===0),Me=v.reduce((Ue,j)=>(Ue[j.category]||(Ue[j.category]={count:0,value:0}),Ue[j.category].count++,Ue[j.category].value+=j.price*j.quantity,Ue),{});return{totalProducts:F,totalValue:se,lowStockProducts:ge,outOfStockProducts:fe,categoryStats:Me}},Ie=()=>M.filter(se=>!se.isAdmin).map(se=>{const ge=x.filter(Me=>Me.userId===se.id),fe=ge.reduce((Me,Ue)=>Me+Ue.total,0);return{name:se.name,role:se.role,totalSales:ge.length,totalRevenue:fe,averageOrderValue:ge.length>0?fe/ge.length:0}}).sort((se,ge)=>ge.totalRevenue-se.totalRevenue),Le=()=>{const F=ie();return f.jsxs("div",{className:"report-content",children:[f.jsxs("div",{className:"report-summary",children:[f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Gəlir"}),f.jsxs("p",{children:[F.totalRevenue.toFixed(2)," AZN"]})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Satış Sayı"}),f.jsx("p",{children:F.totalSales})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Orta Sifariş Dəyəri"}),f.jsxs("p",{children:[F.averageOrderValue.toFixed(2)," AZN"]})]})]}),f.jsxs("div",{className:"report-details",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Ödəniş Növləri"}),f.jsx("div",{className:"payment-methods",children:Object.entries(F.salesByPaymentMethod).map(([se,ge])=>f.jsxs("div",{className:"payment-method",children:[f.jsx("span",{children:se==="cash"?"Nağd":se==="card"?"Kart":"Köçürmə"}),f.jsxs("span",{children:[ge.toFixed(2)," AZN"]})]},se))})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Ən Çox Satılan Məhsullar"}),f.jsx("div",{className:"top-products",children:F.topProducts.map(([se,ge])=>f.jsxs("div",{className:"top-product",children:[f.jsx("span",{children:se}),f.jsxs("span",{children:[ge," ədəd"]})]},se))})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Son Satışlar"}),f.jsx("div",{className:"recent-sales",children:F.sales.slice(0,10).map(se=>f.jsxs("div",{className:"sale-item",children:[f.jsxs("div",{className:"sale-info",children:[f.jsx("span",{children:se.customerName}),f.jsx("span",{children:new Date(se.date).toLocaleDateString("az-AZ")})]}),f.jsxs("span",{className:"sale-amount",children:[se.total.toFixed(2)," AZN"]})]},se.id))})]})]})]})},le=()=>{const F=ue();return f.jsxs("div",{className:"report-content",children:[f.jsxs("div",{className:"report-summary",children:[f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Məhsul"}),f.jsx("p",{children:F.totalProducts})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Dəyər"}),f.jsxs("p",{children:[F.totalValue.toFixed(2)," AZN"]})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Aşağı Stok"}),f.jsx("p",{children:F.lowStockProducts.length})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Stok Bitmiş"}),f.jsx("p",{children:F.outOfStockProducts.length})]})]}),f.jsxs("div",{className:"report-details",children:[f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Kateqoriya Statistikası"}),f.jsx("div",{className:"category-stats",children:Object.entries(F.categoryStats).map(([se,ge])=>f.jsxs("div",{className:"category-stat",children:[f.jsx("span",{children:se}),f.jsxs("div",{className:"category-details",children:[f.jsxs("span",{children:[ge.count," məhsul"]}),f.jsxs("span",{children:[ge.value.toFixed(2)," AZN"]})]})]},se))})]}),f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"Aşağı Stok Məhsulları"}),f.jsx("div",{className:"low-stock-list",children:F.lowStockProducts.map(se=>f.jsxs("div",{className:"low-stock-item",children:[f.jsx("span",{children:se.name}),f.jsxs("span",{children:[se.quantity," qaldı (min: ",se.minStock,")"]})]},se.id))})]})]})]})},K=()=>{const F=Ie();return f.jsxs("div",{className:"report-content",children:[f.jsxs("div",{className:"report-summary",children:[f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"İşçi Sayı"}),f.jsx("p",{children:F.length})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Satış"}),f.jsx("p",{children:F.reduce((se,ge)=>se+ge.totalSales,0)})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Gəlir"}),f.jsxs("p",{children:[F.reduce((se,ge)=>se+ge.totalRevenue,0).toFixed(2)," AZN"]})]})]}),f.jsx("div",{className:"report-details",children:f.jsxs("div",{className:"detail-section",children:[f.jsx("h3",{children:"İşçi Performansı"}),f.jsx("div",{className:"employee-performance",children:F.map(se=>f.jsxs("div",{className:"employee-stat",children:[f.jsxs("div",{className:"employee-info",children:[f.jsx("span",{className:"employee-name",children:se.name}),f.jsx("span",{className:"employee-role",children:se.role})]}),f.jsxs("div",{className:"employee-metrics",children:[f.jsxs("span",{children:[se.totalSales," satış"]}),f.jsxs("span",{children:[se.totalRevenue.toFixed(2)," AZN"]}),f.jsxs("span",{children:["Orta: ",se.averageOrderValue.toFixed(2)," AZN"]})]})]},se.name))})]})})]})};return f.jsxs("div",{className:"reports",children:[f.jsx("header",{className:"reports-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"Hesabatlar"})]})})}),f.jsxs("div",{className:"reports-content",children:[f.jsxs("div",{className:"reports-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Hesabat Növü:"}),f.jsxs("select",{value:_,onChange:F=>C(F.target.value),children:[f.jsx("option",{value:"sales",children:"Satış Hesabatı"}),f.jsx("option",{value:"inventory",children:"Anbar Hesabatı"}),f.jsx("option",{value:"employees",children:"İşçi Hesabatı"})]})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Tarix Aralığı:"}),f.jsxs("select",{value:R,onChange:F=>z(F.target.value),children:[f.jsx("option",{value:"today",children:"Bu Gün"}),f.jsx("option",{value:"week",children:"Son 7 Gün"}),f.jsx("option",{value:"month",children:"Son Ay"}),f.jsx("option",{value:"year",children:"Son İl"}),f.jsx("option",{value:"custom",children:"Xüsusi"})]})]}),R==="custom"&&f.jsxs("div",{className:"custom-date-controls",children:[f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Başlanğıc:"}),f.jsx("input",{type:"date",value:ne,onChange:F=>ce(F.target.value)})]}),f.jsxs("div",{className:"control-group",children:[f.jsx("label",{children:"Bitmə:"}),f.jsx("input",{type:"date",value:V,onChange:F=>pe(F.target.value)})]})]})]}),f.jsxs("div",{className:"report-container",children:[_==="sales"&&Le(),_==="inventory"&&le(),_==="employees"&&K()]})]})]})},bu=[{value:"cashier",label:"Kassir"},{value:"manager",label:"Menecer"},{value:"inventory",label:"Anbar"}],Tg=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState(!1),[M,H]=Ae.useState({username:"",password:"",name:"",role:"cashier",isAdmin:!1}),[_,C]=Ae.useState(null);Ae.useEffect(()=>{const V=JSON.parse(localStorage.getItem("users")||"[]");A(V)},[]);const R=V=>{localStorage.setItem("users",JSON.stringify(V)),A(V)},z=V=>{if(V.preventDefault(),x.some(we=>we.username===M.username)){alert("Bu istifadəçi adı artıq mövcuddur!");return}const Ne={id:Date.now(),username:M.username,password:M.password,name:M.name||M.username,role:M.role,isAdmin:M.isAdmin,createdAt:new Date().toISOString(),sales:[]};R([...x,Ne]),S(!1),H({username:"",password:"",name:"",role:"cashier",isAdmin:!1})},ne=V=>{V.preventDefault();const pe=x.map(Ne=>Ne.id===_.id?_:Ne);R(pe),C(null)},ce=V=>{if(!window.confirm("İstifadəçini silmək istəyirsiniz?"))return;const pe=x.filter(Ne=>Ne.id!==V);R(pe)};return f.jsxs("div",{className:"employees",children:[f.jsx("header",{className:"employees-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"İşçi Rolları və Nəzarət"})]}),f.jsx("div",{className:"header-right",children:f.jsx("button",{onClick:()=>S(!0),className:"add-btn",children:"+ İşçi Əlavə Et"})})]})}),f.jsx("div",{className:"employees-content",children:f.jsx("div",{className:"users-table",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Ad"}),f.jsx("th",{children:"İstifadəçi Adı"}),f.jsx("th",{children:"Rol"}),f.jsx("th",{children:"Admin"}),f.jsx("th",{children:"Əməliyyatlar"})]})}),f.jsx("tbody",{children:x.filter(V=>V.id!==1).map(V=>f.jsxs("tr",{children:[f.jsx("td",{children:V.name}),f.jsx("td",{children:V.username}),f.jsx("td",{children:bu.find(pe=>pe.value===V.role)?.label||V.role}),f.jsx("td",{children:V.isAdmin?"Bəli":"Xeyr"}),f.jsx("td",{children:f.jsxs("div",{className:"action-buttons",children:[f.jsx("button",{className:"edit-btn",onClick:()=>C({...V}),children:"Düzənlə"}),f.jsx("button",{className:"delete-btn",onClick:()=>ce(V.id),children:"Sil"})]})})]},V.id))})]})})}),v&&f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Yeni İşçi"}),f.jsx("button",{className:"close-btn",onClick:()=>S(!1),children:"✕"})]}),f.jsxs("form",{onSubmit:z,className:"employee-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"İstifadəçi Adı"}),f.jsx("input",{value:M.username,onChange:V=>H({...M,username:V.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Şifrə"}),f.jsx("input",{type:"password",value:M.password,onChange:V=>H({...M,password:V.target.value}),required:!0})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ad Soyad"}),f.jsx("input",{value:M.name,onChange:V=>H({...M,name:V.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Rol"}),f.jsx("select",{value:M.role,onChange:V=>H({...M,role:V.target.value}),children:bu.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]})]}),f.jsx("div",{className:"form-group checkbox",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:M.isAdmin,onChange:V=>H({...M,isAdmin:V.target.checked})}),"Admin hüquqları"]})}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-btn",children:"Əlavə Et"}),f.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>S(!1),children:"Ləğv Et"})]})]})]})}),_&&f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"İşçini Düzənlə"}),f.jsx("button",{className:"close-btn",onClick:()=>C(null),children:"✕"})]}),f.jsxs("form",{onSubmit:ne,className:"employee-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ad Soyad"}),f.jsx("input",{value:_.name,onChange:V=>C({..._,name:V.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Rol"}),f.jsx("select",{value:_.role,onChange:V=>C({..._,role:V.target.value}),children:bu.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]})]}),f.jsx("div",{className:"form-group checkbox",children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:_.isAdmin,onChange:V=>C({..._,isAdmin:V.target.checked})}),"Admin hüquqları"]})}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-btn",children:"Yadda Saxla"}),f.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>C(null),children:"Ləğv Et"})]})]})]})})]})},Ig=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState(null),[M,H]=Ae.useState(""),[_,C]=Ae.useState("");Ae.useEffect(()=>{const V=JSON.parse(localStorage.getItem("shifts")||"[]");A(V);const pe=V.find(Ne=>Ne.userId===p.id&&!Ne.endTime);S(pe||null)},[p.id]);const R=V=>{localStorage.setItem("shifts",JSON.stringify(V)),A(V)},z=V=>{if(V.preventDefault(),v){alert("Aktiv növbə mövcuddur.");return}const pe={id:Date.now(),userId:p.id,cashier:p.name,startTime:new Date().toISOString(),endTime:null,startCash:parseFloat(M||0),endCash:null,totalSales:0},Ne=[pe,...x];R(Ne),S(pe),H("")},ne=V=>{if(V.preventDefault(),!v){alert("Aktiv növbə yoxdur.");return}const Ce=(JSON.parse(localStorage.getItem("users")||"[]").find(ue=>ue.id===p.id)?.sales||[]).filter(ue=>new Date(ue.date)>=new Date(v.startTime)).reduce((ue,Ie)=>ue+Ie.total,0),ie=x.map(ue=>ue.id===v.id?{...ue,endTime:new Date().toISOString(),endCash:parseFloat(_||0),totalSales:Ce}:ue);R(ie),S(null),C("")},ce=x.filter(V=>V.userId===p.id).slice(0,10);return f.jsxs("div",{className:"shift",children:[f.jsx("header",{className:"shift-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"Növbə Nəzarəti"})]})})}),f.jsx("div",{className:"shift-content",children:f.jsxs("div",{className:"shift-cards",children:[f.jsxs("div",{className:"card",children:[f.jsx("h3",{children:v?"Aktiv Növbə":"Növbə Aç"}),v?f.jsxs("div",{className:"active-shift",children:[f.jsxs("div",{children:["Başlama: ",new Date(v.startTime).toLocaleString("az-AZ")]}),f.jsxs("div",{children:["Başlanğıc Kassa: ",v.startCash?.toFixed?.(2)||v.startCash," AZN"]}),f.jsxs("form",{onSubmit:ne,className:"shift-form",children:[f.jsx("label",{children:"Bitmə Kassa (AZN)"}),f.jsx("input",{type:"number",step:"0.01",value:_,onChange:V=>C(V.target.value)}),f.jsx("button",{type:"submit",className:"danger",children:"Növbəni Bitir"})]})]}):f.jsxs("form",{onSubmit:z,className:"shift-form",children:[f.jsx("label",{children:"Başlanğıc Kassa (AZN)"}),f.jsx("input",{type:"number",step:"0.01",value:M,onChange:V=>H(V.target.value)}),f.jsx("button",{type:"submit",className:"primary",children:"Növbəni Başlat"})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h3",{children:"Son Növbələr"}),f.jsxs("div",{className:"shift-list",children:[ce.map(V=>f.jsxs("div",{className:"shift-item",children:[f.jsxs("div",{children:[f.jsxs("div",{children:[new Date(V.startTime).toLocaleString("az-AZ")," → ",V.endTime?new Date(V.endTime).toLocaleString("az-AZ"):"—"]}),f.jsxs("small",{children:["Satış: ",V.totalSales?.toFixed?.(2)||V.totalSales," AZN"]})]}),f.jsxs("div",{className:"cash-summary",children:[f.jsxs("span",{children:["Baş: ",V.startCash,"₼"]}),f.jsxs("span",{children:["Son: ",V.endCash??"—","₼"]})]})]},V.id)),ce.length===0&&f.jsx("div",{children:"Hələ heç bir növbə yoxdur."})]})]})]})})]})},Mg=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState(""),[M,H]=Ae.useState(""),[_,C]=Ae.useState([]);Ae.useEffect(()=>{A(JSON.parse(localStorage.getItem("inventory")||"[]")),C(JSON.parse(localStorage.getItem("inventoryCounts")||"[]"))},[]);const R=ne=>{localStorage.setItem("inventoryCounts",JSON.stringify(ne)),C(ne)},z=ne=>{ne.preventDefault();const ce=x.findIndex(ue=>ue.id===Number(v));if(ce===-1){alert("Məhsul seçin.");return}const V=x[ce],pe=parseInt(M);if(Number.isNaN(pe)){alert("Keçərli say daxil edin.");return}const Ne=pe-V.quantity,we=[...x];we[ce]={...V,quantity:pe,lastUpdated:new Date().toISOString()},localStorage.setItem("inventory",JSON.stringify(we)),A(we);const ie=[{id:Date.now(),productId:V.id,productName:V.name,previousQty:V.quantity,countedQty:pe,difference:Ne,userId:p.id,userName:p.name,date:new Date().toISOString()},..._];R(ie),S(""),H("")};return f.jsxs("div",{className:"invcount",children:[f.jsx("header",{className:"invcount-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"İnventarlaşdırma"})]})})}),f.jsxs("div",{className:"invcount-content",children:[f.jsxs("div",{className:"card",children:[f.jsx("h3",{children:"Fiziki Sayım"}),f.jsxs("form",{onSubmit:z,className:"count-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Məhsul"}),f.jsxs("select",{value:v,onChange:ne=>S(ne.target.value),required:!0,children:[f.jsx("option",{value:"",children:"Seçin"}),x.map(ne=>f.jsxs("option",{value:ne.id,children:[ne.name," (Stok: ",ne.quantity,")"]},ne.id))]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Sayım Miqdarı"}),f.jsx("input",{type:"number",value:M,onChange:ne=>H(ne.target.value),required:!0})]})]}),f.jsx("button",{className:"primary",type:"submit",children:"Yadda Saxla"})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h3",{children:"Sayım Qeydləri"}),f.jsxs("div",{className:"logs",children:[_.slice(0,20).map(ne=>f.jsxs("div",{className:"log-item",children:[f.jsxs("div",{children:[f.jsx("strong",{children:ne.productName})," — ",new Date(ne.date).toLocaleString("az-AZ"),f.jsxs("div",{className:"muted",children:["Keçmiş: ",ne.previousQty,", Sayım: ",ne.countedQty]})]}),f.jsxs("div",{className:`diff ${ne.difference===0?"":ne.difference>0?"pos":"neg"}`,children:[ne.difference>0?"+":"",ne.difference]})]},ne.id)),_.length===0&&f.jsx("div",{children:"Hələ heç bir sayım qeydi yoxdur."})]})]})]})]})},Og=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState([]),[M,H]=Ae.useState({title:"",amount:"",category:"general"});Ae.useEffect(()=>{A(JSON.parse(localStorage.getItem("expenses")||"[]")),S(JSON.parse(localStorage.getItem("users")||"[]"))},[]);const _=v.reduce((ne,ce)=>ne+(ce.sales||[]).reduce((V,pe)=>V+pe.total,0),0),C=x.reduce((ne,ce)=>ne+ce.amount,0),R=_-C,z=ne=>{ne.preventDefault();const V=[{id:Date.now(),title:M.title,amount:parseFloat(M.amount),category:M.category,date:new Date().toISOString(),userId:p.id,userName:p.name},...x];localStorage.setItem("expenses",JSON.stringify(V)),A(V),H({title:"",amount:"",category:"general"})};return f.jsxs("div",{className:"finance",children:[f.jsx("header",{className:"finance-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"Maliyyə İdarəetməsi"})]})})}),f.jsxs("div",{className:"finance-content",children:[f.jsxs("div",{className:"summary-grid",children:[f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Satış"}),f.jsxs("p",{children:[_.toFixed(2)," AZN"]})]}),f.jsxs("div",{className:"summary-card",children:[f.jsx("h3",{children:"Ümumi Xərc"}),f.jsxs("p",{children:[C.toFixed(2)," AZN"]})]}),f.jsxs("div",{className:`summary-card ${R>=0?"profit":"loss"}`,children:[f.jsx("h3",{children:"Xalis Mənfəət"}),f.jsxs("p",{children:[R.toFixed(2)," AZN"]})]})]}),f.jsxs("div",{className:"cards-grid",children:[f.jsxs("div",{className:"card",children:[f.jsx("h3",{children:"Xərc Əlavə Et"}),f.jsxs("form",{onSubmit:z,className:"expense-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Başlıq"}),f.jsx("input",{value:M.title,onChange:ne=>H({...M,title:ne.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Məbləğ"}),f.jsx("input",{type:"number",step:"0.01",value:M.amount,onChange:ne=>H({...M,amount:ne.target.value}),required:!0})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Kateqoriya"}),f.jsxs("select",{value:M.category,onChange:ne=>H({...M,category:ne.target.value}),children:[f.jsx("option",{value:"general",children:"Ümumi"}),f.jsx("option",{value:"rent",children:"İcarə"}),f.jsx("option",{value:"salary",children:"Maaş"}),f.jsx("option",{value:"utilities",children:"Kommunal"}),f.jsx("option",{value:"other",children:"Digər"})]})]}),f.jsx("button",{className:"primary",type:"submit",children:"Əlavə Et"})]})]}),f.jsxs("div",{className:"card",children:[f.jsx("h3",{children:"Son Xərclər"}),f.jsxs("div",{className:"list",children:[x.slice(0,20).map(ne=>f.jsxs("div",{className:"list-item",children:[f.jsxs("div",{children:[f.jsx("strong",{children:ne.title}),f.jsxs("div",{className:"muted",children:[new Date(ne.date).toLocaleString("az-AZ")," — ",ne.userName]})]}),f.jsxs("div",{className:"amount",children:[ne.amount.toFixed(2)," AZN"]})]},ne.id)),x.length===0&&f.jsx("div",{children:"Hələ heç bir xərc yoxdur."})]})]})]})]})]})},Dg=({user:p,onBack:y})=>{const[x,A]=Ae.useState({storeName:"POS Sistem",currency:"AZN",taxRate:0});Ae.useEffect(()=>{const S=JSON.parse(localStorage.getItem("settings")||"null");S&&A(S)},[]);const v=S=>{S.preventDefault(),localStorage.setItem("settings",JSON.stringify(x)),alert("Tənzimləmələr yadda saxlandı.")};return f.jsxs("div",{className:"settings",children:[f.jsx("header",{className:"settings-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"Sistem Tənzimləmələri"})]})})}),f.jsx("div",{className:"settings-content",children:f.jsxs("form",{onSubmit:v,className:"settings-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Mağaza Adı"}),f.jsx("input",{value:x.storeName,onChange:S=>A({...x,storeName:S.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Valyuta"}),f.jsxs("select",{value:x.currency,onChange:S=>A({...x,currency:S.target.value}),children:[f.jsx("option",{value:"AZN",children:"AZN"}),f.jsx("option",{value:"USD",children:"USD"}),f.jsx("option",{value:"EUR",children:"EUR"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"ƏDV (%)"}),f.jsx("input",{type:"number",step:"0.01",value:x.taxRate,onChange:S=>A({...x,taxRate:parseFloat(S.target.value)||0})})]}),f.jsx("button",{className:"primary",type:"submit",children:"Yadda Saxla"})]})})]})},_g=({user:p,onBack:y})=>{const[x,A]=Ae.useState(!1),[v,S]=Ae.useState(!1),[M,H]=Ae.useState([]),[_,C]=Ae.useState(null);$0.useEffect(()=>{const we=JSON.parse(localStorage.getItem("backupHistory")||"[]");H(we)},[]);const R=async()=>{A(!0);try{const we={users:JSON.parse(localStorage.getItem("users")||"[]"),inventory:JSON.parse(localStorage.getItem("inventory")||"[]"),customers:JSON.parse(localStorage.getItem("customers")||"[]"),shifts:JSON.parse(localStorage.getItem("shifts")||"[]"),expenses:JSON.parse(localStorage.getItem("expenses")||"[]"),settings:JSON.parse(localStorage.getItem("settings")||"{}"),exportDate:new Date().toISOString(),exportedBy:p.name},Ce=new Blob([JSON.stringify(we,null,2)],{type:"application/json"}),ie=URL.createObjectURL(Ce),ue=document.createElement("a");ue.href=ie,ue.download=`pos-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(ie);const Le=[{id:Date.now(),date:new Date().toISOString(),type:"export",filename:ue.download,size:Ce.size,exportedBy:p.name},...M];localStorage.setItem("backupHistory",JSON.stringify(Le)),H(Le),alert("Məlumatlar uğurla ixrac edildi!")}catch(we){alert("İxrac zamanı xəta baş verdi: "+we.message)}finally{A(!1)}},z=async()=>{if(!_){alert("Zəhmət olmasa fayl seçin!");return}S(!0);try{const we=await _.text(),Ce=JSON.parse(we);if(!Ce.users||!Ce.inventory||!Ce.customers)throw new Error("Fayl düzgün formatda deyil!");if(!confirm("Mövcud məlumatlar silinəcək. Davam etmək istəyirsiniz?"))return;localStorage.setItem("users",JSON.stringify(Ce.users)),localStorage.setItem("inventory",JSON.stringify(Ce.inventory)),localStorage.setItem("customers",JSON.stringify(Ce.customers)),localStorage.setItem("shifts",JSON.stringify(Ce.shifts||[])),localStorage.setItem("expenses",JSON.stringify(Ce.expenses||[])),localStorage.setItem("settings",JSON.stringify(Ce.settings||{}));const ue=[{id:Date.now(),date:new Date().toISOString(),type:"import",filename:_.name,size:_.size,importedBy:p.name},...M];localStorage.setItem("backupHistory",JSON.stringify(ue)),H(ue),C(null),alert("Məlumatlar uğurla idxal edildi! Səhifə yenilənəcək..."),setTimeout(()=>window.location.reload(),1e3)}catch(we){alert("İdxal zamanı xəta baş verdi: "+we.message)}finally{S(!1)}},ne=async()=>{try{const we={users:JSON.parse(localStorage.getItem("users")||"[]"),inventory:JSON.parse(localStorage.getItem("inventory")||"[]"),customers:JSON.parse(localStorage.getItem("customers")||"[]"),shifts:JSON.parse(localStorage.getItem("shifts")||"[]"),expenses:JSON.parse(localStorage.getItem("expenses")||"[]"),settings:JSON.parse(localStorage.getItem("settings")||"{}"),backupDate:new Date().toISOString(),createdBy:p.name},Ce=JSON.parse(localStorage.getItem("backups")||"[]"),ie={id:Date.now(),date:new Date().toISOString(),data:we,createdBy:p.name},ue=[ie,...Ce].slice(0,10);localStorage.setItem("backups",JSON.stringify(ue));const Le=[{id:ie.id,date:ie.date,type:"backup",filename:`backup-${new Date().toISOString().split("T")[0]}.json`,size:JSON.stringify(we).length,createdBy:p.name},...M];localStorage.setItem("backupHistory",JSON.stringify(Le)),H(Le),alert("Backup uğurla yaradıldı!")}catch(we){alert("Backup yaradılarkən xəta baş verdi: "+we.message)}},ce=we=>{try{const ie=JSON.parse(localStorage.getItem("backups")||"[]").find(Ie=>Ie.id===we);if(!ie){alert("Backup tapılmadı!");return}if(!confirm("Mövcud məlumatlar silinəcək. Davam etmək istəyirsiniz?"))return;const ue=ie.data;localStorage.setItem("users",JSON.stringify(ue.users)),localStorage.setItem("inventory",JSON.stringify(ue.inventory)),localStorage.setItem("customers",JSON.stringify(ue.customers)),localStorage.setItem("shifts",JSON.stringify(ue.shifts||[])),localStorage.setItem("expenses",JSON.stringify(ue.expenses||[])),localStorage.setItem("settings",JSON.stringify(ue.settings||{})),alert("Backup uğurla bərpa edildi! Səhifə yenilənəcək..."),setTimeout(()=>window.location.reload(),1e3)}catch(Ce){alert("Bərpa zamanı xəta baş verdi: "+Ce.message)}},V=we=>{if(confirm("Bu backup-ı silmək istəyirsiniz?"))try{const ie=JSON.parse(localStorage.getItem("backups")||"[]").filter(Ie=>Ie.id!==we);localStorage.setItem("backups",JSON.stringify(ie));const ue=M.filter(Ie=>Ie.id!==we);localStorage.setItem("backupHistory",JSON.stringify(ue)),H(ue),alert("Backup silindi!")}catch(Ce){alert("Backup silinərkən xəta baş verdi: "+Ce.message)}},pe=we=>{if(we===0)return"0 Bytes";const Ce=1024,ie=["Bytes","KB","MB","GB"],ue=Math.floor(Math.log(we)/Math.log(Ce));return parseFloat((we/Math.pow(Ce,ue)).toFixed(2))+" "+ie[ue]},Ne=we=>new Date(we).toLocaleString("az-AZ");return f.jsxs("div",{className:"data-manager",children:[f.jsx("header",{className:"data-manager-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"💾 Məlumat İdarəetməsi"})]})})}),f.jsx("div",{className:"data-manager-content",children:f.jsxs("div",{className:"data-manager-grid",children:[f.jsxs("div",{className:"data-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h3",{children:"📤 İxrac və İdxal"}),f.jsx("p",{children:"Məlumatları fayl kimi ixrac edin və ya idxal edin"})]}),f.jsxs("div",{className:"action-buttons",children:[f.jsx("button",{onClick:R,disabled:x,className:"action-btn primary",children:x?"⏳ İxrac edilir...":"📤 Məlumatları İxrac Et"}),f.jsxs("div",{className:"import-section",children:[f.jsx("input",{type:"file",accept:".json",onChange:we=>C(we.target.files[0]),id:"import-file",style:{display:"none"}}),f.jsx("label",{htmlFor:"import-file",className:"file-input-label",children:"📁 Fayl Seç"}),_&&f.jsx("span",{className:"selected-file",children:_.name}),f.jsx("button",{onClick:z,disabled:!_||v,className:"action-btn success",children:v?"⏳ İdxal edilir...":"📥 İdxal Et"})]})]})]}),f.jsxs("div",{className:"data-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h3",{children:"💿 Backup və Bərpa"}),f.jsx("p",{children:"Avtomatik backup yaradın və bərpa edin"})]}),f.jsx("div",{className:"action-buttons",children:f.jsx("button",{onClick:ne,className:"action-btn warning",children:"💾 Backup Yarat"})}),f.jsxs("div",{className:"backup-list",children:[f.jsx("h4",{children:"Mövcud Backup-lar"}),(()=>{const we=JSON.parse(localStorage.getItem("backups")||"[]");return we.length>0?we.map(Ce=>f.jsxs("div",{className:"backup-item",children:[f.jsxs("div",{className:"backup-info",children:[f.jsx("span",{className:"backup-date",children:Ne(Ce.date)}),f.jsx("span",{className:"backup-creator",children:Ce.createdBy})]}),f.jsxs("div",{className:"backup-actions",children:[f.jsx("button",{onClick:()=>ce(Ce.id),className:"restore-btn",children:"🔄 Bərpa Et"}),f.jsx("button",{onClick:()=>V(Ce.id),className:"delete-btn",children:"🗑️ Sil"})]})]},Ce.id)):f.jsx("p",{className:"empty-message",children:"Hələ backup yoxdur"})})()]})]}),f.jsxs("div",{className:"data-section full-width",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h3",{children:"📋 Əməliyyat Tarixçəsi"}),f.jsx("p",{children:"Bütün ixrac, idxal və backup əməliyyatları"})]}),f.jsx("div",{className:"history-list",children:M.length>0?M.map(we=>f.jsxs("div",{className:"history-item",children:[f.jsxs("div",{className:"history-icon",children:[we.type==="export"&&"📤",we.type==="import"&&"📥",we.type==="backup"&&"💾"]}),f.jsxs("div",{className:"history-info",children:[f.jsxs("span",{className:"history-type",children:[we.type==="export"&&"İxrac",we.type==="import"&&"İdxal",we.type==="backup"&&"Backup"]}),f.jsx("span",{className:"history-filename",children:we.filename}),f.jsx("span",{className:"history-size",children:pe(we.size)})]}),f.jsxs("div",{className:"history-meta",children:[f.jsx("span",{className:"history-user",children:we.exportedBy||we.importedBy||we.createdBy}),f.jsx("span",{className:"history-date",children:Ne(we.date)})]})]},we.id)):f.jsx("p",{className:"empty-message",children:"Hələ əməliyyat yoxdur"})})]}),f.jsxs("div",{className:"data-section",children:[f.jsxs("div",{className:"section-header",children:[f.jsx("h3",{children:"ℹ️ Sistem Məlumatları"}),f.jsx("p",{children:"Mövcud məlumatlar haqqında məlumat"})]}),f.jsxs("div",{className:"system-info",children:[f.jsxs("div",{className:"info-item",children:[f.jsx("span",{className:"info-label",children:"İstifadəçilər:"}),f.jsx("span",{className:"info-value",children:JSON.parse(localStorage.getItem("users")||"[]").length})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("span",{className:"info-label",children:"Məhsullar:"}),f.jsx("span",{className:"info-value",children:JSON.parse(localStorage.getItem("inventory")||"[]").length})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("span",{className:"info-label",children:"Müştərilər:"}),f.jsx("span",{className:"info-value",children:JSON.parse(localStorage.getItem("customers")||"[]").length})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("span",{className:"info-label",children:"Növbələr:"}),f.jsx("span",{className:"info-value",children:JSON.parse(localStorage.getItem("shifts")||"[]").length})]}),f.jsxs("div",{className:"info-item",children:[f.jsx("span",{className:"info-label",children:"Xərclər:"}),f.jsx("span",{className:"info-value",children:JSON.parse(localStorage.getItem("expenses")||"[]").length})]})]})]})]})})]})},Rg=({user:p,onBack:y})=>{const[x,A]=Ae.useState([]),[v,S]=Ae.useState(!1),[M,H]=Ae.useState(null),[_,C]=Ae.useState(""),[R,z]=Ae.useState("all"),[ne,ce]=Ae.useState("name"),[V,pe]=Ae.useState({name:"",phone:"",email:"",address:"",notes:"",status:"active"});Ae.useEffect(()=>{Ne()},[]);const Ne=()=>{const K=JSON.parse(localStorage.getItem("customers")||"[]");A(K)},we=K=>{K.preventDefault();const F={id:Date.now(),...V,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),totalPurchases:0,totalSpent:0},se=[...x,F];localStorage.setItem("customers",JSON.stringify(se)),A(se),pe({name:"",phone:"",email:"",address:"",notes:"",status:"active"}),S(!1)},Ce=K=>{K.preventDefault();const F=x.map(se=>se.id===M.id?{...M,lastUpdated:new Date().toISOString()}:se);localStorage.setItem("customers",JSON.stringify(F)),A(F),H(null)},ie=K=>{if(window.confirm("Bu müştərini silmək istədiyinizə əminsiniz?")){const F=x.filter(se=>se.id!==K);localStorage.setItem("customers",JSON.stringify(F)),A(F)}},Ie=[...x.filter(K=>{const F=K.name.toLowerCase().includes(_.toLowerCase())||K.phone.includes(_)||K.email.toLowerCase().includes(_.toLowerCase()),se=R==="all"||K.status===R;return F&&se})].sort((K,F)=>{switch(ne){case"name":return K.name.localeCompare(F.name);case"totalSpent":return F.totalSpent-K.totalSpent;case"totalPurchases":return F.totalPurchases-K.totalPurchases;case"date":return new Date(F.createdAt)-new Date(K.createdAt);default:return K.name.localeCompare(F.name)}}),le=(()=>{const K=x.length,F=x.filter(fe=>fe.status==="active").length,se=x.filter(fe=>fe.status==="inactive").length,ge=x.reduce((fe,Me)=>fe+Me.totalSpent,0);return{total:K,active:F,inactive:se,totalSpent:ge}})();return f.jsxs("div",{className:"customer-management",children:[f.jsx("header",{className:"customer-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("button",{onClick:y,className:"back-btn",children:"← Geri"}),f.jsx("h1",{children:"Müştəri İdarəetməsi"})]}),f.jsx("div",{className:"header-right",children:f.jsx("button",{onClick:()=>S(!0),className:"add-btn",children:"+ Müştəri Əlavə Et"})})]})}),f.jsxs("div",{className:"customer-content",children:[f.jsxs("div",{className:"stats-grid",children:[f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"👥"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Müştəri"}),f.jsxs("p",{children:[le.total," nəfər"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"✅"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Aktiv Müştəri"}),f.jsxs("p",{children:[le.active," nəfər"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"💰"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Ümumi Satış"}),f.jsxs("p",{children:[le.totalSpent.toFixed(2)," AZN"]})]})]}),f.jsxs("div",{className:"stat-card",children:[f.jsx("div",{className:"stat-icon",children:"📊"}),f.jsxs("div",{className:"stat-info",children:[f.jsx("h3",{children:"Orta Satış"}),f.jsxs("p",{children:[le.total>0?(le.totalSpent/le.total).toFixed(2):0," AZN"]})]})]})]}),f.jsx("div",{className:"filters",children:f.jsxs("div",{className:"filter-row",children:[f.jsx("div",{className:"filter-group",children:f.jsx("input",{type:"text",placeholder:"🔍 Müştəri adı, telefon və ya email axtar...",value:_,onChange:K=>C(K.target.value),className:"search-input"})}),f.jsx("div",{className:"filter-group",children:f.jsxs("select",{value:R,onChange:K=>z(K.target.value),className:"filter-select",children:[f.jsx("option",{value:"all",children:"📋 Bütün Statuslar"}),f.jsx("option",{value:"active",children:"✅ Aktiv"}),f.jsx("option",{value:"inactive",children:"❌ Qeyri-aktiv"})]})}),f.jsx("div",{className:"filter-group",children:f.jsxs("select",{value:ne,onChange:K=>ce(K.target.value),className:"filter-select",children:[f.jsx("option",{value:"name",children:"📝 Ada görə"}),f.jsx("option",{value:"totalSpent",children:"💰 Satışa görə"}),f.jsx("option",{value:"totalPurchases",children:"🛒 Alış sayına görə"}),f.jsx("option",{value:"date",children:"📅 Tarixə görə"})]})})]})}),f.jsx("div",{className:"customers-table",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Müştəri Adı"}),f.jsx("th",{children:"Telefon"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"Ünvan"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Alış Sayı"}),f.jsx("th",{children:"Ümumi Satış"}),f.jsx("th",{children:"Son Yenilənmə"}),f.jsx("th",{children:"Əməliyyatlar"})]})}),f.jsx("tbody",{children:Ie.map(K=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsxs("div",{className:"customer-info",children:[f.jsx("strong",{children:K.name}),K.notes&&f.jsx("small",{children:K.notes})]})}),f.jsx("td",{children:K.phone}),f.jsx("td",{children:K.email}),f.jsx("td",{children:K.address}),f.jsx("td",{children:f.jsx("span",{className:`status-badge ${K.status}`,children:K.status==="active"?"✅ Aktiv":"❌ Qeyri-aktiv"})}),f.jsx("td",{children:K.totalPurchases}),f.jsxs("td",{children:[K.totalSpent.toFixed(2)," AZN"]}),f.jsx("td",{children:new Date(K.lastUpdated).toLocaleDateString("az-AZ")}),f.jsx("td",{children:f.jsxs("div",{className:"action-buttons",children:[f.jsx("button",{onClick:()=>H(K),className:"edit-btn",children:"Düzənlə"}),f.jsx("button",{onClick:()=>ie(K.id),className:"delete-btn",children:"Sil"})]})})]},K.id))})]})})]}),v&&f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Yeni Müştəri Əlavə Et"}),f.jsx("button",{onClick:()=>S(!1),className:"close-btn",children:"✕"})]}),f.jsxs("form",{onSubmit:we,className:"customer-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Müştəri Adı:"}),f.jsx("input",{type:"text",value:V.name,onChange:K=>pe({...V,name:K.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telefon:"}),f.jsx("input",{type:"tel",value:V.phone,onChange:K=>pe({...V,phone:K.target.value}),required:!0})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email:"}),f.jsx("input",{type:"email",value:V.email,onChange:K=>pe({...V,email:K.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Status:"}),f.jsxs("select",{value:V.status,onChange:K=>pe({...V,status:K.target.value}),children:[f.jsx("option",{value:"active",children:"Aktiv"}),f.jsx("option",{value:"inactive",children:"Qeyri-aktiv"})]})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ünvan:"}),f.jsx("input",{type:"text",value:V.address,onChange:K=>pe({...V,address:K.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Qeydlər:"}),f.jsx("textarea",{value:V.notes,onChange:K=>pe({...V,notes:K.target.value}),rows:"3",placeholder:"Müştəri haqqında əlavə məlumat..."})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-btn",children:"Əlavə Et"}),f.jsx("button",{type:"button",onClick:()=>S(!1),className:"cancel-btn",children:"Ləğv Et"})]})]})]})}),M&&f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:"Müştərini Düzənlə"}),f.jsx("button",{onClick:()=>H(null),className:"close-btn",children:"✕"})]}),f.jsxs("form",{onSubmit:Ce,className:"customer-form",children:[f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Müştəri Adı:"}),f.jsx("input",{type:"text",value:M.name,onChange:K=>H({...M,name:K.target.value}),required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Telefon:"}),f.jsx("input",{type:"tel",value:M.phone,onChange:K=>H({...M,phone:K.target.value}),required:!0})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email:"}),f.jsx("input",{type:"email",value:M.email,onChange:K=>H({...M,email:K.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Status:"}),f.jsxs("select",{value:M.status,onChange:K=>H({...M,status:K.target.value}),children:[f.jsx("option",{value:"active",children:"Aktiv"}),f.jsx("option",{value:"inactive",children:"Qeyri-aktiv"})]})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ünvan:"}),f.jsx("input",{type:"text",value:M.address,onChange:K=>H({...M,address:K.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Qeydlər:"}),f.jsx("textarea",{value:M.notes,onChange:K=>H({...M,notes:K.target.value}),rows:"3",placeholder:"Müştəri haqqında əlavə məlumat..."})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"submit",className:"save-btn",children:"Yadda Saxla"}),f.jsx("button",{type:"button",onClick:()=>H(null),className:"cancel-btn",children:"Ləğv Et"})]})]})]})})]})},jg=({message:p,type:y="info",duration:x=5e3,onClose:A})=>{const[v,S]=Ae.useState(!0),[M,H]=Ae.useState(!1);Ae.useEffect(()=>{if(x>0){const R=setTimeout(()=>{_()},x);return()=>clearTimeout(R)}},[x]);const _=()=>{H(!0),setTimeout(()=>{S(!1),A&&A()},300)},C=()=>{switch(y){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"ℹ️"}};return v?f.jsxs("div",{className:`notification notification-${y} ${M?"notification-exit":""}`,children:[f.jsx("div",{className:"notification-icon",children:C()}),f.jsx("div",{className:"notification-content",children:f.jsx("p",{className:"notification-message",children:p})}),f.jsx("button",{className:"notification-close",onClick:_,children:"✕"}),f.jsx("div",{className:"notification-progress"})]}):null},Bg=({notifications:p,onRemove:y})=>f.jsx("div",{className:"notification-container",children:p.map(x=>f.jsx(jg,{message:x.message,type:x.type,duration:x.duration,onClose:()=>y(x.id)},x.id))}),Lg=()=>{const[p,y]=Ae.useState([]),x=(C,R="info",z=5e3)=>{const ne=Date.now()+Math.random(),ce={id:ne,message:C,type:R,duration:z};return y(V=>[...V,ce]),ne};return{notifications:p,addNotification:x,removeNotification:C=>{y(R=>R.filter(z=>z.id!==C))},clearAll:()=>{y([])},showSuccess:(C,R)=>x(C,"success",R),showError:(C,R)=>x(C,"error",R),showWarning:(C,R)=>x(C,"warning",R),showInfo:(C,R)=>x(C,"info",R)}};function kg(){const[p,y]=Ae.useState("login"),[x,A]=Ae.useState(null),[v,S]=Ae.useState(!1),{notifications:M,removeNotification:H,showSuccess:_,showInfo:C}=Lg();Ae.useEffect(()=>{const V=localStorage.getItem("theme");(V==="dark"||!V&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(S(!0),document.documentElement.setAttribute("data-theme","dark"))},[]);const R=()=>{const V=!v;S(V),V?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),_("Qaranlıq rejim aktivləşdirildi")):(document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme","light"),_("İşıqlı rejim aktivləşdirildi"))},z=V=>{A(V),y(V.isAdmin?"dashboard":"cashier"),_(`Xoş gəlmisiniz, ${V.name}!`)},ne=()=>{C("Çıxış edilir..."),setTimeout(()=>{A(null),y("login"),_("Uğurla çıxış edildi")},500)},ce=()=>{switch(p){case"login":return f.jsx(B0,{onLogin:z,isDarkMode:v,onToggleDarkMode:R});case"dashboard":return f.jsx(Bh,{user:x,onLogout:ne,onViewChange:y,isDarkMode:v,onToggleDarkMode:R});case"admin":return f.jsx(jh,{user:x,onLogout:ne,onViewChange:y,isDarkMode:v,onToggleDarkMode:R});case"cashier":return f.jsx(vg,{user:x,onLogout:ne,onViewChange:y,isDarkMode:v,onToggleDarkMode:R});case"inventory":return f.jsx(bg,{user:x,onBack:()=>y(x.isAdmin?"dashboard":"cashier"),isDarkMode:v});case"reports":return f.jsx(Ng,{user:x,onBack:()=>y(x.isAdmin?"dashboard":"cashier"),isDarkMode:v});case"employees":return f.jsx(Tg,{user:x,onBack:()=>y("dashboard"),isDarkMode:v});case"shift":return f.jsx(Ig,{user:x,onBack:()=>y(x.isAdmin?"dashboard":"cashier"),isDarkMode:v});case"inventory-count":return f.jsx(Mg,{user:x,onBack:()=>y(x.isAdmin?"dashboard":"cashier"),isDarkMode:v});case"finance":return f.jsx(Og,{user:x,onBack:()=>y(x.isAdmin?"dashboard":"cashier"),isDarkMode:v});case"settings":return f.jsx(Dg,{user:x,onBack:()=>y("dashboard"),isDarkMode:v});case"data-manager":return f.jsx(_g,{user:x,onBack:()=>y("dashboard"),isDarkMode:v});case"customers":return f.jsx(Rg,{user:x,onBack:()=>y("dashboard"),isDarkMode:v});default:return f.jsx(B0,{onLogin:z,isDarkMode:v,onToggleDarkMode:R})}};return f.jsxs("div",{className:"App",children:[ce(),f.jsx(Bg,{notifications:M,onRemove:H})]})}const Ug=Rh.createRoot(document.getElementById("root"));Ug.render(f.jsx($0.StrictMode,{children:f.jsx(kg,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
